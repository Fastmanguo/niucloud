import{d as e,S as a,B as s,Q as l,s as r,ax as t,A as o,b as n,x as i,c as d,c8 as c,o as u,e as m,w as p,f as _,u as f,a0 as h,am as g,a1 as b,h as y,n as k,an as w,ao as x,cC as P,i as U,p as v,t as C,ap as I,_ as S}from"./index-VHk1sExB.js";import{u as j,M}from"./useMescroll.Bh35ex94.js";import{M as q}from"./mescroll-empty.uEQNJN_1.js";import"./mescroll-i18n.DUzOixk-.js";const A=S(e({__name:"model",setup(e){const{mescrollInit:S,downCallback:A,getMescroll:V}=j(x,w),z=a({loading:!0,searchParams:{series_name:null,brand_id:null,series_id:null},mescrollUp:{auto:!1,page:{size:50}},list:[],mescrollRef:null,type:""}),B=e=>{let a={page:e.num,limit:e.size,...z.searchParams};P(a).then((a=>{1==e.num&&(z.list=[]),z.list=z.list.concat(a.data.data),e.endSuccess(a.data.data.length)}))},R=()=>{V().resetUpScroll(!0)};s((e=>{if(!e.brand_id)return l({title:r("pages.series.brand_required")});z.type=e.type||"",z.loading=!0,z.searchParams.brand_id=e.brand_id||null,z.searchParams.series_id=e.series_id||null,t((()=>{V().resetUpScroll()}))})),o();return(e,a)=>{const s=n(d("up-navbar"),i),t=n(d("up-search"),c),o=U;return u(),m(o,{style:k(e.themeColor())},{default:p((()=>[_(s,{title:f(r)("pages.series.brand_required"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},null,8,["title"]),_(o,{class:"bg-[#fff] p-2 box-border w-full"},{default:p((()=>[_(t,{placeholder:f(r)("search_series_name"),shape:"square",showAction:!1,modelValue:z.searchParams.series_name,"onUpdate:modelValue":a[0]||(a[0]=e=>z.searchParams.series_name=e),onSearch:R},null,8,["placeholder","modelValue"])])),_:1}),_(M,{ref:e=>z.mescrollRef=e,onInit:f(S),down:{auto:!1},up:z.mescrollUp,onUp:B,onDown:B,top:"0",auto:!1},{default:p((()=>[(u(!0),h(b,null,g(z.list,((e,a)=>(u(),m(o,{key:a,class:"page-item",onClick:a=>{return s=e,void("select"==z.type&&(I("saler_tools_select_model_id",s),l()));var s}},{default:p((()=>[_(o,null,{default:p((()=>[v(C(e.model_name),1)])),_:2},1024),_(o,{class:"text-[var(--theme-color-tips)]"},{default:p((()=>[v(C(e.series_name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),z.loading||z.list.length?y("",!0):(u(),m(q,{key:0,option:{tip:f(r)("no_goods")}},null,8,["option"]))])),_:1},8,["onInit","up"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-86af400a"]]);export{A as default};
