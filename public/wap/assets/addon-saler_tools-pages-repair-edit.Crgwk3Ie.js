import{d as e,S as l,r as t,B as a,b as s,x as o,c as r,aW as c,U as u,$ as n,l as f,bZ as i,ac as d,bY as p,aO as x,o as m,a0 as h,f as v,w as _,p as b,a1 as g,am as y,g as w,v as k,a2 as z,t as C,n as j,cx as A,q as S,i as I,e as B,_ as L}from"./index-VHk1sExB.js";import{c as T}from"./custom-popup.CdItBrdJ.js";/* empty css                                                                     */const U=L(e({__name:"edit",setup(e){const L=l({}),U=t(!1),O=t([{name:"店员1",checked:!1,value:0,selected:!1},{name:"店员2",checked:!1,value:1,selected:!1}]),D=t(""),P=e=>{Array.isArray(e)&&e.length>0?D.value=e[0].name:console.error("无效的索引格式:",e)},q=t(!1),F=t(""),M=e=>{Array.isArray(e)&&e.length>0?F.value=e[0].name:console.error("无效的索引格式:",e)},R=t(!1),W=t([]),Y=l([{name:"镶钻",value:0},{name:"买入",value:1},{name:"测试",value:2}]),Z=t(!1),$=t(!1),E=t([]),G=e=>{E.value.splice(e.index,1)},H=async e=>{let l=[].concat(e.file),t=E.value.length;l.map((e=>{E.value.push({...e,status:"uploading",message:"上传中"})}));for(let a=0;a<l.length;a++){const e=await J(l[a].url);let s=E.value[t];E.value.splice(t,1,{...s,status:"success",message:"",url:e}),t++}},J=e=>new Promise(((l,t)=>{A({url:"http://192.168.2.21:7001/upload",filePath:e,name:"file",formData:{user:"test"},success:e=>{setTimeout((()=>{l(e.data.data)}),1e3)}})})),K=l([{name:"店员1",checked:!1,value:0,selected:!1},{name:"店员2",checked:!1,value:1,selected:!1},{name:"店员3",checked:!1,value:2,selected:!1},{name:"店员4",checked:!1,value:3,selected:!1},{name:"Mia",checked:!1,value:4,selected:!1}]);return a((e=>{L.title="edit"==e.type?"编辑维修保养受理单":"新增维修保养受理单",L.list=e.list,console.log(L)})),(e,l)=>{const t=s(r("up-navbar"),o),a=S,A=I,J=s(r("up-upload"),c),N=s(r("up-input"),u),Q=s(r("up-button"),n),V=s(r("up-icon"),f),X=s(r("up-textarea"),i),ee=s(r("up-modal"),d),le=s(r("up-line"),p),te=s(r("up-popup"),x);return m(),h(g,null,[v(A,{style:j(e.themeColor())},{default:_((()=>[v(t,{title:L.title,autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},null,8,["title"]),v(A,{class:"bg-[#fff] pb-[75px]"},{default:_((()=>[v(A,{class:"break-normal text-red-500 text-sm mb-[5px] bg-[#fefee6] p-[10px]"},{default:_((()=>[v(a,null,{default:_((()=>[b("以下标*信息是必填项，如果当前订单内的人员无法满足您的业务需求，可在")])),_:1}),v(a,{class:"text-amber-500"},{default:_((()=>[b("【维修保养人员类型管理】")])),_:1}),v(a,null,{default:_((()=>[b("中添加")])),_:1})])),_:1}),v(A,{class:"p-3 flex flex-col"},{default:_((()=>[v(A,{class:"flex text-[var(--theme-input-title-size)]"},{default:_((()=>[b(" 商品图片 "),v(A,{class:"text-rose-500"},{default:_((()=>[b("*")])),_:1})])),_:1}),v(A,{class:"flex mt-2 justify-between"},{default:_((()=>[v(J,{fileList:E.value,onAfterRead:H,deletable:!0,onDelete:G,name:"1",multiple:"",previewFullImage:!0,maxCount:9,uploadText:"最多添加9张图片",width:"110",uploadIconColor:"#ffffff",uploadIcon:"/static/assets/warehouse/add-photo.png",height:"110"},null,8,["fileList"])])),_:1})])),_:1}),v(A,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]"},{default:_((()=>[v(A,{class:"flex"},{default:_((()=>[b(" 商品名称 "),v(A,{class:"text-rose-500"},{default:_((()=>[b("*")])),_:1})])),_:1}),v(A,{class:"flex items-center h-[14px] flex-1"},{default:_((()=>[v(N,{placeholder:"请输入商品名称（50字内）",border:"none",inputAlign:"right",placeholderStyle:"color: var(--theme-input-placeholder);text-align: end;"})])),_:1})])),_:1}),v(A,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]"},{default:_((()=>[v(A,{class:"flex"},{default:_((()=>[b(" 独立编码 "),v(A,{class:"text-rose-500"},{default:_((()=>[b("*")])),_:1})])),_:1}),v(A,{class:"flex items-center h-[14px] flex-1"},{default:_((()=>[v(N,{placeholder:"请输入商品的独立编码",border:"none",inputAlign:"right",placeholderStyle:"color: var(--theme-input-placeholder);text-align: end;"})])),_:1})])),_:1}),v(A,{class:"p-3 flex items-center justify-between text-[28rpx]"},{default:_((()=>[v(A,{class:"flex"},{default:_((()=>[b(" 服务类型（可多选） "),v(A,{class:"text-rose-500"},{default:_((()=>[b("*")])),_:1})])),_:1}),v(A,{class:"text-[var(--theme-color-primary)]",onClick:l[0]||(l[0]=e=>Z.value=!Z.value)},{default:_((()=>[b(" 删除 ")])),_:1})])),_:1}),v(A,{class:"px-3 flex flex-wrap items-center"},{default:_((()=>[(m(!0),h(g,null,y(Y,((e,l)=>(m(),B(A,{class:"relative overflow-hidden rounded mr-2 mb-2"},{default:_((()=>[v(Q,{text:e.name,plain:"",color:"var(--theme-color-content)",closable:Z.value,onClick:l=>(e=>{const l=W.value.indexOf(e);l>-1?W.value.splice(l,1):W.value.push(e)})(e.name),class:z(["!border-none",{"tag-item":W.value.includes(e.name),"tag-unselected":!W.value.includes(e.name)}])},null,8,["text","closable","onClick","class"]),w(v(A,{class:"flex items-center justify-start h-[40px] w-[40px] absolute bg-[var(--theme-color-primary)] top-[24px] right-[-24px]",style:{transform:"rotate(45deg)"}},{default:_((()=>[v(V,{name:"checkbox-mark",size:"12",color:"#fff",style:{transform:"rotate(-45deg)"}})])),_:2},1536),[[k,W.value.includes(e.name)]]),w(v(A,{class:"flex items-end justify-center h-[40px] w-[40px] absolute bg-rose-500 top-[-24px] right-[-24px]",style:{transform:"rotate(45deg)"}},{default:_((()=>[v(V,{name:"close",size:"11",color:"#fff",style:{transform:"rotate(45deg)"},onClick:e=>(e=>{Y.splice(e,1)})(l)},null,8,["onClick"])])),_:2},1536),[[k,Z.value]])])),_:2},1024)))),256)),v(A,{class:"relative overflow-hidden rounded"},{default:_((()=>[v(Q,{text:"自定义",class:"!bg-[var(--theme-select-bg)] !text-[var(--theme-color-main)] !border-none mb-2 py-0",color:"var(--theme-input-placeholder)",onClick:l[1]||(l[1]=e=>R.value=!0),icon:"plus",iconColor:"var(--theme-color-primary)",style:{width:"auto"}}),w(v(A,{class:"hidden flex items-end justify-center h-[40px] w-[40px] absolute bg-rose-500 top-[-24px] right-[-24px]",style:{transform:"rotate(45deg)"}},{default:_((()=>[v(V,{name:"close",size:"11",color:"#fff",style:{transform:"rotate(45deg)"}})])),_:1},512),[[k,Z.value]])])),_:1})])),_:1}),v(A,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]"},{default:_((()=>[v(A,{class:"flex"},{default:_((()=>[b(" 预计收费金额 ")])),_:1}),v(A,{class:"flex-1 flex items-center h-[14px]"},{default:_((()=>[v(N,{placeholder:"请输入服务所需的费用，不填默认为0",border:"none",inputAlign:"right",placeholderStyle:"color: var(--theme-input-placeholder);text-align: end"})])),_:1})])),_:1}),v(A,{class:"p-3 flex items-center justify-between text-[28rpx]"},{default:_((()=>[v(A,{class:"flex"},{default:_((()=>[b(" 预计服务成本 "),v(A,{class:"text-rose-500"},{default:_((()=>[b("*")])),_:1})])),_:1}),v(A,{class:"text-[var(--theme-color-primary)]",onClick:l[2]||(l[2]=e=>$.value=!$.value)},{default:_((()=>[b(" 新增 ")])),_:1})])),_:1}),v(A,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]",onClick:l[3]||(l[3]=e=>U.value=!0)},{default:_((()=>[v(A,{class:"flex"},{default:_((()=>[b(" 服务人员 ")])),_:1}),v(A,{class:"flex items-center h-[14px] text-[15px]"},{default:_((()=>[v(A,{class:z([D.value?"text-[var(--theme-color-main)]":"!text-[var(--theme-input-placeholder)]","text-[var(--theme-input-font-size)]"])},{default:_((()=>[b(C(D.value?D.value:"请选择服务人员"),1)])),_:1},8,["class"]),v(V,{name:"arrow-right",size:"13",color:"var(--theme-input-placeholder)",class:"ml-[5rpx]"})])),_:1})])),_:1}),v(A,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]",onClick:l[4]||(l[4]=e=>q.value=!0)},{default:_((()=>[v(A,{class:"flex"},{default:_((()=>[b(" 接单人员 ")])),_:1}),v(A,{class:"flex items-center h-[14px] text-[15px]"},{default:_((()=>[v(A,{class:z([F.value?"text-[var(--theme-color-main)]":"!text-[var(--theme-input-placeholder)]","text-[var(--theme-input-font-size)]"])},{default:_((()=>[b(C(F.value?F.value:"请选择服务人员"),1)])),_:1},8,["class"]),v(V,{name:"arrow-right",size:"13",color:"var(--theme-input-placeholder)",class:"ml-[5rpx]"})])),_:1})])),_:1}),v(A,{class:"p-3 flex flex-col remark-card"},{default:_((()=>[v(A,{class:"flex justify-between items-center text-[var(--theme-input-title-size)]"},{default:_((()=>[b(" 备注 ")])),_:1}),v(A,{class:"my-2 flex flex-col !box-border"},{default:_((()=>[v(X,{placeholder:"例如：机芯损坏，需要返厂维修，时长半个月...",count:"",maxlength:"250"})])),_:1})])),_:1}),v(A,{class:"p-3 flex flex-col remark-card"},{default:_((()=>[v(A,{class:"flex justify-between items-center text-[var(--theme-input-title-size)]"},{default:_((()=>[b(" 客户信息 ")])),_:1}),v(A,{class:"my-2 flex flex-col !box-border"},{default:_((()=>[v(X,{placeholder:"例如：张三 13077584114 浙江省 杭州市 西湖区 余杭塘路866号 浙江大学（限250字）",count:"",maxlength:"250"})])),_:1})])),_:1})])),_:1}),v(A,{class:"fixed bottom-0 left-0 w-full box-border bg-[#fff] z-100 pb-[25px]"},{default:_((()=>[v(Q,{text:"add"==L.type?"确认创建服务":"保存",class:"!text-[#fff] !bg-[var(--theme-color-primary)] !border-none",size:"large"},null,8,["text"])])),_:1})])),_:1},8,["style"]),v(T,{show:U.value,title:"请选择服务人员",list:O.value,tooltip:"显示该店铺历史全部员工",subhead:"服务人员",checkboxLabel:"显示全部员工","onUpdate:show":l[5]||(l[5]=e=>U.value=e),onSelect:P,selectItemSize:"normal",showSearch:!0},null,8,["show","list"]),v(T,{show:q.value,title:"请选择接单人员",list:K,tooltip:"显示该店铺历史全部员工",subhead:"接单人员",checkboxLabel:"显示全部员工","onUpdate:show":l[6]||(l[6]=e=>q.value=e),onSelect:M,selectItemSize:"normal",showSearch:!0},null,8,["show","list"]),v(ee,{show:R.value,"onUpdate:show":l[10]||(l[10]=e=>R.value=e),width:300,showConfirmButton:!1,contentTextAlign:"center"},{confirmButton:_((()=>[v(A,{class:"flex gap-3"},{default:_((()=>[v(Q,{onClick:l[8]||(l[8]=e=>R.value=!1),class:"!text-[var(--theme-color-main)]",color:"#f4f5f7",text:"取消"}),v(Q,{text:"确定",onClick:l[9]||(l[9]=e=>R.value=!1),color:"var(--theme-color-primary)"})])),_:1})])),default:_((()=>[v(A,{class:"flex flex-col items-center w-full"},{default:_((()=>[v(A,{class:"flex !text-center font-bold text-base mb-3"},{default:_((()=>[b(" 添加自定义服务类型 ")])),_:1}),v(A,{class:"flex flex-col !box-border w-full !bg-[#f4f5f7] p-2 !rounded"},{default:_((()=>[v(N,{placeholder:"请输入自定义服务类型（限10个字）",border:"none",onChange:l[7]||(l[7]=()=>{}),inputAlign:"center"})])),_:1})])),_:1})])),_:1},8,["show"]),v(te,{show:$.value,onClose:l[14]||(l[14]=e=>$.value=!1),onOpen:l[15]||(l[15]=e=>$.value=!0)},{default:_((()=>[v(A,{class:"p-3 flex justify-between items-center"},{default:_((()=>[v(A),v(A,{class:"flex !text-center font-bold text-[30rpx] text-[var(--theme-color-main)]"},{default:_((()=>[b(" 新增服务成本 ")])),_:1}),v(V,{name:"close",size:"15",onClick:l[11]||(l[11]=e=>$.value=!1)})])),_:1}),v(le),v(A,{class:"p-3 flex flex-col text-[var(--theme-input-title-size)]"},{default:_((()=>[v(A,{class:"flex mb-1"},{default:_((()=>[b(" 维修内容 "),v(A,{class:"text-rose-500"},{default:_((()=>[b("*")])),_:1})])),_:1}),v(A,{class:"bg-[var(--theme-input-bg)] rounded p-2"},{default:_((()=>[v(N,{placeholder:"请输入维修内容",border:"none",inputAlign:"left",placeholderStyle:"color: var(--theme-input-placeholder);"})])),_:1})])),_:1}),v(A,{class:"p-3 flex flex-col text-[var(--theme-input-title-size)]"},{default:_((()=>[v(A,{class:"flex mb-1"},{default:_((()=>[b(" 服务成本 "),v(A,{class:"text-rose-500"},{default:_((()=>[b("*")])),_:1})])),_:1}),v(A,{class:"bg-[var(--theme-input-bg)] rounded p-2"},{default:_((()=>[v(N,{placeholder:"请输入服务成本",border:"none",inputAlign:"left",placeholderStyle:"color: var(--theme-input-placeholder);"})])),_:1})])),_:1}),v(A,{class:"flex gap-3 mb-5 p-3"},{default:_((()=>[v(Q,{onClick:l[12]||(l[12]=e=>$.value=!1),class:"!text-[var(--theme-color-main)]",color:"#f4f5f7",text:"取消"}),v(Q,{text:"确定",onClick:l[13]||(l[13]=e=>$.value=!1),color:"var(--theme-color-primary)"})])),_:1})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-381334ae"]]);export{U as default};
