import{d as e,r as t,a7 as l,b as a,m as s,c as o,$ as n,aO as c,o as r,e as u,w as f,f as d,p as i,t as x,h as m,a0 as p,am as v,a1 as h,i as _,S as y,l as b,x as w,cc as C,ce as k,bY as g,ac as j,g as B,v as I,u as z,n as S,a as M,an as U,ao as A,q as O,_ as T}from"./index-VHk1sExB.js";import{u as q,M as R}from"./useMescroll.Bh35ex94.js";import{M as W}from"./mescroll-empty.uEQNJN_1.js";import"./mescroll-i18n.DUzOixk-.js";const Y=e({__name:"bound-popup",props:{show:{type:Boolean,default:!1},title:{type:String,default:"商品入库"},avatar:{type:String},description:{type:String},buttons:{type:Array,default:()=>[]}},emits:["update:show","item-click"],setup(e,{emit:y}){const b=e,w=y,C=t(b.show);l((()=>b.show),(e=>{C.value=e})),l((()=>C.value),(e=>{w("update:show",e)}));const k=()=>{C.value=!1};return(t,l)=>{const y=_,b=a(o("up-image"),s),g=a(o("u-button"),n),j=a(o("up-popup"),c);return r(),u(j,{show:C.value,"onUpdate:show":l[0]||(l[0]=e=>C.value=e),closeOnClickOverlay:!0,class:"z-[1000]",onClose:k},{default:f((()=>[d(y,{class:"pb-[100rpx] p-[30rpx] box-border"},{default:f((()=>[d(y,{class:"font-bold text-[30rpx] text-center"},{default:f((()=>[i(x(e.title),1)])),_:1}),d(y,{class:"flex flex-col items-center justify-center text-[24rpx]"},{default:f((()=>[d(y,{class:"my-[20rpx] flex items-center"},{default:f((()=>[e.avatar?(r(),u(b,{key:0,"show-loading":!0,src:e.avatar,width:"18px",radius:"25%",height:"18px"},null,8,["src"])):m("",!0),e.description?(r(),u(y,{key:1,class:"text-[#909399] ml-[10rpx]"},{default:f((()=>[i(x(e.description),1)])),_:1})):m("",!0)])),_:1}),(r(!0),p(h,null,v(e.buttons,((e,t)=>(r(),u(g,{key:t,class:"w-[100%] my-[10rpx]",color:"#f7f7f7",customStyle:"color:#303133",size:"large",onClick:t=>{w("item-click",e)}},{default:f((()=>[i(x(e.name),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["show"])}}}),$=T(e({__name:"list",setup(e){const l=y({title:"盘点临时仓：测试仓库1"}),s=t(!1),T=t(!1),$=t(0),P=t(!1),X=y([{name:"进行中"},{name:"已完成"}]),D=t(0),E=e=>{D.value=e.index},F=e=>{M({url:`/addon/saler_tools/pages/commodityInventory/underway?checkCode=${e.checkCode}`})},G=t(!1),H=(e,t)=>{console.log("Clicked item:",e,"Type:",t),M({url:e,param:{type:t}}),G.value=!1},{mescrollInit:J,downCallback:K,getMescroll:L}=q(A,U),N=t(!0),Q=t([]);return Q.value=Q.value.concat([{checkCode:"13075",founder:"Mia",time:"2022-04-01 11:11:22",shouldBeCounted:3,haveBeenCounted:0,exist:0,miss:0},{checkCode:"13076",founder:"Mia",time:"2022-04-01 11:11:22",shouldBeCounted:0,haveBeenCounted:0,exist:0,miss:0},{checkCode:"13077",founder:"Mia",time:"2022-04-01 11:11:22",shouldBeCounted:0,haveBeenCounted:0,exist:0,miss:0}]),(e,t)=>{const y=a(o("up-icon"),b),M=_,U=a(o("up-navbar"),w),A=a(o("up-tabs"),C),q=O,K=a(o("up-divider"),k),L=a(o("up-button"),n),V=a(o("up-line"),g),Z=a(o("up-popup"),c),ee=a(o("up-modal"),j);return r(),p(h,null,[d(M,{style:S(e.themeColor())},{default:f((()=>[d(U,{title:"商品盘点",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{center:f((()=>[d(M,null,{default:f((()=>[d(y,{name:"question-circle",label:"商品盘点",labelPos:"left",onClick:t[0]||(t[0]=e=>s.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"})])),_:1})])),_:1}),d(M,{class:"mescroll-fixed-header !bg-[#f4f4f4]"},{default:f((()=>[d(M,{class:"bg-[#fff] py-2"},{default:f((()=>[d(A,{list:X,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:E,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1})])),_:1}),d(M,{class:"break-normal text-amber-500 text-xs bg-[#fefee6] p-[10px]"},{default:f((()=>[d(q,null,{default:f((()=>[i("如果盘点结束，记得点击【完成】哦~")])),_:1})])),_:1}),B(d(M,null,{default:f((()=>[d(R,{ref:"mescrollRef",onInit:z(J),onUp:t[3]||(t[3]=()=>{}),top:"0"},{default:f((()=>[Q.value.length?(r(),u(M,{key:0,class:""},{default:f((()=>[(r(!0),p(h,null,v(Q.value,((e,a)=>(r(),u(M,{key:a,class:"flex flex-col bg-[#fff] m-2 rounded box-border text-[var(--theme-color-main)] text-xs leading-6 pb-3 relative"},{default:f((()=>[d(M,{onClick:t=>F(e)},{default:f((()=>[d(M,{class:"pr-3 my-3 text-xs flex justify-between items-center box-border"},{default:f((()=>[d(M,{class:"px-3 py-1 bg-[var(--theme-text-blue)] text-[#fff] rounded-r"},{default:f((()=>[i(" 商品位置盘点 ")])),_:1}),d(M,{class:"flex justify-start items-center text-[var(--theme-color-content)]"},{default:f((()=>[d(M,null,{default:f((()=>[i("盘点编号："+x(e.checkCode),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(M,{class:"px-3 text-sm"},{default:f((()=>[i(x(l.title),1)])),_:1}),d(M,{class:"flex justify-between items-center my-2 text-sm"},{default:f((()=>[d(M,{class:"w-1/4 flex flex-col items-center"},{default:f((()=>[d(M,{class:"text-[var(--theme-color-main)] text-sm"},{default:f((()=>[i(x(e.shouldBeCounted),1)])),_:2},1024),d(M,{class:"text-[var(--theme-color-content)] text-xs"},{default:f((()=>[i(" 应盘商品 ")])),_:1})])),_:2},1024),d(M,{class:"w-1/4 flex flex-col items-center"},{default:f((()=>[d(M,{class:"text-[var(--theme-color-main)] text-sm"},{default:f((()=>[i(x(e.haveBeenCounted),1)])),_:2},1024),d(M,{class:"text-[var(--theme-color-content)] text-xs"},{default:f((()=>[i(" 已盘商品 ")])),_:1})])),_:2},1024),d(M,{class:"w-1/4 flex flex-col items-center"},{default:f((()=>[d(M,{class:"text-[var(--theme-color-main)] text-sm"},{default:f((()=>[i(x(e.exist),1)])),_:2},1024),d(M,{class:"text-[var(--theme-color-content)] text-xs"},{default:f((()=>[i(" 存在商品 ")])),_:1})])),_:2},1024),d(M,{class:"w-1/4 flex flex-col items-center"},{default:f((()=>[d(M,{class:"text-[var(--theme-color-main)] text-sm"},{default:f((()=>[i(x(e.miss),1)])),_:2},1024),d(M,{class:"text-[var(--theme-color-content)] text-xs"},{default:f((()=>[i(" 缺失商品 ")])),_:1})])),_:2},1024)])),_:2},1024),d(M,{class:"px-3 mb-1 text-[var(--theme-color-content)]",onClick:t=>F(e)},{default:f((()=>[i(" 盘点人："+x(e.founder),1)])),_:2},1032,["onClick"]),d(M,{class:"px-3 text-[var(--theme-color-content)]"},{default:f((()=>[i(" 创建人："+x(e.founder),1)])),_:2},1024)])),_:2},1032,["onClick"]),d(K,{class:"!p-0 !my-2",hairline:!0}),d(M,{class:"px-3 text-[var(--theme-color-content)] flex justify-between items-center"},{default:f((()=>[i(" 创建时间："+x(e.time)+" ",1),d(M,{class:"flex justify-end items-center"},{default:f((()=>[d(L,{text:"删除",color:"var(--theme-text-red)",size:"small",class:"mx-2",onClick:t[1]||(t[1]=e=>T.value=!0)}),d(L,{text:"完成",color:"var(--theme-color-primary)",size:"small",onClick:t[2]||(t[2]=e=>P.value=!0)})])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:1})):m("",!0),Q.value.length||N.value?m("",!0):(r(),u(W,{key:1,option:{tip:"暂无数据"}}))])),_:1},8,["onInit"])])),_:1},512),[[I,0==D.value]]),B(d(M,null,{default:f((()=>[d(R,{ref:"mescrollRef",onInit:z(J),onUp:t[5]||(t[5]=()=>{}),top:"0"},{default:f((()=>[Q.value.length?(r(),u(M,{key:0,class:""},{default:f((()=>[(r(!0),p(h,null,v(Q.value,((e,a)=>(r(),u(M,{key:a,class:"flex flex-col bg-[#fff] m-2 rounded box-border text-[var(--theme-color-main)] text-xs leading-6 pb-3 relative"},{default:f((()=>[d(M,{onClick:t=>F(e)},{default:f((()=>[d(M,{class:"pr-3 my-3 text-xs flex justify-between items-center box-border"},{default:f((()=>[d(M,{class:"px-3 py-1 bg-[var(--theme-text-blue)] text-[#fff] rounded-r"},{default:f((()=>[i(" 商品位置盘点 ")])),_:1}),d(M,{class:"flex justify-start items-center text-[var(--theme-color-content)]"},{default:f((()=>[d(M,null,{default:f((()=>[i("盘点编号："+x(e.checkCode),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),d(M,{class:"px-3 text-sm"},{default:f((()=>[i(x(l.title),1)])),_:1}),d(M,{class:"flex justify-between items-center my-2 text-sm"},{default:f((()=>[d(M,{class:"w-1/4 flex flex-col items-center"},{default:f((()=>[d(M,{class:"text-[var(--theme-color-main)] text-sm"},{default:f((()=>[i(x(e.shouldBeCounted),1)])),_:2},1024),d(M,{class:"text-[var(--theme-color-content)] text-xs"},{default:f((()=>[i(" 应盘商品 ")])),_:1})])),_:2},1024),d(M,{class:"w-1/4 flex flex-col items-center"},{default:f((()=>[d(M,{class:"text-[var(--theme-color-main)] text-sm"},{default:f((()=>[i(x(e.haveBeenCounted),1)])),_:2},1024),d(M,{class:"text-[var(--theme-color-content)] text-xs"},{default:f((()=>[i(" 已盘商品 ")])),_:1})])),_:2},1024),d(M,{class:"w-1/4 flex flex-col items-center"},{default:f((()=>[d(M,{class:"text-[var(--theme-color-main)] text-sm"},{default:f((()=>[i(x(e.exist),1)])),_:2},1024),d(M,{class:"text-[var(--theme-color-content)] text-xs"},{default:f((()=>[i(" 存在商品 ")])),_:1})])),_:2},1024),d(M,{class:"w-1/4 flex flex-col items-center"},{default:f((()=>[d(M,{class:"text-[var(--theme-color-main)] text-sm"},{default:f((()=>[i(x(e.miss),1)])),_:2},1024),d(M,{class:"text-[var(--theme-color-content)] text-xs"},{default:f((()=>[i(" 缺失商品 ")])),_:1})])),_:2},1024)])),_:2},1024),d(M,{class:"px-3 mb-1 text-[var(--theme-color-content)]",onClick:t=>F(e)},{default:f((()=>[i(" 盘点人："+x(e.founder),1)])),_:2},1032,["onClick"]),d(M,{class:"px-3 text-[var(--theme-color-content)]"},{default:f((()=>[i(" 创建人："+x(e.founder),1)])),_:2},1024)])),_:2},1032,["onClick"]),d(K,{class:"!p-0 !my-2",hairline:!0}),d(M,{class:"px-3 text-[var(--theme-color-content)] flex justify-between items-center"},{default:f((()=>[i(" 创建时间："+x(e.time)+" ",1),d(M,{class:"flex justify-end items-center"},{default:f((()=>[d(L,{text:"删除",color:"var(--theme-text-red)",size:"small",onClick:t[4]||(t[4]=e=>T.value=!0)})])),_:1})])),_:2},1024)])),_:2},1024)))),128))])),_:1})):m("",!0),Q.value.length||N.value?m("",!0):(r(),u(W,{key:1,option:{tip:"暂无数据"}}))])),_:1},8,["onInit"])])),_:1},512),[[I,1==D.value]]),d(M,{class:"fixed bottom-0 left-0 w-full box-border bg-[#fff] z-100 p-3 h-[80px]",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:f((()=>[d(L,{text:"创建商品盘点",class:"!text-[#fff] !bg-[var(--theme-color-primary)] !border-none",onClick:t[6]||(t[6]=e=>G.value=!0)})])),_:1})])),_:1},8,["style"]),d(Z,{show:s.value,mode:"bottom",onClose:t[8]||(t[8]=e=>s.value=!1),onOpen:t[9]||(t[9]=e=>s.value=!0)},{default:f((()=>[d(M,{class:"p-4 flex justify-between items-center"},{default:f((()=>[d(M),d(M,{class:"flex !text-center font-bold text-[30rpx]"},{default:f((()=>[i("商品盘点")])),_:1}),d(y,{name:"close",size:"15",onClick:t[7]||(t[7]=e=>s.value=!1)})])),_:1}),d(V),d(M,{class:"p-4 flex flex-col"},{default:f((()=>[d(M,null,{default:f((()=>[i(" 商品支持多种方式的盘点 ")])),_:1}),d(M,{style:{"text-indent":"1em"}},{default:f((()=>[i(" 1.仓库盘点 ")])),_:1}),d(M,{style:{"text-indent":"1em"}},{default:f((()=>[i(" 2.临时仓盘点 ")])),_:1}),d(M,{style:{"text-indent":"1em"}},{default:f((()=>[i(" 3.质押商品盘点 ")])),_:1}),d(M,{style:{"text-indent":"1em"}},{default:f((()=>[i(" 4.商品位置盘点 ")])),_:1}),d(M,{style:{"text-indent":"1em"}},{default:f((()=>[i(" 5.支持扫码盘点:需商品提前挂好二维码标签 ")])),_:1})])),_:1})])),_:1},8,["show"]),d(ee,{show:T.value,"onUpdate:show":t[12]||(t[12]=e=>T.value=e),width:300,showConfirmButton:!1,contentTextAlign:"center"},{confirmButton:f((()=>[d(M,{class:"flex gap-3"},{default:f((()=>[d(L,{onClick:t[10]||(t[10]=e=>T.value=!1),class:"!text-[#303133]",color:"#f4f5f7",text:"取消"}),d(L,{text:"确定",onClick:t[11]||(t[11]=e=>{return t=$.value,Q.value.splice(t,1),void(T.value=!1);var t}),color:"#e0b87a"})])),_:1})])),default:f((()=>[d(M,{class:"!box-border w-full text-[var(--theme-color-main)] text-center"},{default:f((()=>[d(q,null,{default:f((()=>[i("您将删除【"+x(l.title)+"】",1)])),_:1})])),_:1})])),_:1},8,["show"]),d(ee,{show:P.value,"onUpdate:show":t[15]||(t[15]=e=>P.value=e),width:300,showConfirmButton:!1,contentTextAlign:"center"},{confirmButton:f((()=>[d(M,{class:"flex gap-3"},{default:f((()=>[d(L,{onClick:t[13]||(t[13]=e=>P.value=!1),class:"!text-[#303133]",color:"#f4f5f7",text:"取消"}),d(L,{text:"确定",onClick:t[14]||(t[14]=e=>P.value=!1),color:"#e0b87a"})])),_:1})])),default:f((()=>[d(M,{class:"!box-border w-full text-[var(--theme-color-main)] text-center"},{default:f((()=>[d(q,null,{default:f((()=>[i("您将完成【"+x(l.title)+"】",1)])),_:1})])),_:1})])),_:1},8,["show"]),d(Y,{show:G.value,title:"选择盘点类型",buttons:[{name:"仓库盘点",url:"/addon/saler_tools/pages/commodityInventory/warehouse",type:"select"},{name:"临时仓库点",url:"/addon/saler_tools/pages/commodityInventory/temporaryWarehouse",type:"select"},{name:"质押商品盘点",url:"/addon/saler_tools/pages/commodityInventory/pledge",type:"select"},{name:"商品位置盘点",url:"/addon/saler_tools/pages/commodityInventory/position",type:"select"}],"onUpdate:show":t[16]||(t[16]=e=>G.value=e),onItemClick:H},null,8,["show"])],64)}}}),[["__scopeId","data-v-c95a1a86"]]);export{$ as default};
