import{d as e,r as a,S as t,a7 as l,b as s,l as o,c as r,bY as c,b$ as d,c0 as n,U as i,$ as u,aO as m,o as p,e as f,w as x,f as _,p as y,a0 as h,am as b,a1 as v,t as w,af as g,a as k,ap as V,E as C,s as j,i as z,al as U,_ as S}from"./index-VHk1sExB.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang.B7--v8If.js";const A=S(e({__name:"custom-cost-item",props:{show:{type:Boolean,default:!1},list:{type:Array,default:null}},emits:["close","submit","delete"],setup(e,{expose:S,emit:A}){const O=a(),$=e,B=A,E={cost_id:null,cost_name:null,money:null,images:[]},F=t({show:!1,data:{},list:[],index:void 0});l((()=>$.show),(e=>{F.show=e}),{immediate:!0}),l((()=>$.list),(e=>{F.list=e}),{deep:!0});const I=()=>{F.show=!1},R=()=>{k({url:"/addon/saler_tools/pages/base/edit",param:{key:"cost_type"},success:()=>{V("saler_tools_edit_key","cost_type")}})},Y=e=>{var a;F.data.money&&0!=F.data.money||null==(a=O.value)||a.doFocus()},D=()=>F.data.cost_name?F.data.money?(B("submit",F.data,F.index),void(F.show=!1)):C({icon:"none",title:j("goods_cost.form.money_required")}):C({icon:"none",title:j("goods_cost.form.cost_name_required")}),G=()=>{B("delete",F.index),F.show=!1};return S({open:(e,a=void 0)=>{F.data=e||g(E),F.index=a,F.show=!0}}),(e,a)=>{const t=z,l=s(r("up-icon"),o),g=s(r("up-line"),c),k=s(r("up-radio"),d),V=s(r("up-radio-group"),n),C=U,j=s(r("up-input"),i),S=s(r("up-button"),u),A=s(r("up-popup"),m);return p(),f(A,{show:F.show,mode:"bottom",onClose:I,onOpen:a[3]||(a[3]=()=>{}),class:"append-popup"},{default:x((()=>[_(t,{class:"p-3 flex justify-between items-center"},{default:x((()=>[_(t),_(t,{class:"flex !text-center font-bold text-[30rpx]"},{default:x((()=>[y("添加附加成本")])),_:1}),_(l,{name:"close",size:"15",onClick:I})])),_:1}),_(g),_(t,{class:"p-3 cost-card"},{default:x((()=>[_(t,{class:"mb-2 flex justify-between items-center"},{default:x((()=>[_(t,{class:"flex text-[28rpx] text-[#000]"},{default:x((()=>[y(" 选择类型 "),_(t,{class:"text-rose-500"},{default:x((()=>[y("*")])),_:1})])),_:1}),_(t,{class:"flex justify-end items-center",onClick:R},{default:x((()=>[_(l,{name:"plus-circle-fill",color:"var(--theme-color-primary)",size:"15"}),_(t,{class:"h-[17px] text-xs text-[var(--theme-color-primary)] ml-1"},{default:x((()=>[y("添加类型")])),_:1})])),_:1})])),_:1}),_(C,{class:"border-solid border-[#f4f5f7] border-1 rounded max-h-[120px] overflow-y-auto cost-type-list","show-scrollbar":"","scroll-y":"true"},{default:x((()=>[_(V,{modelValue:F.data.cost_name,"onUpdate:modelValue":a[0]||(a[0]=e=>F.data.cost_name=e),placement:"column",class:"px-3 py-2",onChange:Y},{default:x((()=>[(p(!0),h(v,null,b(F.list,((e,a)=>(p(),f(k,{customStyle:{margin:"0"},key:a,label:e.value,name:e.value,activeColor:"var(--theme-color-primary)"},null,8,["label","name"])))),128))])),_:1},8,["modelValue"])])),_:1}),_(t,{class:"flex flex-col gap-y-[10px] mt-[10px]"},{default:x((()=>[_(t,null,{default:x((()=>[y(" 已选择类型："+w(F.data.cost_name),1)])),_:1}),_(g),_(t,{class:"flex justify-between items-center"},{default:x((()=>[_(t,{class:"flex text-[28rpx] text-[#303133]"},{default:x((()=>[y(" 金额 "),_(t,{class:"text-rose-500"},{default:x((()=>[y("*")])),_:1})])),_:1}),_(j,{placeholder:"请输入金额",border:"none",inputAlign:"right",type:"digit",modelValue:F.data.money,"onUpdate:modelValue":a[1]||(a[1]=e=>F.data.money=e),ref_key:"moneyRef",ref:O,placeholderStyle:"color: #c0c4cc;font-size:25rpx;text-align: end;"},null,8,["modelValue"])])),_:1}),_(g),_(t,{class:"flex flex-col"},{default:x((()=>[_(t,{class:"text-[28rpx] text-[#303133 mb-2"},{default:x((()=>[y("图片")])),_:1}),_(q,{width:"80",height:"80","icon-size":"30",max:"3",modelValue:F.data.images,"onUpdate:modelValue":a[2]||(a[2]=e=>F.data.images=e),"result-type":"array","value-type":"array"},{default:x((()=>[_(t,{class:"flex flex-col justify-center items-center bg-[#f4f5f7] w-[80px] h-[80px]"},{default:x((()=>[_(l,{size:"30",name:"camera-fill",color:"var(--theme-color-primary)"}),_(t,{class:"text-[#999] text-[12px]"},{default:x((()=>[y("最多3张图片")])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),_(t,{class:"flex gap-3 main-fix-footer !relative mt-[10px]"},{default:x((()=>[void 0===F.index?(p(),f(S,{key:0,class:"!text-[#606266]",color:"#909399",plain:"",text:"取消",onClick:I})):(p(),f(S,{key:1,class:"!text-[#606266]",color:"#909399",plain:"",text:"删除",onClick:G})),_(S,{text:"保存",color:"var(--theme-color-primary)",onClick:D})])),_:1})])),_:1})])),_:1},8,["show"])}}}),[["__scopeId","data-v-1b9c2366"]]);export{A as c};
