import{d as e,S as l,r as a,s as t,b as s,l as o,c as r,x as i,c8 as n,cc as c,b$ as d,c0 as u,cb as m,m as f,bG as p,ct as _,$ as x,ce as v,bY as y,aO as h,bZ as b,o as g,a0 as k,f as w,w as C,u as j,p as S,t as z,g as V,v as P,I as U,a1 as I,am as M,e as O,h as R,n as q,E as A,an as B,ao as E,i as K,K as Y,a as $,af as D,ax as G,_ as T}from"./index-VHk1sExB.js";import{u as W,M as X}from"./useMescroll.Bh35ex94.js";import{M as Z}from"./mescroll-empty.uEQNJN_1.js";import{i as F,e as H}from"./order.Bb9wm7Q6.js";import{s as J}from"./index.Cs12rJwX.js";import{_ as L}from"./index.vue_vue_type_script_setup_true_lang.DPPZ6MeD.js";import"./mescroll-i18n.DUzOixk-.js";import"./index.CNqs6UPm.js";import"./index.D0Ed4zTg.js";import"./auth.CqjcWN4L.js";/* empty css                                                                     */const N=T(e({__name:"list",setup(e){const T=l({type:"",list:[],searchParams:{search:"",__order__:"",is_delivery:0},mescrollRef:null,mescrollUp:{page:{size:10}}}),N=e=>0===e.is_delivery?t("not_shipped"):1===e.is_delivery?t("shipped"):2===e.is_delivery?t("returned_goods"):t("not_shipped"),Q=a(!1),ee=l([{name:"待发货",value:0},{name:"已发货",value:1}]),le=e=>{T.searchParams.is_delivery=e.value,ce().resetUpScroll()},ae=a(!1),te=a(t("by_latest_delivery")),se=l([{label:t("by_latest_delivery"),value:"delivery_time,desc"},{label:t("by_longest_delivery"),value:"delivery_time,asc"}]),oe=a(),re=l({show:!1,form:{},index:0}),{mescrollInit:ie,downCallback:ne,getMescroll:ce}=W(E,B),de=a(!0),ue=e=>{let l={page:e.num,limit:e.size,...T.searchParams};de.value=!0,H(l).then((l=>{let a=l.data.data;e.endSuccess(a.length),1==e.num&&(T.list=[]),T.list=T.list.concat(a),e.endSuccess(l.data.data.length),de.value=!1})).catch((()=>{de.value=!1,e.endErr()}))};return(e,l)=>{const a=s(r("up-icon"),o),B=K,E=s(r("up-navbar"),i),W=s(r("up-search"),n),H=s(r("up-tabs"),c),ne=s(r("up-radio"),d),me=s(r("up-radio-group"),u),fe=s(r("up-overlay"),m),pe=s(r("up-image"),f),_e=s(r("up-text"),p),xe=s(r("up-copy"),_),ve=s(r("up-button"),x),ye=s(r("up-divider"),v),he=s(r("up-line"),y),be=s(r("up-popup"),h),ge=s(r("up-textarea"),b);return g(),k(I,null,[w(B,{style:q(e.themeColor())},{default:C((()=>[w(E,{title:j(t)("explain.delivery"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{center:C((()=>[w(B,null,{default:C((()=>[w(a,{name:"question-circle",label:j(t)("explain.delivery"),labelPos:"left",onClick:l[0]||(l[0]=e=>Q.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"},null,8,["label"])])),_:1})])),_:1},8,["title"]),w(B,{class:"mescroll-fixed-header !bg-[#f4f4f4]"},{default:C((()=>[w(B,{class:"bg-[#fff] p-2"},{default:C((()=>[w(W,{placeholder:j(t)("search_delivery"),shape:"square",showAction:!1,modelValue:T.searchParams.search,"onUpdate:modelValue":l[1]||(l[1]=e=>T.searchParams.search=e),onChange:l[2]||(l[2]=e=>(T.list=[],void ce().resetUpScroll()))},null,8,["placeholder","modelValue"])])),_:1}),w(B,{class:"bg-[#fff] py-2"},{default:C((()=>[w(H,{list:ee,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:le,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1}),w(B,{class:"px-3 py-2 flex justify-between items-center w-full box-border text-[13px] bg-[#fff] my-1"},{default:C((()=>[w(B,{class:"flex mr-5",onClick:l[4]||(l[4]=e=>ae.value=!ae.value)},{default:C((()=>[w(B,{class:"flex justify-start items-center"},{default:C((()=>[S(z(te.value)+" ",1),w(a,{name:"arrow-down",bold:"",size:"13",class:"ml-1",onClick:l[3]||(l[3]=()=>{}),color:"var(--theme-color-main)"})])),_:1})])),_:1}),w(B,{class:"flex justify-start items-center mt-[5px]",onClick:l[6]||(l[6]=e=>oe.value.open())},{default:C((()=>[S(z(j(t)("screen"))+" ",1),w(a,{name:"/static/assets/stock/screen.png",bold:"",size:"16",class:"ml-1",onClick:l[5]||(l[5]=()=>{}),color:"var(--theme-color-main)"})])),_:1})])),_:1})])),_:1}),w(fe,{class:"mt-[150px] sort-card",show:ae.value,onClick:l[9]||(l[9]=e=>ae.value=!1)},{default:C((()=>[V(w(me,{modelValue:te.value,"onUpdate:modelValue":l[7]||(l[7]=e=>te.value=e),placement:"column",iconPlacement:"right",onClick:l[8]||(l[8]=U((()=>{}),["stop"])),activeColor:"#fff",iconColor:"#000",class:"px-3 py-2 box-border bg-[#fff] border-none"},{default:C((()=>[(g(!0),k(I,null,M(se,((e,l)=>(g(),O(ne,{customStyle:{marginBottom:"8px"},key:l,iconSize:"20",onChange:l=>(e=>{te.value=e,T.searchParams.__order__=e.value,ce().resetUpScroll(),ae.value=!1})(e),iconColor:"var(--theme-color-main)",labelSize:"13",label:e.label,labelColor:te.value==e.label?"var(--theme-color-main)":"var(--theme-color-tips)",name:e.label},null,8,["onChange","label","labelColor","name"])))),128))])),_:1},8,["modelValue"]),[[P,ae.value]])])),_:1},8,["show"]),w(X,{ref:"mescrollRef",onInit:j(ie),onUp:ue,onDown:ue,up:T.mescrollUp,top:"0"},{default:C((()=>[T.list?(g(),O(B,{key:0},{default:C((()=>[(g(!0),k(I,null,M(T.list,((e,l)=>(g(),k(I,null,[w(B,{class:"flex flex-col p-3 bg-[#fff] box-border",onClick:U((l=>(e=>{$({url:"/addon/saler_tools/pages/order/detail",param:{order_id:e.order_id,type:T.type}})})(e)),["stop"])},{default:C((()=>[w(B,{class:"flex justify-between items-center min-h-[90px]"},{default:C((()=>[w(pe,{"show-loading":!0,src:j(Y)(e.goods_cover),width:"110px",height:"110px",radius:"5px",class:"mr-[20rpx]"},null,8,["src"]),w(B,{class:"flex justify-between flex-col flex-1 pl-2 min-h-[90px]"},{default:C((()=>[w(B,{class:"flex items-baseline leading-5 text-[14px] card-item flex-1"},{default:C((()=>[w(B,{class:"text-[var(--theme-color-main)] flex-1"},{default:C((()=>[w(_e,{text:e.goods_name,lines:2},null,8,["text"])])),_:2},1024)])),_:2},1024),0==e.is_delivery?(g(),O(B,{key:0,class:"flex flex-col items-start my-1 bg-[var(--theme-upload-bg)] p-2 rounded w-full box-border text-xs"},{default:C((()=>[w(B,{class:"flex justify-between items-center w-full"},{default:C((()=>[w(B,null,{default:C((()=>[S(z(j(t)("form.remark")),1)])),_:1}),e.delivery_remark?(g(),O(xe,{key:0,content:e.delivery_remark},{default:C((()=>[e.delivery_remark?(g(),O(B,{key:0,class:"text-[var(--theme-color-primary)]"},{default:C((()=>[S(z(j(t)("copy")),1)])),_:1})):R("",!0)])),_:2},1032,["content"])):R("",!0)])),_:2},1024),w(B,{class:"text-[var(--theme-color-tips)] mt-1 w-full box-border"},{default:C((()=>[S(z(e.delivery_remark||j(t)("nothing")),1)])),_:2},1024)])),_:2},1024)):(g(),O(B,{key:1,class:"text-[var(--theme-color-tips)] text-[13px] leading-5"},{default:C((()=>[w(B,{class:"flex items-center"},{default:C((()=>[w(B,null,{default:C((()=>[S(z(j(t)("delivery_name")+"："),1)])),_:1}),w(L,{uid:e.delivery_uid},null,8,["uid"])])),_:2},1024),w(B,{class:"flex items-center"},{default:C((()=>[S(z(j(t)("delivery_time")+"："+e.delivery_time),1)])),_:2},1024)])),_:2},1024))])),_:2},1024)])),_:2},1024),0==e.is_delivery?(g(),O(B,{key:0,class:"text-xs flex justify-between items-center"},{default:C((()=>[w(B,null,{default:C((()=>[S(z(j(t)("sales_time")+"："+e.transaction_time),1)])),_:2},1024),w(B,{class:"text-[var(--theme-color-primary)] flex justify-end items-center"},{default:C((()=>[w(B,{class:"mx-2"},{default:C((()=>[S(z(j(t)("status")+"："+N(e)),1)])),_:2},1024),w(ve,{color:"var(--theme-color-primary)",plain:!0,size:"small",text:j(t)("delivery"),onClick:a=>((e,l)=>{re.form=D(e),re.index=l,G((()=>{re.show=!0}))})(e,l),customStyle:"width:50px"},null,8,["text","onClick"])])),_:2},1024)])),_:2},1024)):R("",!0)])),_:2},1032,["onClick"]),w(ye,{class:"!p-0 !m-0"})],64)))),256))])),_:1})):R("",!0),T.list.length||de.value?R("",!0):(g(),O(Z,{key:1,option:{tip:j(t)("no_goods")}},null,8,["option"]))])),_:1},8,["onInit","up"])])),_:1},8,["style"]),w(J,{ref_key:"screenPopupRef",ref:oe,modelValue:T.searchParams,"onUpdate:modelValue":l[10]||(l[10]=e=>T.searchParams=e)},null,8,["modelValue"]),w(be,{show:Q.value,mode:"bottom",onClose:l[12]||(l[12]=e=>Q.value=!1),onOpen:l[13]||(l[13]=e=>Q.value=!0)},{default:C((()=>[w(B,{class:"p-4 flex justify-between items-center"},{default:C((()=>[w(B),w(B,{class:"flex !text-center font-bold text-[30rpx]"},{default:C((()=>[S(z(j(t)("pages.delivery.list")),1)])),_:1}),w(a,{name:"close",size:"15",onClick:l[11]||(l[11]=e=>Q.value=!1)})])),_:1}),w(he),w(B,{class:"p-4 flex flex-col"},{default:C((()=>[w(B,null,{default:C((()=>[S(z(j(t)("explain.delivery.tips0")),1)])),_:1})])),_:1})])),_:1},8,["show"]),w(be,{show:re.show,onClose:l[18]||(l[18]=e=>re.show=!1),onOpen:l[19]||(l[19]=e=>re.show=!0),mode:"bottom"},{default:C((()=>[w(B,{class:"p-4 flex justify-between items-center"},{default:C((()=>[w(B),w(B,{class:"flex !text-center font-bold text-[30rpx]"},{default:C((()=>[S(z(j(t)("immediate_delivery")),1)])),_:1}),w(a,{name:"close",size:"15",onClick:l[14]||(l[14]=e=>re.show=!1)})])),_:1}),w(he),w(B,{class:"flex flex-col"},{default:C((()=>[w(B,{class:"px-4 flex flex-col remark-card"},{default:C((()=>[w(B,{class:"flex justify-between items-center text-sm mt-4"},{default:C((()=>[S(z(j(t)("form.delivery_remark")),1)])),_:1}),w(B,{class:"my-2 flex flex-col !box-border"},{default:C((()=>[w(ge,{placeholder:j(t)("input.delivery_remark"),modelValue:re.form.delivery_remark,"onUpdate:modelValue":l[15]||(l[15]=e=>re.form.delivery_remark=e)},null,8,["placeholder","modelValue"])])),_:1})])),_:1}),w(B,{class:"flex gap-3 mb-5 p-4"},{default:C((()=>[w(ve,{onClick:l[16]||(l[16]=e=>re.show=!1),class:"!text-[var(--theme-color-main)]",color:"#f4f5f7",text:j(t)("cancel")},null,8,["text"]),w(ve,{text:j(t)("OK"),onClick:l[17]||(l[17]=e=>{F({order_id:re.form.order_id,delivery_remark:re.form.delivery_remark}).then((()=>{A({title:t("success"),icon:"none"}),ce().resetUpScroll()})).catch((()=>{A({title:t("error"),icon:"none"})})).finally((()=>{re.show=!1}))}),color:"var(--theme-color-primary)"},null,8,["text"])])),_:1})])),_:1})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-4552542e"]]);export{N as default};
