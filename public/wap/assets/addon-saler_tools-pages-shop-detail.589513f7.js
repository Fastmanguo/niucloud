import{a1 as t,a2 as e,a3 as i,a6 as a,a4 as r,bV as l,bn as s,W as n,g as o,i as d,o as c,c as u,w as p,n as f,f as h,b as g,S as m,_ as y,z as _,A as b,j as v,E as w,Q as x,R as C,am as S,a7 as I,a$ as k,C as M,b3 as N,aw as j,au as $,a5 as T,bX as A,c3 as B,bY as D,x as U,c4 as W,c5 as P,d as z,M as H,a0 as O,q as F,e as R,v as G}from"./index-29ba8fd9.js";import{_ as L}from"./u-status-bar.c0d013e9.js";import{_ as V}from"./u-icon.c465a7de.js";import{_ as X}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as q}from"./u-loading-icon.8c8b11d4.js";import{_ as E}from"./u-image.62f6b7a7.js";import"./u-transition.1dc24f47.js";const J=X({name:"u-navbar",mixins:[e,i,{props:{safeAreaInsetTop:{type:Boolean,default:()=>t.navbar.safeAreaInsetTop},placeholder:{type:Boolean,default:()=>t.navbar.placeholder},fixed:{type:Boolean,default:()=>t.navbar.fixed},border:{type:Boolean,default:()=>t.navbar.border},leftIcon:{type:String,default:()=>t.navbar.leftIcon},leftText:{type:String,default:()=>t.navbar.leftText},rightText:{type:String,default:()=>t.navbar.rightText},rightIcon:{type:String,default:()=>t.navbar.rightIcon},title:{type:[String,Number],default:()=>t.navbar.title},bgColor:{type:String,default:()=>t.navbar.bgColor},titleWidth:{type:[String,Number],default:()=>t.navbar.titleWidth},height:{type:[String,Number],default:()=>t.navbar.height},leftIconSize:{type:[String,Number],default:()=>t.navbar.leftIconSize},leftIconColor:{type:String,default:()=>t.navbar.leftIconColor},autoBack:{type:Boolean,default:()=>t.navbar.autoBack},titleStyle:{type:[String,Object],default:()=>t.navbar.titleStyle}}}],data:()=>({}),emits:["leftClick","rightClick"],methods:{addStyle:a,addUnit:r,sys:l,getPx:s,leftClick(){this.$emit("leftClick"),this.autoBack&&n()},rightClick(){this.$emit("rightClick")}}},[["render",function(t,e,i,a,r,l){const s=v,n=o(d("u-status-bar"),L),x=o(d("u-icon"),V),C=w;return c(),u(s,{class:"u-navbar"},{default:p((()=>[t.fixed&&t.placeholder?(c(),u(s,{key:0,class:"u-navbar__placeholder",style:f({height:l.addUnit(l.getPx(t.height)+l.sys().statusBarHeight,"px")})},null,8,["style"])):h("v-if",!0),g(s,{class:m([t.fixed&&"u-navbar--fixed"])},{default:p((()=>[t.safeAreaInsetTop?(c(),u(n,{key:0,bgColor:t.bgColor},null,8,["bgColor"])):h("v-if",!0),g(s,{class:m(["u-navbar__content",[t.border&&"u-border-bottom"]]),style:f({height:l.addUnit(t.height),backgroundColor:t.bgColor})},{default:p((()=>[g(s,{class:"u-navbar__content__left","hover-class":"u-navbar__content__left--hover","hover-start-time":"150",onClick:l.leftClick},{default:p((()=>[y(t.$slots,"left",{},(()=>[t.leftIcon?(c(),u(x,{key:0,name:t.leftIcon,size:t.leftIconSize,color:t.leftIconColor},null,8,["name","size","color"])):h("v-if",!0),t.leftText?(c(),u(C,{key:1,style:f({color:t.leftIconColor}),class:"u-navbar__content__left__text"},{default:p((()=>[_(b(t.leftText),1)])),_:1},8,["style"])):h("v-if",!0)]),!0)])),_:3},8,["onClick"]),y(t.$slots,"center",{},(()=>[g(C,{class:"u-line-1 u-navbar__content__title",style:f([{width:l.addUnit(t.titleWidth)},l.addStyle(t.titleStyle)])},{default:p((()=>[_(b(t.title),1)])),_:1},8,["style"])]),!0),t.$slots.right||t.rightIcon||t.rightText?(c(),u(s,{key:0,class:"u-navbar__content__right",onClick:l.rightClick},{default:p((()=>[y(t.$slots,"right",{},(()=>[t.rightIcon?(c(),u(x,{key:0,name:t.rightIcon,size:"20"},null,8,["name"])):h("v-if",!0),t.rightText?(c(),u(C,{key:1,class:"u-navbar__content__right__text"},{default:p((()=>[_(b(t.rightText),1)])),_:1})):h("v-if",!0)]),!0)])),_:3},8,["onClick"])):h("v-if",!0)])),_:3},8,["class","style"])])),_:3},8,["class"])])),_:3})}],["__scopeId","data-v-488ed387"]]);const Q=X({name:"u-swiper-indicator",mixins:[e,i,{props:{length:{type:[String,Number],default:()=>t.swiperIndicator.length},current:{type:[String,Number],default:()=>t.swiperIndicator.current},indicatorActiveColor:{type:String,default:()=>t.swiperIndicator.indicatorActiveColor},indicatorInactiveColor:{type:String,default:()=>t.swiperIndicator.indicatorInactiveColor},indicatorMode:{type:String,default:()=>t.swiperIndicator.indicatorMode}}}],data:()=>({lineWidth:22}),computed:{lineStyle(){let t={};return t.width=r(this.lineWidth),t.transform=`translateX(${r(this.current*this.lineWidth)})`,t.backgroundColor=this.indicatorActiveColor,t},dotStyle(){return t=>{let e={};return e.backgroundColor=t===this.current?this.indicatorActiveColor:this.indicatorInactiveColor,e}}},methods:{addUnit:r}},[["render",function(t,e,i,a,r,l){const s=v;return c(),u(s,{class:"u-swiper-indicator"},{default:p((()=>["line"===t.indicatorMode?(c(),u(s,{key:0,class:m(["u-swiper-indicator__wrapper",[`u-swiper-indicator__wrapper--${t.indicatorMode}`]]),style:f({width:l.addUnit(r.lineWidth*t.length),backgroundColor:t.indicatorInactiveColor})},{default:p((()=>[g(s,{class:"u-swiper-indicator__wrapper--line__bar",style:f([l.lineStyle])},null,8,["style"])])),_:1},8,["class","style"])):h("v-if",!0),"dot"===t.indicatorMode?(c(),u(s,{key:1,class:"u-swiper-indicator__wrapper"},{default:p((()=>[(c(!0),x(C,null,S(t.length,((e,i)=>(c(),u(s,{class:m(["u-swiper-indicator__wrapper__dot",[i===t.current&&"u-swiper-indicator__wrapper__dot--active"]]),key:i,style:f([l.dotStyle(i)])},null,8,["class","style"])))),128))])),_:1})):h("v-if",!0)])),_:1})}],["__scopeId","data-v-939cf1e0"]]);const Y=X({name:"u-swiper",mixins:[e,i,{props:{list:{type:Array,default:()=>t.swiper.list},indicator:{type:Boolean,default:()=>t.swiper.indicator},indicatorActiveColor:{type:String,default:()=>t.swiper.indicatorActiveColor},indicatorInactiveColor:{type:String,default:()=>t.swiper.indicatorInactiveColor},indicatorStyle:{type:[String,Object],default:()=>t.swiper.indicatorStyle},indicatorMode:{type:String,default:()=>t.swiper.indicatorMode},autoplay:{type:Boolean,default:()=>t.swiper.autoplay},current:{type:[String,Number],default:()=>t.swiper.current},currentItemId:{type:String,default:()=>t.swiper.currentItemId},interval:{type:[String,Number],default:()=>t.swiper.interval},duration:{type:[String,Number],default:()=>t.swiper.duration},circular:{type:Boolean,default:()=>t.swiper.circular},previousMargin:{type:[String,Number],default:()=>t.swiper.previousMargin},nextMargin:{type:[String,Number],default:()=>t.swiper.nextMargin},acceleration:{type:Boolean,default:()=>t.swiper.acceleration},displayMultipleItems:{type:Number,default:()=>t.swiper.displayMultipleItems},easingFunction:{type:String,default:()=>t.swiper.easingFunction},keyName:{type:String,default:()=>t.swiper.keyName},imgMode:{type:String,default:()=>t.swiper.imgMode},height:{type:[String,Number],default:()=>t.swiper.height},bgColor:{type:String,default:()=>t.swiper.bgColor},radius:{type:[String,Number],default:()=>t.swiper.radius},loading:{type:Boolean,default:()=>t.swiper.loading},showTitle:{type:Boolean,default:()=>t.swiper.showTitle}}}],data:()=>({currentIndex:0}),watch:{current(t,e){t!==e&&(this.currentIndex=t)}},emits:["click","change"],computed:{itemStyle(){return t=>{const e={};return this.nextMargin&&this.previousMargin&&(e.borderRadius=r(this.radius),t!==this.currentIndex&&(e.transform="scale(0.92)")),e}}},methods:{addStyle:a,addUnit:r,testObject:I.object,testImage:I.image,getItemType(t){return"string"==typeof t?I.video(this.getSource(t))?"video":"image":"object"==typeof t&&this.keyName?t.type?"image"===t.type?"image":"video"===t.type?"video":"image":I.video(this.getSource(t))?"video":"image":void 0},getSource(t){return"string"==typeof t?t:"object"==typeof t&&this.keyName?t[this.keyName]:""},change(t){const{current:e}=t.detail;this.pauseVideo(this.currentIndex),this.currentIndex=e,this.$emit("change",t.detail)},pauseVideo(t){const e=this.getSource(this.list[t]);if(I.video(e)){k(`video-${t}`,this).pause()}},getPoster:t=>"object"==typeof t&&t.poster?t.poster:"",clickHandler(t){this.$emit("click",t)}}},[["render",function(t,e,i,a,r,l){const s=o(d("u-loading-icon"),q),n=v,m=M,I=N,k=w,T=j,A=$,B=o(d("u-swiper-indicator"),Q);return c(),u(n,{class:"u-swiper",style:f({backgroundColor:t.bgColor,height:l.addUnit(t.height),borderRadius:l.addUnit(t.radius)})},{default:p((()=>[t.loading?(c(),u(n,{key:0,class:"u-swiper__loading"},{default:p((()=>[g(s,{mode:"circle"})])),_:1})):(c(),u(A,{key:1,class:"u-swiper__wrapper",style:f({flex:"1",height:l.addUnit(t.height)}),onChange:l.change,circular:t.circular,interval:t.interval,duration:t.duration,autoplay:t.autoplay,current:t.current,currentItemId:t.currentItemId,previousMargin:l.addUnit(t.previousMargin),nextMargin:l.addUnit(t.nextMargin),acceleration:t.acceleration,displayMultipleItems:t.displayMultipleItems,easingFunction:t.easingFunction},{default:p((()=>[(c(!0),x(C,null,S(t.list,((e,i)=>(c(),u(T,{class:"u-swiper__wrapper__item",key:i},{default:p((()=>[g(n,{class:"u-swiper__wrapper__item__wrapper",style:f([l.itemStyle(i)])},{default:p((()=>[h(" 在nvue中，image图片的宽度默认为屏幕宽度，需要通过flex:1撑开，另外必须设置高度才能显示图片 "),"image"===l.getItemType(e)?(c(),u(m,{key:0,class:"u-swiper__wrapper__item__wrapper__image",src:l.getSource(e),mode:t.imgMode,onClick:t=>l.clickHandler(i),style:f({height:l.addUnit(t.height),borderRadius:l.addUnit(t.radius)})},null,8,["src","mode","onClick","style"])):h("v-if",!0),"video"===l.getItemType(e)?(c(),u(I,{key:1,class:"u-swiper__wrapper__item__wrapper__video",id:`video-${i}`,"enable-progress-gesture":!1,src:l.getSource(e),poster:l.getPoster(e),title:t.showTitle&&l.testObject(e)&&e.title?e.title:"",style:f({height:l.addUnit(t.height)}),controls:"",onClick:t=>l.clickHandler(i)},null,8,["id","src","poster","title","style","onClick"])):h("v-if",!0),t.showTitle&&l.testObject(e)&&e.title&&l.testImage(l.getSource(e))?(c(),u(k,{key:2,class:"u-swiper__wrapper__item__wrapper__title u-line-1"},{default:p((()=>[_(b(e.title),1)])),_:2},1024)):h("v-if",!0)])),_:2},1032,["style"])])),_:2},1024)))),128))])),_:1},8,["style","onChange","circular","interval","duration","autoplay","current","currentItemId","previousMargin","nextMargin","acceleration","displayMultipleItems","easingFunction"])),g(n,{class:"u-swiper__indicator",style:f([l.addStyle(t.indicatorStyle)])},{default:p((()=>[y(t.$slots,"indicator",{},(()=>[t.loading||!t.indicator||t.showTitle?h("v-if",!0):(c(),u(B,{key:0,indicatorActiveColor:t.indicatorActiveColor,indicatorInactiveColor:t.indicatorInactiveColor,length:t.list.length,current:r.currentIndex,indicatorMode:t.indicatorMode},null,8,["indicatorActiveColor","indicatorInactiveColor","length","current","indicatorMode"]))]),!0)])),_:3},8,["style"])])),_:3},8,["style"])}],["__scopeId","data-v-2457dd58"]]);const K=X({name:"u-grid-item",mixins:[e,i,{props:{name:{type:[String,Number,null],default:()=>t.gridItem.name},bgColor:{type:String,default:()=>t.gridItem.bgColor}}}],data:()=>({parentData:{col:0,border:!0},classes:[]}),mounted(){this.init()},emits:["click"],computed:{width(){return this.parentData.col>0?100/Number(this.parentData.col)+"%":0},itemStyle(){const t={background:this.bgColor,width:this.width};return T(t,a(this.customStyle))}},methods:{init(){A("$uGridItem",(()=>{this.gridItemClasses()})),this.updateParentData(),B("$uGridItem"),this.gridItemClasses()},updateParentData(){this.getParentData("u-grid")},clickHandler(){var t;let e=this.name;const i=null==(t=this.parent)?void 0:t.children;i&&null===this.name&&(e=i.findIndex((t=>t===this))),this.parent&&this.parent.childClick(e),this.$emit("click",e)},async getItemWidth(){let t=0;if(this.parent){t=await this.getParentWidth()/Number(this.parentData.col)+"px"}this.width=t},getParentWidth(){},gridItemClasses(){if(this.parentData.border){let t=[];this.parent.children.map(((e,i)=>{if(this===e){const e=this.parent.children.length;(i+1)%this.parentData.col!=0&&i+1!==e&&t.push("u-border-right");i<e-(e%this.parentData.col==0?this.parentData.col:e%this.parentData.col)&&t.push("u-border-bottom")}})),this.classes=t}}},beforeUnmount(){D("$uGridItem")}},[["render",function(t,e,i,a,r,l){const s=v;return r.parentData.col>0?(c(),u(s,{key:0,class:m(["u-grid-item",r.classes]),"hover-class":"u-grid-item--hover-class","hover-stay-time":200,onClick:l.clickHandler,style:f([l.itemStyle])},{default:p((()=>[y(t.$slots,"default",{},void 0,!0)])),_:3},8,["onClick","class","style"])):h("v-if",!0)}],["__scopeId","data-v-061660c7"]]);const Z=X({name:"u-grid",mixins:[e,i,{props:{col:{type:[String,Number],default:()=>t.grid.col},border:{type:Boolean,default:()=>t.grid.border},align:{type:String,default:()=>t.grid.align}}}],data:()=>({index:0,width:0}),watch:{parentData(){this.children.length&&this.children.map((t=>{"function"==typeof t.updateParentData&&t.updateParentData()}))}},created(){this.children=[]},computed:{parentData(){return[this.hoverClass,this.col,this.size,this.border]},gridStyle(){let t={};switch(this.align){case"left":default:t.justifyContent="flex-start";break;case"center":t.justifyContent="center";break;case"right":t.justifyContent="flex-end"}return T(t,a(this.customStyle))}},emits:["click"],methods:{childClick(t){this.$emit("click",t)}}},[["render",function(t,e,i,a,r,l){const s=v;return c(),u(s,{class:"u-grid",ref:"u-grid",style:f([l.gridStyle])},{default:p((()=>[y(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-1edb832b"]]);const tt=X({name:"xy-copy",props:{content:{type:String,default:""},alertStyle:{type:String,default:"toast"},notice:{type:String,default:"复制成功"}},emits:["success"],methods:{handleClick(){let t=this.content;if(!t)return U({title:"暂无",icon:"none",duration:2e3}),!1;t="string"==typeof t?t:t.toString();let e=this;W({data:t,success:function(){"modal"==e.alertStyle?P({title:"提示",content:e.notice}):U({title:e.notice,icon:"none"}),e.$emit("success")},fail:function(){U({title:"复制失败",icon:"none",duration:3e3})}})}}},[["render",function(t,e,i,a,r,l){const s=v;return c(),u(s,{onClick:l.handleClick},{default:p((()=>[y(t.$slots,"default",{},(()=>[_("复制")]))])),_:3},8,["onClick"])}]]),et=X(z({__name:"detail",setup(t){const e=H({form:{},show:{grid:!0},currentSwiper:0,screenWidth:0});return e.screenWidth=O().windowWidth/3-10,F((t=>{e.form=JSON.parse(decodeURIComponent(t.list))})),(t,i)=>{const a=o(d("up-navbar"),J),r=v,l=o(d("up-swiper"),Y),s=o(d("up-image"),E),n=o(d("up-grid-item"),K),y=o(d("up-grid"),Z),w=o(d("up-icon"),V),I=o(d("up-copy"),tt);return c(),u(r,{style:f(t.themeColor())},{default:p((()=>[g(a,{title:"商品详情",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),h(" 轮播图 "),R(g(l,{list:e.form.imageList,onClick:i[0]||(i[0]=()=>{}),height:"300px",autoplay:!1,radius:"0",indicator:!0,circular:!0,bgColor:"#fff",onChange:i[1]||(i[1]=t=>e.currentSwiper=t.current),indicatorActiveColor:"#fff",indicatorMode:"dot"},{indicator:p((()=>[g(r,{class:"indicator"},{default:p((()=>[(c(!0),x(C,null,S(e.form.imageList,((t,i)=>(c(),u(r,{class:m(["indicator__dot",[i===e.currentSwiper&&"indicator__dot--active"]]),key:i},null,8,["class"])))),128))])),_:1})])),_:1},8,["list"]),[[G,!e.show.grid]]),h(" 九宫格图片 "),R(g(y,{border:!1,class:"p-[5px]"},{default:p((()=>[(c(!0),x(C,null,S(e.form.imageList,(t=>(c(),u(n,{key:t},{default:p((()=>[g(s,{"show-loading":!0,src:t,width:e.screenWidth,height:e.screenWidth,class:"mb-[5px]"},null,8,["src","width","height"])])),_:2},1024)))),128))])),_:1},512),[[G,e.show.grid]]),g(r,{class:"flex justifty-between items-center"},{default:p((()=>[g(w,{name:"/static/assets/product/grid.png",bold:"",size:"25",labelSize:"12",class:"flex-1 my-2",onClick:i[2]||(i[2]=t=>e.show.grid=!e.show.grid),labelColor:"var(--theme-color-primary)",color:"var(--theme-color-primary)",label:"切换宫格",labelPos:"bottom"}),g(w,{name:"/static/assets/product/download.png",bold:"",size:"25",labelSize:"12",class:"flex-1 my-2",labelColor:"var(--theme-color-primary)",color:"var(--theme-color-main)",label:"一键下载图文",labelPos:"bottom"})])),_:1}),g(r,{class:"flex flex-col bg-[#fff] m-3 p-4 rounded"},{default:p((()=>[g(r,{class:"leading-5 text-sm box-border text-[var(--theme-color-main)]"},{default:p((()=>[_(b(e.form.title),1)])),_:1}),g(r,{class:"text-sm flex flex-col text-[var(--theme-text-red)] mt-2"},{default:p((()=>[g(r,{class:"text-base font-bold flex items-center"},{default:p((()=>[g(r,{class:"text-xs"},{default:p((()=>[_("￥")])),_:1}),g(r,null,{default:p((()=>[_(b(e.form.salesPrice),1)])),_:1})])),_:1}),g(r,{class:"text-[var(--theme-color-main)]"},{default:p((()=>[_("销售价")])),_:1})])),_:1})])),_:1}),g(r,{class:"flex flex-col bg-[#fff] m-3 p-4 rounded box-border"},{default:p((()=>[g(r,{class:"flex items-center text-base mb-3 font-bold"},{default:p((()=>[g(w,{name:"/static/assets/flag.png",height:"14px",width:"8px",class:"mr-1 rounded"}),g(r,{class:"text-[var(--theme-color-main)]"},{default:p((()=>[_("商品信息")])),_:1})])),_:1}),g(r,{class:"text-sm"},{default:p((()=>[g(r,{class:"flex justify-between items-center"},{default:p((()=>[g(r,{class:"text-[var(--theme-color-content)]"},{default:p((()=>[_("商品描述")])),_:1}),g(I,{content:e.form.title},{default:p((()=>[g(r,{class:"text-[var(--theme-color-primary)]"},{default:p((()=>[_("复制")])),_:1})])),_:1},8,["content"])])),_:1}),g(r,{class:"p-3 bg-[var(--theme-upload-bg)] my-2 rounded w-full box-border"},{default:p((()=>[_(b(e.form.title),1)])),_:1}),g(r,{class:"flex justify-between items-center mt-3"},{default:p((()=>[g(r,{class:"text-[var(--theme-color-content)]"},{default:p((()=>[_("适用人群")])),_:1}),g(r,{class:"text-[var(--theme-color-tips)]"},{default:p((()=>[_("无")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-6350f2f0"]]);export{et as default};
