import{d as e,r as l,S as t,cw as a,b as o,l as s,c as r,x as i,c8 as n,bG as m,cb as u,cJ as c,bY as f,aO as d,a_ as p,o as x,a0 as h,f as _,w as y,e as v,p as w,t as b,g as T,v as g,a1 as k,am as C,u as j,h as D,n as M,an as N,ao as z,i as A,a2 as I,cK as R,_ as S}from"./index-VHk1sExB.js";import{u as V,M as P}from"./useMescroll.Bh35ex94.js";import{M as U}from"./mescroll-empty.uEQNJN_1.js";import"./mescroll-i18n.DUzOixk-.js";const $=S(e({__name:"list",setup(e){const{mescrollInit:S,downCallback:$,getMescroll:q}=V(z,N),F=l(!0),O=l(!1),Y=t({firstTime:null,lastTime:null,employeeName:"全部员工",moduleName:"全部模块",shadowStyle:{backgroundImage:"none",paddingTop:"0",marginTop:"8px"},list:[{operator:"Mia",module:"商品位置",operationTime:"2025-01-04 12:00:00",type:"add",content:"新增商品位置：在店",showAll:!1},{operator:"Mia",module:"商品位置",operationTime:"2025-01-04 12:00:00",type:"edit",content:"修改商品：香港🇭🇰交收美金💲报价：理查德米勒Rm17-01Ntpt 全套2020年卡香港🇭🇰交收美金💲报价：理查德米勒Rm17-01Ntpt 全套2020年卡",operation:"更改商品位置为：在途",showAll:!1},{operator:"Mia",module:"寄卖传送",type:"consignmentDelivery",operationTime:"2025-01-04 12:00:00",content:"寄卖传送：创建了一个名称为【测试】的传送列表",showAll:!1},{operator:"Mia",module:"寄卖传送",type:"consignmentDelivery",operationTime:"2025-01-04 12:00:00",content:"寄卖传送：创建了一个名称为【测试】的传送列表",showAll:!1},{operator:"Mia",module:"寄卖传送",type:"consignmentDelivery",operationTime:"2025-01-04 12:00:00",content:"寄卖传送：创建了一个名称为【测试】的传送列表",showAll:!1}]}),B=l(!1),G=l(!1),H=l(null),J=l(null),K=()=>{Y.firstTime=(new Date).getTime(),B.value=!0},X=()=>{Y.lastTime=(new Date).getTime(),G.value=!0},E=e=>{B.value=!1,Y.firstTime=e.value},L=e=>{G.value=!1,Y.lastTime=e.value},Q=()=>{Y.firstTime=null,B.value=!1},W=()=>{Y.lastTime=null,G.value=!1},Z=(e,l)=>"year"===e?`${l}年`:"month"===e?`${l}月`:"day"===e?`${l}日`:l,ee=l(!1),le=t(["全部员工","Mia","员工101","员工102","员工103","员工104","员工105","员工106"]),te=l(!1),ae=t(["全部模块","模块101","模块102","模块103","模块104","模块105","模块106"]),oe=l(null);return a((()=>{H.value.setFormatter(Z),J.value.setFormatter(Z)})),(e,l)=>{const t=o(r("up-icon"),s),a=A,N=o(r("up-navbar"),i),z=o(r("up-search"),n),V=o(r("up-text"),m),$=o(r("up-overlay"),u),q=R,se=o(r("up-read-more"),c),re=o(r("up-line"),f),ie=o(r("up-popup"),d),ne=o(r("up-datetime-picker"),p);return x(),h(k,null,[_(a,{style:M(e.themeColor())},{default:y((()=>[_(N,{title:"操作日志",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{center:y((()=>[_(a,null,{default:y((()=>[_(t,{name:"question-circle",label:"操作日志",labelPos:"left",onClick:l[0]||(l[0]=e=>O.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"})])),_:1})])),_:1}),_(a,{class:"bg-[#fff] p-2"},{default:y((()=>[_(z,{placeholder:"搜索商品名称/描述/备注/独立编码",shape:"square",showAction:!1})])),_:1}),_(a,{class:"bg-[#fff] p-2 pl-3 flex justify-between items-center text-xs"},{default:y((()=>[_(a,{class:"flex justify-start items-center text-[var(--theme-color-main)]"},{default:y((()=>[_(a,{class:"flex justify-between items-center min-w-[89px]",onClick:K},{default:y((()=>[Y.firstTime?(x(),v(V,{key:1,mode:"date",text:Y.firstTime,size:"13"},null,8,["text"])):(x(),v(a,{key:0,class:"text[13px] text-[var(--theme-color-tips)] flex-1 text-right"},{default:y((()=>[w("开始时间")])),_:1})),_(t,{name:"arrow-down-fill",size:12,class:"ml-1",color:Y.firstTime?"var(--theme-color-primary)":"var(--theme-color-tips)"},null,8,["color"])])),_:1}),_(a,{class:"mx-2"},{default:y((()=>[w("至")])),_:1}),_(a,{class:"flex justify-between items-center min-w-[89px]",onClick:X},{default:y((()=>[Y.lastTime?(x(),v(V,{key:1,mode:"date",text:Y.lastTime,size:"13"},null,8,["text"])):(x(),v(a,{key:0,class:"text[13px] text-[var(--theme-color-tips)] flex-1 text-right"},{default:y((()=>[w("结束时间")])),_:1})),_(t,{name:"arrow-down-fill",size:12,class:"ml-1",color:Y.firstTime?"var(--theme-color-primary)":"var(--theme-color-tips)"},null,8,["color"])])),_:1})])),_:1}),_(a,{class:"flex justify-end"},{default:y((()=>[_(a,{onClick:l[1]||(l[1]=e=>ee.value=!0),class:"bg-[#fff] rounded min-w-[60px] flex justify-between items-center px-1"},{default:y((()=>[_(a,{class:"px-1"},{default:y((()=>[w(b(Y.employeeName),1)])),_:1}),_(t,{name:"arrow-down-fill",size:12,color:"var(--theme-color-primary)"})])),_:1})])),_:1}),_(a,{class:"flex justify-end"},{default:y((()=>[_(a,{onClick:l[2]||(l[2]=e=>te.value=!0),class:"bg-[#fff] rounded min-w-[60px] flex justify-between items-center px-1"},{default:y((()=>[_(a,{class:"px-1"},{default:y((()=>[w(b(Y.moduleName),1)])),_:1}),_(t,{name:"arrow-down-fill",size:12,color:"var(--theme-color-primary)"})])),_:1})])),_:1})])),_:1}),_($,{show:ee.value,onClick:l[3]||(l[3]=e=>ee.value=!1)},{default:y((()=>[T(_(a,{class:"custom-employee !absolute"},{default:y((()=>[_(a,{style:{height:"260px","overflow-y":"auto"}},{default:y((()=>[(x(!0),h(k,null,C(le,((e,l)=>(x(),v(a,{class:"flex flex-col items-center"},{default:y((()=>[_(a,{class:I(["custom-employee-item",[l==le.length-1?"!border-none":"",e==Y.employeeName?"text-[var(--theme-color-primary)]":""]]),onClick:l=>(e=>{Y.employeeName=e})(e)},{default:y((()=>[w(b(e),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1},512),[[g,ee.value]])])),_:1},8,["show"]),_($,{show:te.value,onClick:l[4]||(l[4]=e=>te.value=!1)},{default:y((()=>[T(_(a,{class:"custom-module !absolute"},{default:y((()=>[_(a,{style:{height:"260px","overflow-y":"auto"}},{default:y((()=>[(x(!0),h(k,null,C(ae,((e,l)=>(x(),v(a,{class:"flex flex-col items-center"},{default:y((()=>[_(a,{class:I(["custom-module-item",[l==ae.length-1?"!border-none":"",e==Y.moduleName?"text-[var(--theme-color-primary)]":""]]),onClick:l=>(e=>{Y.moduleName=e})(e)},{default:y((()=>[w(b(e),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1},512),[[g,te.value]])])),_:1},8,["show"]),_(P,{ref:"mescrollRef",onInit:j(S),onUp:l[5]||(l[5]=()=>{}),top:"0"},{default:y((()=>[Y.list.length?(x(!0),h(k,{key:0},C(Y.list,((e,l)=>(x(),v(a,{class:"p-3 m-2 bg-[#fff] text-sm rounded text-[var(--theme-color-main)] leading-6"},{default:y((()=>[_(a,{class:"flex flex-col"},{default:y((()=>[_(a,{class:"flex justify-between items-center"},{default:y((()=>[_(a,null,{default:y((()=>[w("操作人员")])),_:1}),_(a,{class:"text-[var(--theme-color-tips)]"},{default:y((()=>[w(b(e.operator),1)])),_:2},1024)])),_:2},1024),_(a,{class:"flex justify-between items-center"},{default:y((()=>[_(a,null,{default:y((()=>[w("操作模块")])),_:1}),_(a,{class:"text-[var(--theme-color-tips)]"},{default:y((()=>[w(b(e.module),1)])),_:2},1024)])),_:2},1024),_(a,{class:"flex justify-between items-center"},{default:y((()=>[_(a,null,{default:y((()=>[w("操作时间")])),_:1}),_(a,{class:"text-[var(--theme-color-tips)]"},{default:y((()=>[w(b(e.operationTime),1)])),_:2},1024)])),_:2},1024),_(a,{class:"flex flex-col"},{default:y((()=>[_(a,{class:"min-w-[80px]"},{default:y((()=>[w("操作内容")])),_:1}),_(a,{class:"text-[var(--theme-color-tips)] leading-[22px] text-[14px] mt-1"},{default:y((()=>[_(se,{ref_for:!0,ref_key:"uReadMoreRef",ref:oe,toggle:!0,textIndent:"0",showHeight:"46px",openText:"收起更多",color:"var(--theme-color-primary)",shadowStyle:Y.shadowStyle,closeText:"查看更多",onClick:l=>e.showAll=!e.showAll},{default:y((()=>[_(q,{nodes:e.content},null,8,["nodes"])])),_:2},1032,["shadowStyle","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)):D("",!0),Y.list.length||F.value?D("",!0):(x(),v(U,{key:1,option:{tip:"暂无数据"}}))])),_:1},8,["onInit"])])),_:1},8,["style"]),_(ie,{show:O.value,mode:"bottom",onClose:l[7]||(l[7]=e=>O.value=!1),onOpen:l[8]||(l[8]=e=>O.value=!0)},{default:y((()=>[_(a,{class:"p-4 flex justify-between items-center"},{default:y((()=>[_(a),_(a,{class:"flex !text-center font-bold text-[30rpx]"},{default:y((()=>[w("操作日志")])),_:1}),_(t,{name:"close",size:"15",onClick:l[6]||(l[6]=e=>O.value=!1)})])),_:1}),_(re),_(a,{class:"p-4 flex flex-col mb-5"},{default:y((()=>[_(a,{style:{"text-indent":"1em"}},{default:y((()=>[w(" 可回溯员工相关操作、查看操作的完整链路 ")])),_:1})])),_:1})])),_:1},8,["show"]),_(ne,{ref_key:"firstTimePickerRef",ref:H,show:B.value,modelValue:Y.firstTime,"onUpdate:modelValue":l[9]||(l[9]=e=>Y.firstTime=e),mode:"date",onCancel:Q,maxDate:new Date,title:"选择时间",formatter:Z,onConfirm:E},null,8,["show","modelValue","maxDate"]),_(ne,{ref_key:"lastTimePickerRef",ref:J,show:G.value,modelValue:Y.lastTime,"onUpdate:modelValue":l[10]||(l[10]=e=>Y.lastTime=e),mode:"date",maxDate:new Date,title:"选择时间",onCancel:W,formatter:Z,onConfirm:L},null,8,["show","modelValue","maxDate"])],64)}}}),[["__scopeId","data-v-9ba13ab9"]]);export{$ as default};
