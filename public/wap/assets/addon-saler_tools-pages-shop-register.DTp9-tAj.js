import{d as e,S as r,s as a,y as l,F as o,b as t,x as n,c as i,U as s,V as d,l as c,W as p,$ as u,cQ as m,o as f,a0 as _,f as b,w as h,u as y,n as g,a1 as x,E as V,i as S,_ as v}from"./index-VHk1sExB.js";import"./browser.BTH0nPVW.js";import{a as z,b as w}from"./shop.DQBWBr14.js";const k=v(e({__name:"register",setup(e){const v=r({form:{shop_name:"",certificate_name:"",address:"",invitation_code:"",currency_code:"",currency_label:""},rules:{certificate_name:{type:"string",required:!0,message:a("input.certificate_name.tips"),trigger:["blur","change"]},shop_name:{type:"string",required:!0,message:a("input.shop_name.tips"),trigger:["blur","change"]},currency_code:{type:"string",required:!0,message:a("input.currency_code.tips"),trigger:["blur","change"]},invitation_code:{type:"string",required:!1,trigger:["blur"]},address:{type:"string",required:!0,message:a("input.shop_address.tips"),trigger:["blur"]}},formRef:null,isEmailValid:!1,isFormValid:!1,currencyList:[],currencyShow:!1}),k=l((()=>[v.currencyList.map((e=>({key:e.key,name:e.name,label:a(e.name)})))])),W=()=>{""!=v.form.shop_name?""!=v.form.real_name?""!=v.form.address?z(v.form).then((()=>{V({title:a("success"),icon:"none"})})).catch((()=>{V({title:a("error"),icon:"none"})})):V({title:a("input.shop_address.tips"),icon:"none"}):V({title:a("input.real_name.tips"),icon:"none"}):V({title:a("input.shop_name.tips"),icon:"none"})},A=({value:e})=>{v.form.currency_label=e[0].label,v.form.currency_code=e[0].key,v.currencyShow=!1};return o((()=>{w().then((e=>{v.currencyList=e.data}))})),(e,r)=>{const l=t(i("up-navbar"),n),o=t(i("up-input"),s),V=t(i("up-form-item"),d),z=t(i("up-icon"),c),w=t(i("up-form"),p),B=t(i("up-button"),u),U=S,q=t(i("up-picker"),m);return f(),_(x,null,[b(U,{style:g(e.themeColor())},{default:h((()=>[b(l,{title:"注册店铺",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),b(U,{class:"m-2 bg-[#fff] rounded p-3"},{default:h((()=>[b(w,{labelPosition:"left",model:v.form,rules:v.rules,ref:"state.formRef"},{default:h((()=>[b(V,{label:y(a)("form.shop_name"),prop:"shop_name",borderBottom:"",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:h((()=>[b(o,{clearable:"",modelValue:v.form.shop_name,"onUpdate:modelValue":r[0]||(r[0]=e=>v.form.shop_name=e),placeholder:y(a)("input.shop_name.tips"),border:!1,inputAlign:"right",fontSize:"14px"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),b(V,{label:y(a)("form.certificate_name"),prop:"certificate_name",borderBottom:"",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:h((()=>[b(o,{clearable:"",modelValue:v.form.certificate_name,"onUpdate:modelValue":r[1]||(r[1]=e=>v.form.certificate_name=e),placeholder:y(a)("input.certificate_name.tips"),border:!1,inputAlign:"right",fontSize:"14px"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),b(V,{label:y(a)("shop_address"),prop:"address",borderBottom:"",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:h((()=>[b(o,{clearable:"",modelValue:v.form.address,"onUpdate:modelValue":r[2]||(r[2]=e=>v.form.address=e),placeholder:y(a)("input.shop_address.tips"),inputAlign:"right",border:!1,fontSize:"14px"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),b(V,{label:y(a)("currency_code"),prop:"currency_code",borderBottom:"",labelWidth:"100px",labelStyle:"font-size: 14px;",onClick:r[4]||(r[4]=e=>v.currencyShow=!0)},{right:h((()=>[b(z,{name:"arrow-right"})])),default:h((()=>[b(o,{modelValue:v.form.currency_label,"onUpdate:modelValue":r[3]||(r[3]=e=>v.form.currency_label=e),disabled:"",disabledColor:"#ffffff",placeholder:y(a)("input.currency_code.tips1"),inputAlign:"right",border:"none",fontSize:"14px"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),b(V,{label:y(a)("form.invitation_code"),prop:"invitation_code",borderBottom:"",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:h((()=>[b(o,{clearable:"",modelValue:v.form.invitation_code,"onUpdate:modelValue":r[5]||(r[5]=e=>v.form.invitation_code=e),placeholder:y(a)("input.invitation_code.tips"),border:!1,inputAlign:"right",fontSize:"14px"},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","rules"]),b(U,{class:"my-5"},{default:h((()=>[b(B,{text:y(a)("register_immediately"),onClick:W,color:"var(--theme-color-primary)"},null,8,["text"])])),_:1})])),_:1})])),_:1},8,["style"]),b(q,{show:v.currencyShow,columns:k.value,keyName:"label",onConfirm:A},null,8,["show","columns"])],64)}}}),[["__scopeId","data-v-0a974a91"]]);export{k as default};
