import{_ as o}from"./u-transition.1dc24f47.js";import{a1 as t,a2 as e,a3 as s,a5 as a,a6 as i,g as l,i as n,o as r,c as u,w as p,_ as c,S as d,n as m,j as y,bV as f,a4 as h,f as v,b,B as _}from"./index-29ba8fd9.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";import{_ as k}from"./u-status-bar.c0d013e9.js";import{_ as S}from"./u-icon.c465a7de.js";const I=g({name:"u-overlay",mixins:[e,s,{props:{show:{type:Boolean,default:()=>t.overlay.show},zIndex:{type:[String,Number],default:()=>t.overlay.zIndex},duration:{type:[String,Number],default:()=>t.overlay.duration},opacity:{type:[String,Number],default:()=>t.overlay.opacity}}}],computed:{overlayStyle(){const o={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":`rgba(0, 0, 0, ${this.opacity})`};return a(o,i(this.customStyle))}},emits:["click"],methods:{clickHandler(){this.$emit("click")}}},[["render",function(t,e,s,a,i,d){const m=l(n("u-transition"),o);return r(),u(m,{show:t.show,"custom-class":"u-overlay",duration:t.duration,"custom-style":d.overlayStyle,onClick:d.clickHandler},{default:p((()=>[c(t.$slots,"default",{},void 0,!0)])),_:3},8,["show","duration","custom-style","onClick"])}],["__scopeId","data-v-b2ae91aa"]]);const x=g({name:"u-safe-bottom",mixins:[e,s,{props:{}}],data:()=>({safeAreaBottomHeight:0,isNvue:!1}),computed:{style(){return a({},i(this.customStyle))}},mounted(){}},[["render",function(o,t,e,s,a,i){const l=y;return r(),u(l,{class:d(["u-safe-bottom",[!a.isNvue&&"u-safe-area-inset-bottom"]]),style:m([i.style])},null,8,["style","class"])}],["__scopeId","data-v-66aaaf9c"]]);const C=g({name:"u-popup",mixins:[e,s,{props:{show:{type:Boolean,default:()=>t.popup.show},overlay:{type:Boolean,default:()=>t.popup.overlay},mode:{type:String,default:()=>t.popup.mode},duration:{type:[String,Number],default:()=>t.popup.duration},closeable:{type:Boolean,default:()=>t.popup.closeable},overlayStyle:{type:[Object,String],default:()=>t.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:()=>t.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:()=>t.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:()=>t.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:()=>t.popup.safeAreaInsetTop},closeIconPos:{type:String,default:()=>t.popup.closeIconPos},round:{type:[Boolean,String,Number],default:()=>t.popup.round},zoom:{type:Boolean,default:()=>t.popup.zoom},bgColor:{type:String,default:()=>t.popup.bgColor},overlayOpacity:{type:[Number,String],default:()=>t.popup.overlayOpacity}}}],data(){return{overlayDuration:this.duration+50}},watch:{show(o,t){}},computed:{transitionStyle(){const o={zIndex:this.zIndex,position:"fixed",display:"flex"};return o[this.mode]=0,"left"===this.mode||"right"===this.mode?a(o,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?a(o,{left:0,right:0}):"center"===this.mode?a(o,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle(){const o={};if(f(),"center"!==this.mode&&(o.flex=1),this.bgColor&&(o.backgroundColor=this.bgColor),this.round){const t=h(this.round);"top"===this.mode?(o.borderBottomLeftRadius=t,o.borderBottomRightRadius=t):"bottom"===this.mode?(o.borderTopLeftRadius=t,o.borderTopRightRadius=t):"center"===this.mode&&(o.borderRadius=t)}return a(o,i(this.customStyle))},position(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},emits:["open","close","click"],methods:{overlayClick(){this.closeOnClickOverlay&&this.$emit("close")},close(o){this.$emit("close")},afterEnter(){this.$emit("open")},clickHandler(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}},[["render",function(t,e,s,a,i,f){const h=l(n("u-overlay"),I),g=l(n("u-status-bar"),k),C=l(n("u-icon"),S),w=y,z=l(n("u-safe-bottom"),x),B=l(n("u-transition"),o);return r(),u(w,{class:"u-popup"},{default:p((()=>[t.overlay?(r(),u(h,{key:0,show:t.show,onClick:f.overlayClick,zIndex:t.zIndex,duration:i.overlayDuration,customStyle:t.overlayStyle,opacity:t.overlayOpacity},null,8,["show","onClick","zIndex","duration","customStyle","opacity"])):v("v-if",!0),b(B,{show:t.show,customStyle:f.transitionStyle,mode:f.position,duration:t.duration,onAfterEnter:f.afterEnter,onClick:f.clickHandler},{default:p((()=>[b(w,{class:"u-popup__content",style:m([f.contentStyle]),onClick:_(t.noop,["stop"])},{default:p((()=>[t.safeAreaInsetTop?(r(),u(g,{key:0})):v("v-if",!0),c(t.$slots,"default",{},void 0,!0),t.closeable?(r(),u(w,{key:1,onClick:_(f.close,["stop"]),class:d(["u-popup__content__close",["u-popup__content__close--"+t.closeIconPos]]),"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},{default:p((()=>[b(C,{name:"close",color:"#909399",size:"18",bold:""})])),_:1},8,["onClick","class"])):v("v-if",!0),t.safeAreaInsetBottom?(r(),u(z,{key:2})):v("v-if",!0)])),_:3},8,["style","onClick"])])),_:3},8,["show","customStyle","mode","duration","onAfterEnter","onClick"])])),_:3})}],["__scopeId","data-v-934b81cb"]]);export{C as _,x as a};
