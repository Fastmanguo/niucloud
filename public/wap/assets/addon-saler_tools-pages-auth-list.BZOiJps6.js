import{d as e,S as a,r as l,s as t,B as s,F as o,b as r,l as i,c as n,x as u,c8 as c,cc as d,cd as p,m,$ as f,bY as h,aO as _,o as x,a0 as b,f as y,w as g,u as v,a1 as w,am as k,n as C,p as j,t as z,E as P,i as S,e as $,h as V,a as q,_ as A}from"./index-VHk1sExB.js";import{_ as B}from"./loading-page.vue_vue_type_script_setup_true_lang._vb0LNCj.js";import{g as F,a as I}from"./auth.CqjcWN4L.js";import{M}from"./mescroll-empty.uEQNJN_1.js";import"./mescroll-i18n.DUzOixk-.js";const O=A(e({__name:"list",setup(e){const A=a({list:[],searchParams:{search:"",is_use:0}}),O=l(!0),Y=l(!1),E=a([{name:t("enabled"),value:1,badge:{value:0,color:"var(--theme-color-primary)",bgColor:"#fff"}},{name:t("disabled"),value:0,badge:{value:0,color:"var(--theme-color-main)",bgColor:"#fff"}}]),T=e=>{A.searchParams.is_use=e.value,0==e.index?(E[0].badge.color="var(--theme-color-primary)",E[1].badge.color="var(--theme-color-main)"):(E[0].badge.color="var(--theme-color-main)",E[1].badge.color="var(--theme-color-primary)"),U()},U=()=>{O.value=!0,F({limit:100,...A.searchParams}).then((e=>{A.list=e.data})).catch((e=>{P({title:e.msg,icon:"none"})})),I().then((e=>{E[0].badge.value=e.data.user_num,E[1].badge.value=e.data.disable_num})),O.value=!1};s((()=>{U()})),o((()=>{U()}));return(e,a)=>{const l=r(n("up-icon"),i),s=S,o=r(n("up-navbar"),u),P=r(n("up-search"),c),F=r(n("up-tabs"),d),I=r(n("up-sticky"),p),W=r(n("up-image"),m),D=r(n("up-button"),f),G=r(n("up-line"),h),H=r(n("up-popup"),_),J=r(n("loading-page"),B);return x(),b(w,null,[y(s,{style:C(e.themeColor())},{default:g((()=>[y(o,{title:v(t)("employee_auth"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{center:g((()=>[y(s,null,{default:g((()=>[y(l,{name:"question-circle",label:v(t)("employee_auth"),labelPos:"left",onClick:a[0]||(a[0]=e=>Y.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"},null,8,["label"])])),_:1})])),_:1},8,["title"]),y(I,null,{default:g((()=>[y(s,{class:"mescroll-fixed-header !bg-[#f4f4f4] mb-1"},{default:g((()=>[y(s,{class:"bg-[#fff] p-2"},{default:g((()=>[y(P,{placeholder:v(t)("input.employee_auth.search"),shape:"square",showAction:!1,modelValue:A.searchParams.search,"onUpdate:modelValue":a[1]||(a[1]=e=>A.searchParams.search=e),onChange:a[2]||(a[2]=e=>{U()})},null,8,["placeholder","modelValue"])])),_:1}),y(s,{class:"bg-[#fff] py-2"},{default:g((()=>[y(F,{list:E,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:T,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1})])),_:1})])),_:1}),(x(!0),b(w,null,k(A.list,((e,a)=>(x(),$(s,{class:"bg-[#fff] p-3 mb-1"},{default:g((()=>[y(s,{class:"flex justify-center items-center",onClick:a=>(e=>{1!==e.is_admin&&q({url:`/addon/saler_tools/pages/auth/edit?uid=${e.uid}&type=edit`})})(e)},{default:g((()=>[y(W,{"show-loading":!0,src:"/static/assets/logo.png",mode:"aspectFit",width:"80px",height:"80px",shape:"circle"}),y(s,{class:"flex-1 flex flex-col px-2 h-[80px] justify-between"},{default:g((()=>[y(s,{class:"flex justify-between items-center w-full box-border"},{default:g((()=>[y(s,{class:"text-[var(--theme-color-main)]"},{default:g((()=>[j(z(e.real_name),1)])),_:2},1024),y(s,{class:"text-[var(--theme-color-content)]"},{default:g((()=>[j(z(e.last_ip),1)])),_:2},1024)])),_:2},1024),e.is_admin?(x(),$(s,{key:0,class:"text-[#fff] bg-red-400 w-[50px] px-[2px] rounded-[2px] flex justify-center items-center text-xs leading-5"},{default:g((()=>[j(z(v(t)("operator")),1)])),_:1})):(x(),$(s,{key:1,class:"text-sky-400"},{default:g((()=>[j(z(e.role_array[0]),1)])),_:2},1024)),y(s,{class:"flex justify-between items-center w-full box-border"},{default:g((()=>[y(s,{class:"text-[var(--theme-color-tips)] text-xs leading-[20px]"},{default:g((()=>[j(z(e.last_time),1)])),_:2},1024),y(s,null,{default:g((()=>[1!=e.is_admin?(x(),$(l,{key:0,name:"edit-pen",color:"var(--theme-color-primary)",size:"20"})):V("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),A.list.length||O.value?V("",!0):(x(),$(M,{key:0,option:{tip:v(t)("no_data")}},null,8,["option"]))])),_:2},1024)))),256)),y(s,{class:"fixed bottom-0 left-0 h-[80px] w-full box-border p-3 bg-[#fff] z-100",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:g((()=>[y(D,{text:v(t)("add_employee"),color:"#e0b87a",onClick:a[3]||(a[3]=e=>v(q)({url:"/addon/saler_tools/pages/auth/edit?type=add"}))},null,8,["text"])])),_:1})])),_:1},8,["style"]),y(H,{show:Y.value,mode:"bottom",onClose:a[5]||(a[5]=e=>Y.value=!1),onOpen:a[6]||(a[6]=e=>Y.value=!0)},{default:g((()=>[y(s,{class:"p-4 flex justify-between items-center"},{default:g((()=>[y(s),y(s,{class:"flex !text-center font-bold text-[30rpx]"},{default:g((()=>[j(z(v(t)("employee_auth")),1)])),_:1}),y(l,{name:"close",size:"15",onClick:a[4]||(a[4]=e=>Y.value=!1)})])),_:1}),y(G),y(s,{class:"p-4 px-3 flex flex-col"},{default:g((()=>[y(s,null,{default:g((()=>[j(z(v(t)("employee_auth.tips0")),1)])),_:1}),(x(),b(w,null,k([1,2,3],(e=>y(s,{style:{"text-indent":"1em"},key:e},{default:g((()=>[j(z(v(t)(`employee_auth.tips${e}`)),1)])),_:2},1024))),64)),(x(),b(w,null,k([4,5,6,7,8,9,10,11,12,13],(e=>y(s,{style:{"text-indent":"2em"},key:e},{default:g((()=>[j(z(v(t)(`employee_auth.tips${e}`)),1)])),_:2},1024))),64))])),_:1})])),_:1},8,["show"]),y(J,{loading:O.value},null,8,["loading"])],64)}}}),[["__scopeId","data-v-5e5829ad"]]);export{O as default};
