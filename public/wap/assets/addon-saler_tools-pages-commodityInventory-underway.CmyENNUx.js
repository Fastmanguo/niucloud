import{d as e,S as t,r as l,B as a,b as s,l as o,c,x as i,c8 as r,cc as u,ce as n,m,bG as f,$ as d,cD as p,aO as x,bY as b,b$ as v,c0 as g,bZ as y,cu as h,U as _,o as w,a0 as C,f as j,w as k,u as P,g as z,v as S,e as T,p as V,a1 as L,am as N,h as M,n as R,an as A,ao as I,i as U,t as q,a as Q,_ as $}from"./index-VHk1sExB.js";import{u as O,M as B}from"./useMescroll.Bh35ex94.js";import{M as F}from"./mescroll-empty.uEQNJN_1.js";import"./mescroll-i18n.DUzOixk-.js";const J=$(e({__name:"underway",setup(e){const $=t({missingList:{remark:"",missingQuantity:0,presentQuantity:0}}),J=l(0),Y=l(!1),D=t([{name:"全部"},{name:"腕表"},{name:"箱包"},{name:"珠宝"},{name:"鞋靴"},{name:"配饰"},{name:"服饰"},{name:"其他"}]),G=e=>{J.value=e.index},W=l(!1),X=(e,t)=>{Q(0==t?{url:`/addon/saler_tools/pages/product/detail?type=underway&list=${encodeURIComponent(JSON.stringify(e))}`}:{url:`/addon/saler_tools/pages/commodityInventory/detail?type=underway&status=${t}&list=${encodeURIComponent(JSON.stringify(e))}`})},Z=l(!1),E=l("存在"),H=t([{name:"存在",checked:!1},{name:"存在（但商品位置错误）",checked:!1}]),K=e=>{console.log("selectValue:",e)},ee=l(!1),te=e=>{console.log("缺失数量:",e)},le=l(3),ae=l(1),se=l(1),oe=t([{name:ae.value?"未盘点 "+ae.value:"未盘点"},{name:le.value?"已盘点 "+le.value:"已盘点"}]),ce=e=>{se.value=e,Y.value=!1,console.log("subsectionValue:",e)},ie=l(1),re=l(0),ue=l(0),ne=t([{name:ie.value?"存在 "+ie.value:"存在"},{name:re.value?"缺失 "+re.value:"缺失"}]),me=e=>{ue.value=e,Y.value=!1,console.log("haveTakenStockValue:",e)},{mescrollInit:fe,downCallback:de,getMescroll:pe}=O(I,A),xe=l(!0);l("all"),l("");const be=l([]);be.value=be.value.concat([{tag:"二手",title:"香港🇭🇰交收美金💲报价：理查德米勒Rm17-01Ntpt 全套2020年卡香港🇭🇰交收美金💲报价：理查德米勒Rm17-01Ntpt 全套2020年卡",handPrice:"3,150,000",peerPrice:"3,300,000",agentPrice:"3,500,000",salesPrice:"3,500,000",quantity:"10",location:"无",payment:"线上付",isNew:!0,type:"腕表",img:"static/assets/logo.png",imageList:["static/assets/product/1.jpg","static/assets/product/2.jpg","static/assets/product/3.jpg","static/assets/product/4.jpg","static/assets/product/5.jpg"],uplateTime:"2024-10-10",systemCode:10977847,commodityAttribute:{type:"寄卖商品",client:"商品委托方"},recycleTime:"2024-10-12",recycler:"Mia",status:"进行中"},{tag:"二手",title:"香港🇭🇰交收美金💲报价：理查德米勒Rm17-01Ntpt 全套2020年卡",handPrice:"3,150,000",peerPrice:"3,300,000",agentPrice:"3,500,000",salesPrice:"3,500,000",quantity:"1",location:"无",payment:"现金付",isNew:!0,type:"腕表",img:"static/assets/logo.png",imageList:["static/assets/product/1.jpg","static/assets/product/2.jpg","static/assets/product/3.jpg","static/assets/product/4.jpg","static/assets/product/5.jpg"],uplateTime:null,systemCode:10977848,commodityAttribute:{type:"寄卖商品",client:""},recycleTime:"2024-10-12",recycler:"Mia",status:"进行中"},{tag:"二手",title:"百达翡丽Patek 5303R 2023年库存全新,香港交收美金 可议价",handPrice:"3,150,000",peerPrice:"3,300,000",agentPrice:"3,500,000",salesPrice:"3,500,000",quantity:"2",location:"无",payment:"线上付",isNew:!0,type:"腕表",img:"static/assets/logo.png",imageList:["static/assets/product/1.jpg","static/assets/product/2.jpg","static/assets/product/3.jpg","static/assets/product/4.jpg","static/assets/product/5.jpg"],uplateTime:"2024-10-10",systemCode:10977846,commodityAttribute:{type:"寄卖商品",client:""},recycleTime:"2024-10-12",recycler:"Mia",status:"已完成"},{tag:"二手",title:"百达翡丽Patek 5303R 2023年库存全新",handPrice:"3,150,000",peerPrice:"3,300,000",agentPrice:"3,500,000",salesPrice:"3,200,000",quantity:"1",location:"无",payment:"现金付",isNew:!0,type:"腕表",img:"static/assets/logo.png",imageList:["static/assets/product/1.jpg","static/assets/product/2.jpg","static/assets/product/3.jpg","static/assets/product/4.jpg","static/assets/product/5.jpg"],uplateTime:"2024-10-12",systemCode:10977849,commodityAttribute:{type:"寄卖商品",client:""},recycleTime:"2024-10-12",recycler:"Mia",status:"已取消"},{tag:"二手",title:"百达翡丽Patek 5303R 2023年库存全新",handPrice:"3,150,000",peerPrice:"3,300,000",agentPrice:"3,500,000",salesPrice:"3,200,000",quantity:"1",location:"无",payment:"现金付",isNew:!0,type:"watch",img:"static/assets/logo.png",imageList:["static/assets/product/1.jpg","static/assets/product/2.jpg","static/assets/product/3.jpg","static/assets/product/4.jpg","static/assets/product/5.jpg"],uplateTime:"2024-10-12",systemCode:10977850,commodityAttribute:{type:"寄卖商品",client:""},recycleTime:"2024-10-12",recycler:"Mia",status:"已完成"}]);const ve=l("");return a((e=>{ve.value=e.checkCode,console.log(ve.value)})),(e,t)=>{const l=s(c("up-icon"),o),a=U,A=s(c("up-navbar"),i),I=s(c("up-search"),r),Q=s(c("up-tabs"),u),O=s(c("up-divider"),n),J=s(c("up-image"),m),le=s(c("up-text"),f),ae=s(c("up-button"),d),ie=s(c("up-subsection"),p),re=s(c("up-popup"),x),de=s(c("up-line"),b),pe=s(c("up-radio"),v),ve=s(c("up-radio-group"),g),ge=s(c("up-textarea"),y),ye=s(c("up-number-box"),h),he=s(c("up-input"),_);return w(),C(L,null,[j(a,{style:R(e.themeColor())},{default:k((()=>[j(A,{title:"盘点列表-进行中",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{right:k((()=>[j(a,{class:"u-nav-slot"},{default:k((()=>[j(l,{name:"scan",size:"21",onClick:t[0]||(t[0]=e=>W.value=!W.value)})])),_:1})])),_:1}),j(a,{class:"mescroll-fixed-header !bg-[#f4f4f4]"},{default:k((()=>[j(a,{class:"bg-[#fff] p-2"},{default:k((()=>[j(I,{placeholder:"搜索保单名称/独立编码/关键字",shape:"square",showAction:!1})])),_:1}),j(a,{class:"bg-[#fff] py-2"},{default:k((()=>[j(Q,{list:D,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:G,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},{right:k((()=>[j(a,{style:{"padding-right":"5px"}},{default:k((()=>[j(l,{name:"/static/assets/stock/screen.png",size:"21",onClick:t[1]||(t[1]=e=>W.value=!W.value)})])),_:1})])),_:1},8,["list"])])),_:1})])),_:1}),j(B,{ref:"mescrollRef",onInit:P(fe),onUp:t[7]||(t[7]=()=>{}),top:"0"},{default:k((()=>[be.value.length?z((w(),T(a,{key:0,class:"pb-[25px]"},{default:k((()=>[j(a,{class:"bg-[#fff] p-2 text-xs text-[var(--theme-color-content)]"},{default:k((()=>[j(a,{class:"flex flex-col w-full box-border bg-[var(--theme-upload-bg)] rounded-[10px] py-2"},{default:k((()=>[j(a,{class:"flex justify-start items-center w-full box-border"},{default:k((()=>[j(a,{class:"py-2 w-1/4 flex text-center flex-col items-center"},{default:k((()=>[j(a,{class:"mb-1 text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("5")])),_:1}),j(a,null,{default:k((()=>[V("腕表")])),_:1})])),_:1})])),_:1}),z(j(a,null,{default:k((()=>[j(O,{text:"品牌名称",class:"!m-1 !p-0",hairline:!0,textSize:"11px"}),j(a,{class:"flex justify-start items-center w-full box-border"},{default:k((()=>[j(a,{class:"py-2 w-1/4 flex text-center flex-col items-center"},{default:k((()=>[j(a,{class:"mb-1 text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("3")])),_:1}),j(a,null,{default:k((()=>[V("未知品牌")])),_:1})])),_:1}),j(a,{class:"py-2 w-1/4 flex text-center flex-col items-center"},{default:k((()=>[j(a,{class:"mb-1 text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("2")])),_:1}),j(a,null,{default:k((()=>[V("百达翡丽")])),_:1})])),_:1})])),_:1}),j(O,{text:"商品位置",class:"!m-1 !p-0",hairline:!0,textSize:"11px"}),j(a,{class:"flex justify-start items-center w-full box-border"},{default:k((()=>[j(a,{class:"py-2 w-1/4 flex text-center flex-col items-center"},{default:k((()=>[j(a,{class:"mb-1 text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("5")])),_:1}),j(a,null,{default:k((()=>[V("无")])),_:1})])),_:1})])),_:1})])),_:1},512),[[S,Y.value]]),j(a,{class:"w-full flex justify-center my-1",onClick:t[2]||(t[2]=e=>Y.value=!Y.value)},{default:k((()=>[j(l,{name:Y.value?"arrow-up":"arrow-down",size:"14",bold:"",label:Y.value?"收起":"查看更多",labelColor:"var(--theme-color-primary)",labelSize:"14px",color:"var(--theme-color-primary)",labelPos:"left"},null,8,["name","label"])])),_:1})])),_:1})])),_:1}),(w(!0),C(L,null,N(be.value,((e,l)=>(w(),C(L,null,[j(a,{class:"flex flex-col p-3 bg-[#fff] box-border"},{default:k((()=>[j(a,{class:"flex justify-between items-center min-h-[90px]"},{default:k((()=>[j(J,{"show-loading":!0,src:e.img,mode:"aspectFit",width:"90px",radius:"5",height:"90px",onClick:t=>X(e,0)},null,8,["src","onClick"]),j(a,{class:"flex justify-between flex-col flex-1 pl-2 min-h-[90px]"},{default:k((()=>[j(a,{class:"flex items-baseline leading-5 text-[14px] flex-1 text-[var(--theme-color-main)]",onClick:t=>X(e,0)},{default:k((()=>[j(le,{lines:2,text:e.title},null,8,["text"])])),_:2},1032,["onClick"]),j(a,{class:"text-[var(--theme-text-blue)] mt-1 text-xs",onClick:t=>X(e,0)},{default:k((()=>[V(" 数量：1 ")])),_:2},1032,["onClick"]),j(a,{class:"flex justify-end items-center"},{default:k((()=>[j(a,{class:"flex justify-end items-center"},{default:k((()=>[j(ae,{text:"缺失",plain:!0,color:"var(--theme-color-primary)",hairline:!0,size:"small",class:"mx-2",onClick:t[3]||(t[3]=e=>ee.value=!0)}),j(ae,{text:"存在",color:"var(--theme-color-primary)",size:"small",onClick:t[4]||(t[4]=e=>Z.value=!0)})])),_:1})])),_:1})])),_:2},1024)])),_:2},1024),j(a,{class:"flex items-center mt-2 mb-0 text-[12px] my-2",onClick:t=>X(e,0)},{default:k((()=>[j(a,{class:"text-[var(--theme-text-red)]"},{default:k((()=>[V(" 商品位置：无 ")])),_:1}),j(a,{class:"mx-2 text-[var(--theme-border)] leading-4"},{default:k((()=>[V("|")])),_:1}),j(a,{class:"text-[var(--theme-color-primary)]"},{default:k((()=>[V(" 临时仓：测试仓1 ")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024),j(O,{class:"!p-0 !m-0"})],64)))),256))])),_:1},512)),[[S,0==se.value]]):M("",!0),be.value.length?z((w(),T(a,{key:1,class:"pb-[25px]"},{default:k((()=>[j(a,{class:"flex justify-start items-center box-border box-border p-2 bg-[#fff]"},{default:k((()=>[j(ie,{list:ne,current:0,mode:"subsection",activeColor:"var(--theme-text-blue)",onChange:me},null,8,["list"])])),_:1}),j(a,{class:"bg-[#fff] p-2 text-xs text-[var(--theme-color-content)]"},{default:k((()=>[j(a,{class:"flex flex-col w-full box-border bg-[var(--theme-upload-bg)] rounded-[10px] py-2"},{default:k((()=>[j(a,{class:"flex justify-start items-center w-full box-border"},{default:k((()=>[j(a,{class:"py-2 w-1/4 flex text-center flex-col items-center"},{default:k((()=>[j(a,{class:"mb-1 text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("5")])),_:1}),j(a,null,{default:k((()=>[V("腕表")])),_:1})])),_:1})])),_:1}),z(j(a,null,{default:k((()=>[j(O,{text:"品牌名称",class:"!m-1 !p-0",hairline:!0,textSize:"11px"}),j(a,{class:"flex justify-start items-center w-full box-border"},{default:k((()=>[j(a,{class:"py-2 w-1/4 flex text-center flex-col items-center"},{default:k((()=>[j(a,{class:"mb-1 text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("3")])),_:1}),j(a,null,{default:k((()=>[V("未知品牌")])),_:1})])),_:1}),j(a,{class:"py-2 w-1/4 flex text-center flex-col items-center"},{default:k((()=>[j(a,{class:"mb-1 text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("2")])),_:1}),j(a,null,{default:k((()=>[V("百达翡丽")])),_:1})])),_:1})])),_:1}),j(O,{text:"商品位置",class:"!m-1 !p-0",hairline:!0,textSize:"11px"}),j(a,{class:"flex justify-start items-center w-full box-border"},{default:k((()=>[j(a,{class:"py-2 w-1/4 flex text-center flex-col items-center"},{default:k((()=>[j(a,{class:"mb-1 text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("5")])),_:1}),j(a,null,{default:k((()=>[V("无")])),_:1})])),_:1})])),_:1})])),_:1},512),[[S,Y.value]]),j(a,{class:"w-full flex justify-center my-1",onClick:t[5]||(t[5]=e=>Y.value=!Y.value)},{default:k((()=>[j(l,{name:Y.value?"arrow-up":"arrow-down",size:"14",bold:"",label:Y.value?"收起":"查看更多",labelColor:"var(--theme-color-primary)",labelSize:"14px",color:"var(--theme-color-primary)",labelPos:"left"},null,8,["name","label"])])),_:1})])),_:1})])),_:1}),(w(!0),C(L,null,N(be.value,((e,l)=>(w(),C(L,null,[j(a,{class:"flex flex-col p-3 bg-[#fff] box-border"},{default:k((()=>[j(a,{class:"flex justify-between items-center min-h-[90px]"},{default:k((()=>[j(J,{"show-loading":!0,src:e.img,mode:"aspectFit",width:"90px",radius:"5",height:"90px",onClick:t=>X(e,ue.value?2:1)},null,8,["src","onClick"]),j(a,{class:"flex justify-between flex-col flex-1 pl-2 min-h-[90px]"},{default:k((()=>[j(a,{class:"flex items-baseline leading-5 text-[14px] flex-1 text-[var(--theme-color-main)]",onClick:t=>X(e,ue.value?2:1)},{default:k((()=>[j(le,{lines:2,text:e.title},null,8,["text"])])),_:2},1032,["onClick"]),j(a,{class:"text-[var(--theme-text-blue)] my-1 text-xs flex items-center",onClick:t=>X(e,ue.value?2:1)},{default:k((()=>[j(a,null,{default:k((()=>[V("数量：1")])),_:1}),j(a,{class:"mx-2 text-[var(--theme-border)] leading-4"},{default:k((()=>[V("|")])),_:1}),j(a,null,{default:k((()=>[V("存在：0")])),_:1}),j(a,{class:"mx-2 text-[var(--theme-border)] leading-4"},{default:k((()=>[V("|")])),_:1}),j(a,null,{default:k((()=>[V("缺失：1")])),_:1})])),_:2},1032,["onClick"]),j(a,{class:"flex justify-between items-end"},{default:k((()=>[j(a,{class:"text-[var(--theme-color-primary)] text-sm flex justify-start items-center"},{default:k((()=>[V(q(ue.value?"缺失":"存在（但商品位置错误）"),1)])),_:1}),j(a,null,{default:k((()=>[j(ae,{text:"修改盘点状态",color:"var(--theme-color-primary)",size:"mini",onClick:t[6]||(t[6]=e=>ee.value=!0)})])),_:1})])),_:1})])),_:2},1024)])),_:2},1024),j(a,{class:"flex items-center mt-2 mb-0 text-[12px] my-2",onClick:t=>X(e,ue.value?2:1)},{default:k((()=>[j(a,{class:"text-[var(--theme-text-red)]"},{default:k((()=>[V(" 商品位置：在途 ")])),_:1}),j(a,{class:"mx-2 text-[var(--theme-border)] leading-4"},{default:k((()=>[V("|")])),_:1}),j(a,{class:"text-[var(--theme-color-primary)]"},{default:k((()=>[V(" 临时仓：测试仓1 ")])),_:1})])),_:2},1032,["onClick"]),j(a,{class:"mt-1"},{default:k((()=>[j(le,{lines:1,text:ue.value?"缺失备注：商品已丢失":"",size:"12",color:"var(--theme-color-tips)"},null,8,["text"])])),_:1})])),_:2},1024),j(O,{class:"!p-0 !m-0"})],64)))),256))])),_:1},512)),[[S,1==se.value]]):M("",!0),be.value.length||xe.value?M("",!0):(w(),T(F,{key:2,option:{tip:"暂无商品"}}))])),_:1},8,["onInit"]),j(a,{class:"custom-subsection fixed bottom-0 left-0 w-full z-100 bg-[#fff] box-border flex justify-between items-center pb-[25px] h-[80px]",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:k((()=>[j(a,{class:"w-full box-border flex justify-center mt-2"},{default:k((()=>[j(ie,{list:oe,current:1,mode:"subsection",activeColor:"var(--theme-text-blue)",class:"!h-[38px]",onChange:ce},null,8,["list"])])),_:1})])),_:1})])),_:1},8,["style"]),j(re,{show:W.value,mode:"bottom",onClose:t[9]||(t[9]=e=>W.value=!1),onOpen:t[10]||(t[10]=e=>W.value=!0)},{default:k((()=>[j(a,{class:"p-4 flex justify-between items-center"},{default:k((()=>[j(a),j(a,{class:"flex !text-center font-bold text-[30rpx]"},{default:k((()=>[V("筛选")])),_:1}),j(l,{name:"close",size:"15",onClick:t[8]||(t[8]=e=>W.value=!1)})])),_:1})])),_:1},8,["show"]),j(re,{show:Z.value,mode:"bottom",onClose:t[15]||(t[15]=e=>Z.value=!1)},{default:k((()=>[j(a,{class:"p-3 flex justify-between items-center"},{default:k((()=>[j(a),j(a,{class:"flex !text-center font-bold text-[30rpx]"},{default:k((()=>[V("确定该商品存在?")])),_:1}),j(l,{name:"close",size:"15",onClick:t[11]||(t[11]=e=>Z.value=!1)})])),_:1}),j(de),j(a,{class:"p-3"},{default:k((()=>[j(ve,{modelValue:E.value,"onUpdate:modelValue":t[12]||(t[12]=e=>E.value=e),placement:"column",iconPlacement:"right",activeColor:"var(--theme-color-primary)"},{default:k((()=>[(w(!0),C(L,null,N(H,((e,t)=>(w(),T(pe,{shape:"circle",onChange:K,label:e.name,name:e.name,labelColor:"var(--theme-text-main)"},null,8,["label","name"])))),256))])),_:1},8,["modelValue"])])),_:1}),j(a,{class:"flex gap-3 mb-5 p-4"},{default:k((()=>[j(ae,{onClick:t[13]||(t[13]=e=>Z.value=!1),class:"!text-[var(--theme-color-main)]",color:"#f4f5f7",text:"取消"}),j(ae,{text:"确定",onClick:t[14]||(t[14]=e=>Z.value=!1),color:"var(--theme-color-primary)"})])),_:1})])),_:1},8,["show"]),j(re,{show:ee.value,mode:"bottom",onClose:t[21]||(t[21]=e=>ee.value=!1)},{default:k((()=>[j(a,{class:"p-4 flex justify-between items-center"},{default:k((()=>[j(a),j(a,{class:"flex !text-center font-bold text-[30rpx]"},{default:k((()=>[V("确定该商品缺失?")])),_:1}),j(l,{name:"close",size:"15",onClick:t[16]||(t[16]=e=>ee.value=!1)})])),_:1}),j(de),j(a,{class:"p-4 flex flex-col !box-border"},{default:k((()=>[j(a,{class:"flex justify-start items-center mb-2"},{default:k((()=>[j(a,{class:"text-sm text-[var(--theme-color-main)]"},{default:k((()=>[V("盘点备注")])),_:1}),j(a,{class:"text-xs text-[var(--theme-color-tips)]"},{default:k((()=>[V("（选填）")])),_:1})])),_:1}),j(ge,{placeholder:"请输入盘点备注。例如：被借走参观、拿去展会等",border:"none",height:"50px",maxlength:"50",class:"!bg-[#f4f5f7]"})])),_:1}),j(a,{class:"flex justify-between items-center px-4 mb-4 w-full box-border"},{default:k((()=>[j(a,{class:"flex"},{default:k((()=>[V("缺失数量")])),_:1}),j(a,null,{default:k((()=>[j(ye,{modelValue:$.missingList.missingQuantity,"onUpdate:modelValue":t[17]||(t[17]=e=>$.missingList.missingQuantity=e),onChange:te},null,8,["modelValue"])])),_:1})])),_:1}),j(a,{class:"flex items-center justify-between px-4 mb-4 w-full box-border text-[var(--theme-input-title-size)]"},{default:k((()=>[j(a,null,{default:k((()=>[V(" 存在数量 ")])),_:1}),j(a,{class:"flex items-center"},{default:k((()=>[j(he,{modelValue:$.missingList.presentQuantity,"onUpdate:modelValue":t[18]||(t[18]=e=>$.missingList.presentQuantity=e),placeholder:"请输入存在数量",border:"none",inputAlign:"right",placeholderStyle:"color: var(--theme-input-placeholder);text-align: end;"},null,8,["modelValue"])])),_:1})])),_:1}),j(a,{class:"flex gap-3 mb-5 p-4"},{default:k((()=>[j(ae,{onClick:t[19]||(t[19]=e=>ee.value=!1),class:"!text-[var(--theme-color-main)]",color:"#f4f5f7",text:"取消"}),j(ae,{text:"确定",onClick:t[20]||(t[20]=e=>ee.value=!1),color:"var(--theme-color-primary)"})])),_:1})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-112a61bf"]]);export{J as default};
