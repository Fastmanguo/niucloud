import{d as e,S as l,r as t,B as a,b as s,x as o,c,$ as r,l as u,U as n,a_ as d,o as i,a0 as m,f as p,w as f,p as x,a1 as v,am as h,u as _,a2 as b,t as g,n as y,i as w,e as k,a as C,cH as z,_ as j}from"./index-VHk1sExB.js";import{c as B}from"./custom-popup.CdItBrdJ.js";import{g as S}from"./warehouse.DBo3FtFy.js";/* empty css                                                                     */const $=j(e({__name:"warehouse",setup(e){const j=l({}),$=t(0),I=t([{name:"自有商品",value:0,type:"own"},{name:"寄卖商品",value:1,type:"consignment"},{name:"质押商品",value:2,type:"pledged"},{name:"其他",value:3,type:"other"}]),N=t(0),U=t([]);S().then((e=>{U.value=e.data}));const V=t(!1),A=t(!1),M=t([{name:"店员1",checked:!1,value:0,selected:!1},{name:"店员2",checked:!1,value:1,selected:!1},{name:"店员3",checked:!1,value:2,selected:!1},{name:"店员4",checked:!1,value:3,selected:!1},{name:"Mia",checked:!1,value:4,selected:!1}]),T=t(!1),D=t([]),H=e=>{D.value=e.map((e=>({name:e.name,checked:e.checked,value:e.value,selected:e.selected}))),M.value=M.value.map((e=>{const l=D.value.some((l=>l.value===e.value));return{...e,selected:l,checked:l}}))},L=t(!1),q=t(Date.now()),E=(e,l)=>"year"===e?`${l}年`:"month"===e?`${l}月`:"day"===e?`${l}日`:"hour"===e?`${l}时`:"minute"===e?`${l}分`:l;return a((e=>{j.selectedBrandId=e.brandId,j.selectedBrandName=e.brandName,console.log(j)})),(e,l)=>{const t=s(c("up-navbar"),o),a=w,S=s(c("up-button"),r),F=s(c("up-icon"),u),G=s(c("up-input"),n),J=s(c("up-datetime-picker"),d);return i(),m(v,null,[p(a,{style:y(e.themeColor())},{default:f((()=>[p(t,{title:"创建仓库盘点",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),p(a,{class:"bg-[#fff] mt-1"},{default:f((()=>[p(a,{class:"p-3 pb-2 flex flex-col"},{default:f((()=>[p(a,{class:"flex justify-between items-center"},{default:f((()=>[p(a,{class:"flex text-[var(--theme-input-title-size)]"},{default:f((()=>[x(" 商品属性 "),p(a,{class:"text-rose-500"},{default:f((()=>[x("*")])),_:1})])),_:1}),p(a,{class:"text-[var(--theme-input-placeholder)] text-xs"},{default:f((()=>[x(" 选择需要盘点的商品属性 ")])),_:1})])),_:1}),p(a,{class:"grid grid-cols-3 mt-2 gap-x-3"},{default:f((()=>[(i(!0),m(v,null,h(I.value,((e,l)=>(i(),k(a,null,{default:f((()=>[p(S,{color:$.value===l?"var(--theme-color-primary)":"",plain:!0,text:e.name,class:b(["mb-2",$.value===l?"!text-[#fff] !bg-[var(--theme-color-primary)]":"!text-[var(--theme-color-tips)] !bg-gray-50 !border-none"]),onClick:e=>(e=>{$.value=e})(l)},null,8,["color","text","class","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1}),p(a,{class:"p-3 pb-2 flex flex-col"},{default:f((()=>[p(a,{class:"flex justify-between items-center"},{default:f((()=>[p(a,{class:"flex text-[var(--theme-input-title-size)]"},{default:f((()=>[x(" 商品分类 "),p(a,{class:"text-rose-500"},{default:f((()=>[x("*")])),_:1})])),_:1}),p(a,{class:"text-[var(--theme-input-placeholder)] text-xs"},{default:f((()=>[x(" 选择需要盘点的商品分类，不填则默认全部 ")])),_:1})])),_:1}),p(a,{class:"grid grid-cols-3 mt-2 gap-x-3"},{default:f((()=>[(i(!0),m(v,null,h(U.value,((e,l)=>(i(),k(a,null,{default:f((()=>[p(S,{color:N.value===l?"var(--theme-color-primary)":"",plain:!0,text:e.category_name,class:b(["mb-2",N.value===l?"!text-[#fff] !bg-[var(--theme-color-primary)]":"!text-[var(--theme-color-tips)] !bg-gray-50 !border-none"]),onClick:t=>((e,l)=>{N.value=l,j.category_id=e.category_id,console.log(j)})(e,l)},null,8,["color","text","class","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1}),p(a,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]",onClick:l[1]||(l[1]=e=>T.value=!0)},{default:f((()=>[p(a,{class:"flex"},{default:f((()=>[x(" 盘点人员 ")])),_:1}),p(a,{class:"flex items-center h-[14px]"},{default:f((()=>[p(a,{class:"text-[var(--theme-input-placeholder)] text-sm",onClick:l[0]||(l[0]=e=>T.value=!0)},{default:f((()=>[x(" 请选择盘点人员 ")])),_:1}),p(F,{name:"arrow-right",size:"13",color:"var(--theme-input-placeholder)",class:"ml-[5rpx]"})])),_:1})])),_:1}),p(a,{class:"px-3 flex flex-wrap items-end"},{default:f((()=>[(i(!0),m(v,null,h(D.value,((e,l)=>(i(),k(a,{class:"relative overflow-hidden rounded mr-3",onClick:e=>(e=>{const l=D.value[e];D.value.splice(e,1),M.value=M.value.map((e=>e.value===l.value?{...e,selected:!1,checked:!1}:e))})(l)},{default:f((()=>[p(S,{text:e.name,plain:"",color:"var(--theme-color-content)",closable:A.value,class:"!border-none mb-2 tag-unselected"},null,8,["text","closable"]),p(a,{class:"flex items-end justify-center h-[40px] w-[40px] absolute bg-rose-500 top-[-24px] right-[-24px]",style:{transform:"rotate(45deg)"}},{default:f((()=>[p(F,{name:"close",size:"11",color:"#fff",style:{transform:"rotate(45deg)"}})])),_:1})])),_:2},1032,["onClick"])))),256))])),_:1}),p(a,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]",onClick:l[3]||(l[3]=e=>V.value=!0)},{default:f((()=>[p(a,{class:"flex"},{default:f((()=>[x(" 品牌 ")])),_:1}),p(a,{class:"flex items-center h-[14px] text-sm",onClick:l[2]||(l[2]=e=>_(C)({url:"/addon/saler_tools/pages/product/brand?type=warehouse"}))},{default:f((()=>[p(a,{class:b(j.selectedBrandName?"text-[var(--theme-color-main)]":"text-[var(--theme-input-placeholder)]")},{default:f((()=>[x(g(j.selectedBrandName?j.selectedBrandName:"请选择品牌"),1)])),_:1},8,["class"]),p(F,{name:"arrow-right",size:"13",color:"var(--theme-input-placeholder)",class:"ml-[5rpx]"})])),_:1})])),_:1}),p(a,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]"},{default:f((()=>[p(a,{class:"flex"},{default:f((()=>[x(" 盘点名称 ")])),_:1}),p(a,{class:"flex-1 flex items-center h-[14px] text-sm"},{default:f((()=>[p(G,{placeholder:"不填则系统默认生产盘点名称",border:"none",inputAlign:"right",fontSize:"15",placeholderStyle:"color: var(--theme-input-placeholder);text-align: end;"})])),_:1})])),_:1}),p(a,{class:"p-3 flex items-center justify-between text-[var(--theme-input-title-size)]"},{default:f((()=>[p(a,{class:"flex"},{default:f((()=>[x(" 盘点结束时间 ")])),_:1}),p(a,{class:"flex items-center h-[14px] text-sm",onClick:l[4]||(l[4]=e=>L.value=!0)},{default:f((()=>[x(g(_(z)(q.value/1e3))+" ",1),p(F,{name:"arrow-right",size:"13",color:"var(--theme-input-placeholder)",class:"ml-[5rpx]"})])),_:1})])),_:1}),p(a,{class:"px-3 pb-3 text-[var(--theme-text-red)] text-xs"},{default:f((()=>[x(" 填选盘点时间后进入盘点的商品不可操作（入库、编辑、删除、开单、退货） ")])),_:1})])),_:1}),p(a,{class:"fixed bottom-0 left-0 h-[80px] w-full box-border p-3 bg-[#fff] z-100",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:f((()=>[p(a,{class:"flex gap-3"},{default:f((()=>[p(S,{class:"!text-[#606266]",color:"#909399",plain:"",text:"取消"}),p(S,{text:"创建",color:"#e0b87a"})])),_:1})])),_:1})])),_:1},8,["style"]),p(B,{show:T.value,title:"请选择盘点人员",list:M.value,tooltip:"显示该店铺历史全部员工",subhead:"盘点人员",checkboxLabel:"显示全部员工","onUpdate:show":l[5]||(l[5]=e=>T.value=e),onSelect:H,selectionMode:"multiple",selectItemSize:"normal",showSearch:!0},null,8,["show","list"]),p(J,{show:L.value,modelValue:q.value,"onUpdate:modelValue":l[6]||(l[6]=e=>q.value=e),mode:"datetime",confirmColor:"var(--theme-color-primary)",onConfirm:l[7]||(l[7]=e=>L.value=!1),onCancel:l[8]||(l[8]=e=>L.value=!1),formatter:E,confirmText:"确定"},null,8,["show","modelValue"])],64)}}}),[["__scopeId","data-v-f19ed954"]]);export{$ as default};
