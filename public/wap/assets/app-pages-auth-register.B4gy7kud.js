import{d as e,S as a,s as l,r as o,a7 as t,b as r,m as i,c as s,U as d,V as m,$ as n,W as p,o as u,e as c,w as f,f as _,p as b,t as g,u as x,n as h,E as w,a as v,i as V,_ as y}from"./index-VHk1sExB.js";import{e as z,u as S}from"./user.Rj49YIaw.js";import{b as U}from"./browser.BTH0nPVW.js";const E=y(e({__name:"register",setup(e){const y=a({form:{real_name:"",email:"",code:"",invitation_code:"",password:"",again_password:""},rules:{real_name:{type:"string",required:!0,message:l("input.real_name.tips"),trigger:["blur","change"]},email:{type:"string",required:!0,pattern:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/,message:l("input.effective_email.tips"),trigger:["blur","change"]},code:{type:"string",required:!0,message:l("input.code.tips"),trigger:["blur","change"]},invitation_code:{type:"string",required:!1,trigger:["blur"]},password:{type:"string",required:!0,message:l("input.password.tips"),trigger:["blur"]},again_password:{type:"string",required:!0,validator:(e,a,o)=>{a!==y.form.password?o(l("input.confirm_password.tips2")):o()},message:l("input.confirm_password.tips2"),trigger:["blur","change"]}},formRef:null,isEmailValid:!1,isFormValid:!1}),E=o(60),W=o(!1);t((()=>y.form.email),(e=>{y.rules.email.pattern.test(e)?y.isEmailValid=!0:y.isEmailValid=!1})),t((()=>y.form.again_password),(()=>{y.form.again_password!==y.form.password?y.isFormValid=!1:y.form.again_password&&y.form.password&&y.form.code&&y.form.email&&y.form.real_name?y.isFormValid=!0:y.isFormValid=!1}),{deep:!0});const k=()=>{z({email:y.form.email}).then((()=>{w({title:l("code_success"),icon:"none"}),q()})).catch((()=>{w({title:l("code_error"),icon:"none"})}))},q=()=>{W.value=!0;let e=setInterval((()=>{E.value--,E.value<=0&&(clearInterval(e),E.value=60,W.value=!1)}),1e3)},B=()=>{S({email:y.form.email,code:y.form.code,real_name:y.form.real_name,password:y.form.password,invitation_code:y.form.invitation_code}).then((()=>{w({title:l("success"),icon:"none"}),U.nextTick((()=>{v({url:"/app/pages/auth/login"})}))})).catch((()=>{w({title:l("error"),icon:"none"})}))};return(e,a)=>{const o=r(s("up-image"),i),t=V,w=r(s("up-input"),d),z=r(s("up-form-item"),m),S=r(s("up-button"),n),U=r(s("up-form"),p);return u(),c(t,{style:h(e.themeColor())},{default:f((()=>[_(t,{class:"my-20 px-5"},{default:f((()=>[_(t,{class:"flex items-center mb-5"},{default:f((()=>[_(o,{"show-loading":!0,src:"/static/assets/logo.png",width:"50px",height:"50px",radius:"50px"}),_(t,{class:"ml-2 text-base text-[var(--theme-color-main)] font-semibold"},{default:f((()=>[_(t,{class:"font-serif subpixel-antialiased"},{default:f((()=>[b(" LUXUR CENER ")])),_:1}),_(t,{class:"text-[var(--theme-color-main)]"},{default:f((()=>[b(g(x(l)("register_account")),1)])),_:1})])),_:1})])),_:1}),_(U,{labelPosition:"left",model:y.form,rules:y.rules,ref:"state.formRef"},{default:f((()=>[_(z,{label:x(l)("form.real_name"),prop:"real_name",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:f((()=>[_(w,{clearable:"",modelValue:y.form.real_name,"onUpdate:modelValue":a[0]||(a[0]=e=>y.form.real_name=e),placeholder:x(l)("input.real_name.tips"),fontSize:"14px"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),_(z,{label:x(l)("form.email"),prop:"email",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:f((()=>[_(w,{clearable:"",modelValue:y.form.email,"onUpdate:modelValue":a[1]||(a[1]=e=>y.form.email=e),placeholder:x(l)("input.email.tips"),fontSize:"14px"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),_(z,{label:x(l)("form.code"),prop:"code",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:f((()=>[_(w,{clearable:"",modelValue:y.form.code,"onUpdate:modelValue":a[2]||(a[2]=e=>y.form.code=e),placeholder:x(l)("input.code.tips"),fontSize:"14px"},{suffix:f((()=>[W.value?(u(),c(S,{key:1,text:E.value+x(l)("try_again_in_seconds"),size:"mini",color:"var(--theme-color-primary)",onClick:k,disabled:!y.isEmailValid||W.value},null,8,["text","disabled"])):(u(),c(S,{key:0,text:x(l)("get.code"),size:"mini",color:"var(--theme-color-primary)",onClick:k,disabled:!y.isEmailValid||W.value},null,8,["text","disabled"]))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),_(z,{label:x(l)("form.invitation_code"),prop:"invitation_code",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:f((()=>[_(w,{clearable:"",modelValue:y.form.invitation_code,"onUpdate:modelValue":a[3]||(a[3]=e=>y.form.invitation_code=e),placeholder:x(l)("input.invitation_code.tips"),fontSize:"14px"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),_(z,{label:x(l)("form.password"),prop:"password",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:f((()=>[_(w,{clearable:"",modelValue:y.form.password,"onUpdate:modelValue":a[4]||(a[4]=e=>y.form.password=e),placeholder:x(l)("input.password.tips"),fontSize:"14px",type:"password"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),_(z,{label:x(l)("form.confirm_password"),prop:"again_password",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:f((()=>[_(w,{clearable:"",modelValue:y.form.again_password,"onUpdate:modelValue":a[5]||(a[5]=e=>y.form.again_password=e),placeholder:x(l)("input.confirm_password.tips"),fontSize:"14px",type:"password"},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","rules"]),_(t,{class:"my-5"},{default:f((()=>[_(S,{text:x(l)("register_btn"),onClick:B,disabled:!y.isFormValid,color:"var(--theme-color-primary)"},null,8,["text","disabled"]),_(t,{class:"text-xs text-center my-3 text-[var(--theme-color-content)] flex justify-center items-center",onClick:a[6]||(a[6]=e=>x(v)({url:"/app/pages/auth/login"}))},{default:f((()=>[_(t,null,{default:f((()=>[b(g(x(l)("account_exist")),1)])),_:1}),_(t,{class:"text-[var(--theme-text-blue)]"},{default:f((()=>[b(g(x(l)("go_login")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-24a8d4cb"]]);export{E as default};
