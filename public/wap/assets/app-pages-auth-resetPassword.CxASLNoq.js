import{d as s,S as a,s as e,a7 as o,b as r,m as l,c as t,U as d,V as p,W as i,$ as m,o as n,e as f,w as u,f as w,p as c,t as _,u as b,n as g,E as x,a as h,i as V,_ as y}from"./index-VHk1sExB.js";import{a as S}from"./user.Rj49YIaw.js";import{b as z}from"./browser.BTH0nPVW.js";const U=y(s({__name:"resetPassword",setup(s){const y=a({form:{old_password:"",password:"",again_password:""},rules:{old_password:{type:"string",required:!0,message:e("input.old_password.tips"),trigger:["blur","change"]},password:{type:"string",required:!0,message:e("input.password.tips"),trigger:["blur"]},again_password:{type:"string",required:!0,validator:(s,a,o)=>{a!==y.form.password?o(e("input.confirm_password.tips2")):o()},message:e("input.confirm_password.tips2"),trigger:["blur","change"]}},formRef:null,isEmailValid:!1,isFormValid:!1});o((()=>y.form.again_password),(()=>{y.form.again_password!==y.form.password?y.isFormValid=!1:y.form.again_password&&y.form.password&&y.form.old_password?y.isFormValid=!0:y.isFormValid=!1}),{deep:!0});const U=()=>{S({old_password:y.form.old_password,password:y.form.password}).then((()=>{x({title:e("success"),icon:"none"}),z.nextTick((()=>{h({url:"/app/pages/auth/login"})}))})).catch((()=>{x({title:e("error"),icon:"none"})}))};return(s,a)=>{const o=r(t("up-image"),l),x=V,h=r(t("up-input"),d),S=r(t("up-form-item"),p),z=r(t("up-form"),i),v=r(t("up-button"),m);return n(),f(x,{style:g(s.themeColor())},{default:u((()=>[w(x,{class:"my-20 px-5"},{default:u((()=>[w(x,{class:"flex items-center mb-5"},{default:u((()=>[w(o,{"show-loading":!0,src:"/static/assets/logo.png",width:"50px",height:"50px",radius:"50px"}),w(x,{class:"ml-2 text-base text-[var(--theme-color-main)] font-semibold"},{default:u((()=>[w(x,{class:"font-serif subpixel-antialiased"},{default:u((()=>[c(" LUXUR CENER ")])),_:1}),w(x,{class:"text-[var(--theme-color-main)]"},{default:u((()=>[c(_(b(e)("reset_password")),1)])),_:1})])),_:1})])),_:1}),w(z,{labelPosition:"left",model:y.form,rules:y.rules,ref:"state.formRef"},{default:u((()=>[w(S,{label:b(e)("form.old_password"),prop:"old_password",borderBottom:"",ref:"item1",labelWidth:"80px",labelStyle:"font-size: 14px;"},{default:u((()=>[w(h,{clearable:"",modelValue:y.form.old_password,"onUpdate:modelValue":a[0]||(a[0]=s=>y.form.old_password=s),placeholder:b(e)("input.old_password.tips"),fontSize:"14px",type:"password"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),w(S,{label:b(e)("form.password"),prop:"password",borderBottom:"",ref:"item1",labelWidth:"80px",labelStyle:"font-size: 14px;"},{default:u((()=>[w(h,{clearable:"",modelValue:y.form.password,"onUpdate:modelValue":a[1]||(a[1]=s=>y.form.password=s),placeholder:b(e)("input.password.tips"),fontSize:"14px",type:"password"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),w(S,{label:b(e)("form.confirm_password"),prop:"again_password",borderBottom:"",ref:"item1",labelWidth:"80px",labelStyle:"font-size: 14px;"},{default:u((()=>[w(h,{clearable:"",modelValue:y.form.again_password,"onUpdate:modelValue":a[2]||(a[2]=s=>y.form.again_password=s),placeholder:b(e)("input.confirm_password.tips"),fontSize:"14px",type:"password"},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","rules"]),w(x,{class:"my-5"},{default:u((()=>[w(v,{text:b(e)("confirm_edit"),onClick:U,disabled:!y.isFormValid,color:"var(--theme-color-primary)"},null,8,["text","disabled"])])),_:1})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-c9e8d15d"]]);export{U as default};
