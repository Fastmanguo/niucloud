import{d as a,r as e,y as l,A as s,B as n,b as t,x as r,c as o,c8 as u,cy as d,m as c,cz as i,cA as _,o as p,a0 as v,f,w as m,u as b,a1 as h,am as g,n as x,ax as y,i as w,s as k,e as j,K as C,p as A,t as I,ap as V,Q as z,_ as B}from"./index-VHk1sExB.js";import{_ as O}from"./loading-page.vue_vue_type_script_setup_true_lang._vb0LNCj.js";import{a as T}from"./warehouse.DBo3FtFy.js";const U=B(a({__name:"brand",setup(a){const B=e([]),U=e({}),$=e(""),q=e({}),E=e(!0),F=()=>{$.value&&M($.value)},K=l((()=>{if(!$.value)return U.value;const a={};for(const[e,l]of Object.entries(U.value)){const s=l.filter((a=>a.brand_name.includes($.value)||a.brand_en.includes($.value)));s.length>0&&(a[e]=s)}return a})),M=async a=>{await y();const e=q.value[a];e&&e.scrollIntoView({behavior:"smooth",block:"start"})},Q=s(),D=e("");return n((a=>{D.value=a.type,(async()=>{try{const a=await T(),e={};a.data.forEach((a=>{const l=a.letter.toUpperCase();e[l]||(e[l]=[]),e[l].push(a)})),U.value=e,B.value=Object.keys(e).sort(),E.value=!1}catch(a){console.error("获取品牌列表失败:",a)}})()})),(a,e)=>{const l=t(o("up-navbar"),r),s=t(o("up-search"),u),n=w,y=t(o("up-index-anchor"),d),T=t(o("up-image"),c),U=t(o("up-index-item"),i),M=t(o("up-index-list"),_),G=t(o("loading-page"),O);return p(),v(h,null,[f(n,{style:x(a.themeColor())},{default:m((()=>[f(l,{title:"品牌",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),f(n,null,{default:m((()=>[f(n,{class:"bg-[#fff] p-2"},{default:m((()=>[f(s,{placeholder:b(k)("search_brand_name"),shape:"square",showAction:!1,modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=a=>$.value=a),onInput:F},null,8,["placeholder","modelValue"])])),_:1}),f(M,{"index-list":B.value,activeColor:"var(--theme-color-primary)"},{default:m((()=>[(p(!0),v(h,null,g(K.value,((a,e)=>(p(),j(U,null,{default:m((()=>[f(y,{text:e},null,8,["text"]),(p(!0),v(h,null,g(a,((a,e)=>(p(),j(n,{class:"list-cell",key:e,ref_for:!0,ref:e=>{a.brand_name!==$.value&&a.brand_en!==$.value||(q.value[a.brand_name]=e)},onClick:e=>{return l=a,void("select"==D.value&&(Q.select_brand_cache[l.brand_id]=`${l.brand_name}/${l.brand_en}`,V("saler_tools_select_brand_id",l),z()));var l}},{default:m((()=>[f(T,{class:"brand-logo",width:"100px",height:"35px",src:b(C)(a.logo),mode:"scaleToFill","lazy-load":!0,fade:""},null,8,["src"]),f(n,{class:"brand-name"},{default:m((()=>[A(I(a.brand_name)+" / "+I(a.brand_en),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)))),256))])),_:1},8,["index-list"])])),_:1})])),_:1},8,["style"]),f(G,{loading:E.value},null,8,["loading"])],64)}}}),[["__scopeId","data-v-7b4f80ea"]]);export{U as default};
