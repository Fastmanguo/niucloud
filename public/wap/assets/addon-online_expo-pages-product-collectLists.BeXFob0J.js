import{d as e,S as a,r as l,b as s,cc as t,c as o,x as r,c8 as i,m as c,b_ as n,bG as d,ce as m,o as p,e as u,w as f,f as x,a0 as h,am as _,a1 as g,h as b,u as v,n as y,an as C,ao as j,i as w,a as S,K as k,s as z,p as P,t as I,_ as U}from"./index-VHk1sExB.js";import{u as M,M as V}from"./useMescroll.Bh35ex94.js";import{M as D}from"./mescroll-empty.uEQNJN_1.js";import{g as A}from"./user.Rj49YIaw.js";import"./mescroll-i18n.DUzOixk-.js";const R=U(e({__name:"collectLists",setup(e){const U=a([{name:"在售商品",is_sale:1},{name:"失效商品",is_sale:0}]),{mescrollInit:R,downCallback:T,getMescroll:$}=M(j,C),q=l(!0),E=a({type:"",list:[],searchParams:{search:"",type_code:40,is_sale:1},mescrollUp:{page:{size:10}},stat:null,mescrollRef:null}),F=e=>{E.searchParams.is_sale=e.is_sale,$().resetUpScroll()},G=e=>{let a={page:e.num,limit:e.size,...E.searchParams};console.log("loadPage-state.searchParams",E.searchParams),q.value=!0,A(a).then((a=>{let l=a.data.data;e.endSuccess(l.length),1==e.num&&(E.list=[]),E.list=E.list.concat(l),e.endSuccess(a.data.data.length),q.value=!1})).catch((()=>{q.value=!1,e.endErr()}))};return(e,a)=>{const l=s(o("up-tabs"),t),C=s(o("up-navbar"),r),j=s(o("up-search"),i),M=w,A=s(o("up-image"),c),T=s(o("up-tag"),n),K=s(o("up-text"),d),L=s(o("up-divider"),m);return p(),u(M,{style:y(e.themeColor())},{default:f((()=>[x(C,{leftText:"",fixed:"",title:"",safeAreaInsetTop:"",leftIconSize:0,class:"header-box",placeholder:""},{center:f((()=>[x(l,{list:U,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:F,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1}),x(M,{class:"bg-[#fff] p-2 flex items-center justify-between"},{default:f((()=>[x(j,{placeholder:"搜索商品名称",shape:"square",modelValue:E.searchParams.search,"onUpdate:modelValue":a[0]||(a[0]=e=>E.searchParams.search=e),onChange:a[1]||(a[1]=e=>(E.list=[],void $().resetUpScroll())),showAction:!1},null,8,["modelValue"])])),_:1}),x(V,{ref:"mescrollRef",onInit:v(R),onUp:G,onDown:G,up:E.mescrollUp,top:"0"},{default:f((()=>[x(M,null,{default:f((()=>[(p(!0),h(g,null,_(E.list,((e,a)=>(p(),h(g,null,[x(M,{class:"flex flex-col p-2 pb-1 bg-[#fff] box-border mt-1"},{default:f((()=>[x(M,{class:"flex justify-between items-center min-h-[102px]"},{default:f((()=>[x(M,{class:"",style:{position:"relative"},onClick:a=>v(S)({url:`/addon/online_expo/pages/product/collectDetail?relate_id=${e.relate_id}`})},{default:f((()=>[e.goods_cover?(p(),u(A,{key:0,"show-loading":!0,src:v(k)(e.goods_cover),mode:"aspectFit",width:"90px",radius:"5",height:"90px",class:"z-10 flex items-center"},null,8,["src"])):b("",!0)])),_:2},1032,["onClick"]),x(M,{class:"flex justify-between flex-col flex-1 pl-2 min-h-[90px]"},{default:f((()=>[x(M,{onClick:a=>v(S)({url:`/addon/online_expo/pages/product/collectDetail?relate_id=${e.relate_id}`})},{default:f((()=>[x(M,{class:"flex items-baseline leading-5 text-[14px] beyond-hiding"},{default:f((()=>[x(M,{class:"text-[var(--theme-color-main)] flex-1 min-h-[45px]"},{default:f((()=>[x(K,{lines:2,text:e.goods_name},{default:f((()=>[x(T,{text:(e.condition,v(z)("condition_new")),bgColor:"var(--theme-tag-bg)",borderColor:"var(--theme-tag-bg)",color:"var(--theme-color-main)",size:"mini"},null,8,["text"])])),_:2},1032,["text"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),x(M,{class:"flex justify-baseline items-center"},{default:f((()=>[x(M,{class:"flex justify-start items-baseline text-base flex-1 text-[var(--theme-color-primary)]"},{default:f((()=>[x(M,{class:"text-xs"},{default:f((()=>[P("￥")])),_:1}),x(M,null,{default:f((()=>[P("238,000")])),_:1})])),_:1}),e.create_time?(p(),u(M,{key:0,class:"text-[var(--theme-color-tips)] text-[12px]"},{default:f((()=>[P(I(e.create_time),1)])),_:2},1024)):b("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),x(L,{class:"!p-0 !m-0"})],64)))),256))])),_:1}),E.list.length||q.value?b("",!0):(p(),u(D,{key:0,option:{tip:"暂无商品"}}))])),_:1},8,["onInit","up"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-95af9be1"]]);export{R as default};
