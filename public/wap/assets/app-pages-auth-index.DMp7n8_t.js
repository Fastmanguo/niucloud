import{d as e,y as r,r as a,z as t,j as l,A as s,B as o,C as n,D as i,E as u,a as p,F as c,b as x,G as d,c as f,H as m,o as g,e as _,w as v,f as h,u as b,p as y,t as k,h as w,I as C,n as j,J as L,K as T,L as A,i as F,M as z,q as I,s as N,N as q,_ as O}from"./index-VHk1sExB.js";import{t as P}from"./topTabbar.ClSS_mln.js";const S=O(e({__name:"index",setup(e){let O={};P().setTopTabbarParam({title:""}),r((()=>Object.keys(O).length?L(Number(O.height))+L(O.top)+L(8)+"rpx":"auto")),a("");const S=a(!1),B=t(),D=r((()=>B.login)),E=q();l(),r((()=>l().info));const G=s();r((()=>!S.value&&B.login.agreement_show?"":"getPhoneNumber")),a(null);const H=r((()=>!B.login.is_auth_register)),J=a(!1);o((async()=>{await G.getSiteInfoFn(),await B.getLoginConfig();let e=!B.login.is_username&&!B.login.is_mobile&&!B.login.is_bind_mobile;n()?!i()&&e&&H.value&&(u({title:"商家未开启登录注册",icon:"none"}),setTimeout((()=>{p({url:"/app/pages/index/index",mode:"reLaunch"})}),100)):!i()&&e&&(u({title:"商家未开启登录注册",icon:"none"}),setTimeout((()=>{p({url:"/app/pages/index/index",mode:"reLaunch"})}),100))})),c((()=>{J.value=!1}));const K=r((()=>{var e="";return B.login.bg_url&&(e+="background-image:url("+T(B.login.bg_url)+");",e+="background-size: 100%;",e+="background-position: top;",e+="background-repeat: no-repeat;"),e})),M=(e=null)=>{(S.value||!B.login.agreement_show||(u({title:N("isAgreeTips"),icon:"none"}),0))&&(J.value||(J.value=!0,e||(e=()=>{J.value=!1}),V()))},V=()=>{n()&&(E.getAuthCode({scopes:"snsapi_userinfo"}),J.value=!1)},Q=()=>{S.value=!S.value};return(e,r)=>{const a=A,t=F,l=z,s=x(f("u-checkbox"),d),o=x(f("u-checkbox-group"),m),i=I;return g(),_(t,{class:"w-screen h-screen",style:j(e.themeColor())},{default:v((()=>[h(t,{class:"w-screen h-screen",style:j(K.value)},{default:v((()=>[h(t,{class:"mx-[var(--sidebar-m)] px-[var(--pad-sidebar-m)]"},{default:v((()=>[h(t,{class:"pt-[154rpx] flex justify-center"},{default:v((()=>{var e,r;return[(null==(e=b(G).site)?void 0:e.front_end_logo)?(g(),_(t,{key:0,class:"h-[90rpx] w-[300rpx]"},{default:v((()=>{var e;return[h(a,{class:"h-[90rpx] w-[300rpx]",src:b(T)(null==(e=b(G).site)?void 0:e.front_end_logo),mode:"aspectFit"},null,8,["src"])]})),_:1})):(null==(r=b(G).site)?void 0:r.front_end_icon)?(g(),_(t,{key:1,class:"h-[250rpx] w-[250rpx]"},{default:v((()=>{var e;return[h(a,{class:"h-[250rpx] w-[250rpx]",src:b(T)(null==(e=b(G).site)?void 0:e.front_end_icon),mode:"aspectFit"},null,8,["src"])]})),_:1})):(g(),_(t,{key:2,class:"h-[90rpx] w-[300rpx]"}))]})),_:1}),h(t,{class:"text-[var(--text-color-light6)]] text-[28rpx] text-center leading-[34rpx] min-h-[34rpx] mt-[40rpx]"},{default:v((()=>[y(k(D.value.desc),1)])),_:1}),h(t,{class:"mt-[181rpx]"},{default:v((()=>[b(n)()&&D.value.is_auth_register?(g(),_(t,{key:0,class:"w-full flex items-center justify-center mb-[40rpx]"},{default:v((()=>[h(l,{class:"w-[630rpx] h-[88rpx] !mx-[0] !bg-[var(--primary-color)] text-[26rpx] rounded-[44rpx] leading-[88rpx] font-500 !text-[#fff]",onClick:r[0]||(r[0]=e=>M())},{default:v((()=>[y(k(b(N)("quickLoginOrLogout")),1)])),_:1})])),_:1})):w("",!0),D.value.is_mobile?(g(),_(t,{key:1,class:"mb-[40rpx] w-full flex items-center justify-center"},{default:v((()=>[h(l,{class:"w-[630rpx] h-[88rpx] !mx-[0] !bg-[#fff] border-[var(--primary-color)] border-solid border-[2rpx] text-[26rpx] rounded-[44rpx] leading-[84rpx] !text-[var(--primary-color)]",onClick:r[1]||(r[1]=e=>b(p)({url:"/app/pages/auth/login",param:{type:"mobile"}}))},{default:v((()=>[y(k(b(N)("mobileLogin")),1)])),_:1})])),_:1})):!D.value.is_mobile&&D.value.is_username?(g(),_(t,{key:2,class:"w-full flex items-center justify-center"},{default:v((()=>[h(l,{class:"w-[630rpx] h-[88rpx] !mx-[0] !bg-[#fff] !border-[var(--primary-color)] border-solid border-[2rpx] text-[26rpx] rounded-[44rpx] leading-[84rpx] !text-[var(--primary-color)]",onClick:r[2]||(r[2]=e=>b(p)({url:"/app/pages/auth/login",param:{type:"username"}}))},{default:v((()=>[y(k(b(N)("accountLogin")),1)])),_:1})])),_:1})):w("",!0),D.value.agreement_show?(g(),_(t,{key:3,class:"w-full flex items-center justify-center mt-[28rpx]"},{default:v((()=>[h(t,{class:"flex items-center justify-center mt-[28rpx] py-[10rpx]",onClick:C(Q,["stop"])},{default:v((()=>[h(o,{onChange:Q},{default:v((()=>[h(s,{activeColor:"var(--primary-color)",checked:S.value,shape:"circle",size:"24rpx",customStyle:{marginTop:"4rpx"}},null,8,["checked"])])),_:1}),h(t,{class:"text-[24rpx] text-[var(--text-color-light6)] flex items-center flex-wrap"},{default:v((()=>[h(i,null,{default:v((()=>[y(k(b(N)("agreeTips")),1)])),_:1}),h(i,{onClick:r[3]||(r[3]=C((e=>b(p)({url:"/app/pages/auth/agreement?key=privacy"})),["stop"])),class:"text-primary"},{default:v((()=>[y("《"+k(b(N)("privacyAgreement"))+"》",1)])),_:1}),h(i,null,{default:v((()=>[y(k(b(N)("and")),1)])),_:1}),h(i,{onClick:r[4]||(r[4]=C((e=>b(p)({url:"/app/pages/auth/agreement?key=service"})),["stop"])),class:"text-primary"},{default:v((()=>[y("《"+k(b(N)("userAgreement"))+"》",1)])),_:1})])),_:1})])),_:1})])),_:1})):w("",!0),D.value.is_mobile&&D.value.is_username?(g(),_(t,{key:4,class:"footer w-full"},{default:v((()=>[h(t,{class:"text-[26rpx] leading-[36rpx] text-[333] text-center mb-[30rpx] font-400"},{default:v((()=>[y(k(b(N)("otherLogin")),1)])),_:1}),h(t,{class:"flex justify-center"},{default:v((()=>[h(t,{class:"h-[80rpx] w-[80rpx] text-center leading-[78rpx] border-[2rpx] text-primary rounded-[50%] border-solid border-[#ddd] nc-iconfont nc-icon-a-wodeV6xx-36 text-[46rpx] overflow-hidden",onClick:r[5]||(r[5]=e=>b(p)({url:"/app/pages/auth/login",param:{type:"username"}}))})])),_:1}),h(t,{class:"text-[24rpx] leading-[36rpx] text-[var(--text-color-light9)] text-center font-400 mt-[30rpx]"},{default:v((()=>[y(k(b(N)("accountLogin")),1)])),_:1})])),_:1})):w("",!0)])),_:1})])),_:1})])),_:1},8,["style"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-6f60f69f"]]);export{S as default};
