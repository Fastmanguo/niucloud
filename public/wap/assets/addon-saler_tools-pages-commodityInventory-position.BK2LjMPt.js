import{d as e,r as l,y as a,b as t,x as s,c,bG as o,G as u,H as r,$ as n,l as d,bY as f,aO as p,o as m,a0 as x,f as i,w as v,n as h,a1 as b,am as _,p as k,t as y,i as w,e as g,_ as C}from"./index-VHk1sExB.js";import{c as j}from"./custom-popup.CdItBrdJ.js";/* empty css                                                                     */const z=C(e({__name:"position",setup(e){const C=l([{name:"未分配位置",value:199,type:"default",selected:!1},{name:"维修养护",value:1,type:"maintenance",selected:!1},{name:"在途",value:2,type:"enRoute",selected:!1},{name:"在店",value:3,type:"InShop",selected:!1}]),z=a((()=>C.value.filter((e=>e.selected)).length)),I=l({}),S=e=>{C.value.forEach((e=>{e.selected=!1})),e.selected=!0,I.value=e},U=l(!1),A=l(!1),G=l([]),M=e=>{G.value=e.map((e=>({name:e.name,checked:e.checked,value:e.value,selected:e.selected}))),B.value=B.value.map((e=>{const l=G.value.some((l=>l.value===e.value));return{...e,selected:l,checked:l}}))},O=l(!1),B=l([{name:"店员1",checked:!1,value:0,selected:!1},{name:"店员2",checked:!1,value:1,selected:!1},{name:"店员3",checked:!1,value:2,selected:!1},{name:"店员4",checked:!1,value:3,selected:!1},{name:"Mia",checked:!1,value:4,selected:!1}]);return(e,l)=>{const a=t(c("up-navbar"),s),E=w,H=t(c("up-text"),o),L=t(c("up-checkbox"),u),R=t(c("up-checkbox-group"),r),T=t(c("up-button"),n),Y=t(c("up-icon"),d),$=t(c("up-line"),f),q=t(c("up-popup"),p);return m(),x(b,null,[i(E,{style:h(e.themeColor())},{default:v((()=>[i(a,{title:"选择商品位置盘点",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0})])),_:1},8,["style"]),i(E,null,{default:v((()=>[(m(!0),x(b,null,_(C.value,((e,l)=>(m(),g(E,{class:"flex flex-col text-sm",key:l,onClick:l=>S(e)},{default:v((()=>[i(E,{class:"flex justify-between items-center bg-[#fff] p-3 rounded mx-2 mt-2"},{default:v((()=>[i(E,{class:"flex flex-col"},{default:v((()=>[i(E,{class:"text-[var(--theme-color-main)]"},{default:v((()=>[k(y(e.name),1)])),_:2},1024),i(E,{class:"text-[var(--theme-color-tips)] flex"},{default:v((()=>[k(" 总计 "),i(H,{type:"primary",text:e.value,margin:"0 5px"},null,8,["text"]),k(" 件商品 ")])),_:2},1024)])),_:2},1024),i(R,{placement:"column",usedAlone:""},{default:v((()=>[(m(),g(L,{key:l,checked:e.selected,"onUpdate:checked":l=>e.selected=l,shape:"circle",onChange:l=>S(e),activeColor:"var(--theme-color-primary)"},null,8,["checked","onUpdate:checked","onChange"]))])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),i(E,{class:"fixed bottom-0 left-0 w-full box-border bg-[#fff] h-[80px] p-3",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:v((()=>[i(T,{text:"创建商品位置盘点",class:"!text-[#fff] !bg-[var(--theme-color-primary)] !border-none",onClick:l[0]||(l[0]=e=>U.value=!0),disabled:z.value<=0},null,8,["disabled"])])),_:1})])),_:1}),i(q,{show:U.value,onClose:l[5]||(l[5]=e=>U.value=!1),onOpen:l[6]||(l[6]=e=>U.value=!0),mode:"bottom"},{default:v((()=>[i(E,{class:"p-4 flex justify-between items-center"},{default:v((()=>[i(E),i(E,{class:"flex !text-center font-bold text-[30rpx]"},{default:v((()=>[k(" 创建商品位置盘点 ")])),_:1}),i(Y,{name:"close",size:"15",onClick:l[1]||(l[1]=e=>U.value=!1)})])),_:1}),i($),i(E,{class:"flex flex-col"},{default:v((()=>[i(E,{class:"p-3 pt-4 flex items-center justify-between text-[28rpx]"},{default:v((()=>[i(E,{class:"flex"},{default:v((()=>[k(" 商品位置 ")])),_:1}),i(E,{class:"flex items-center h-[14px]"},{default:v((()=>[k(y(I.value.name),1)])),_:1})])),_:1}),i(E,{class:"p-3 flex items-center justify-between text-[28rpx]"},{default:v((()=>[i(E,{class:"flex"},{default:v((()=>[k(" 盘点商品 ")])),_:1}),i(E,{class:"flex items-center h-[14px]"},{default:v((()=>[k(y(I.value.value),1)])),_:1})])),_:1}),i(E,{class:"p-3 flex flex-col text-[28rpx] w-full box-border"},{default:v((()=>[i(E,{class:"flex justify-between items-center h-[14px] w-full box-border"},{default:v((()=>[i(E,{class:"flex"},{default:v((()=>[k(" 盘点人员 "),i(E,{class:"text-rose-500"},{default:v((()=>[k("*")])),_:1})])),_:1}),i(E,{class:"flex items-center text-[15px]"},{default:v((()=>[i(E,{class:"text-[#c0c4cc]",onClick:l[2]||(l[2]=e=>A.value=!0)},{default:v((()=>[k(" 请选择盘点人员 ")])),_:1}),i(Y,{name:"arrow-right",size:"13",color:"var(--theme-input-placeholder)"})])),_:1})])),_:1}),i(E,{class:"my-3 flex flex-wrap items-end"},{default:v((()=>[(m(!0),x(b,null,_(G.value,((e,l)=>(m(),g(E,{class:"relative overflow-hidden rounded-br-[3px] mr-2 mb-2 border-solid border-[var(--theme-color-primary)] border-[0px]"},{default:v((()=>[i(T,{text:e.name,plain:"",color:"var(--theme-color-primary)",closable:O.value,onClick:e=>(e=>{const l=G.value[e];G.value.splice(e,1),B.value=B.value.map((e=>e.value===l.value?{...e,selected:!1,checked:!1}:e))})(l),class:"tag-item"},null,8,["text","closable","onClick"]),i(E,{style:{transform:"rotate(45deg)"},class:"flex items-center justify-start h-[40px] w-[40px] absolute bg-[var(--theme-color-primary)] top-[24px] right-[-24px]"},{default:v((()=>[i(Y,{name:"checkbox-mark",size:"12",color:"#fff",style:{transform:"rotate(-45deg)"}})])),_:1})])),_:2},1024)))),256))])),_:1})])),_:1}),i(E,{class:"flex gap-3 mb-5 p-3"},{default:v((()=>[i(T,{onClick:l[3]||(l[3]=e=>U.value=!1),class:"!text-[var(--theme-color-main)]",color:"#f4f5f7",text:"取消"}),i(T,{text:"确定",onClick:l[4]||(l[4]=e=>U.value=!1),color:"var(--theme-color-primary)"})])),_:1})])),_:1})])),_:1},8,["show"]),i(j,{show:A.value,title:"请选择盘点人员",list:B.value,tooltip:"显示该店铺历史全部员工",subhead:"盘点人员",checkboxLabel:"显示全部员工","onUpdate:show":l[7]||(l[7]=e=>A.value=e),onSelect:M,selectionMode:"multiple",selectItemSize:"normal",showSearch:!0},null,8,["show","list"])],64)}}}),[["__scopeId","data-v-e61849a0"]]);export{z as default};
