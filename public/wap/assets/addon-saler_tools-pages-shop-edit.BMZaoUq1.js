import{d as e,S as t,B as l,F as a,b as o,x as r,c as s,l as i,U as d,V as n,bZ as m,W as p,$ as f,o as u,a0 as c,f as x,w as _,p as b,I as h,t as g,u as y,n as V,a1 as v,E as z,s as w,a as S,i as j,_ as U}from"./index-VHk1sExB.js";import{_ as B}from"./loading-page.vue_vue_type_script_setup_true_lang._vb0LNCj.js";import{b as W}from"./browser.BTH0nPVW.js";import{_ as k}from"./index.vue_vue_type_script_setup_true_lang.B7--v8If.js";import{e as A,g as q}from"./shop.DQBWBr14.js";const C=U(e({__name:"edit",setup(e){const U=t({type:"edit",loading:!1,shop_id:"",form:{logo:"",shop_name:"",create_time:"",site_id:"",certificate_name:"",tel:"",mobile:"",address:"",desc:"",share_poster:"",currency_code:"",coordinates:"",banner_list:[],certificate_no:"",certificate_images:[],verify_time:"",is_exp:1,exp_time:""},rules:{shop_name:{type:"string",required:!0,message:"请输入店铺名称",trigger:["blur","change"]},tel:{type:"string",required:!1,message:"请输入固定电话",trigger:["blur","change"]},mobile:{type:"string",required:!1,message:"请输入手机号码",trigger:["blur"]},address:{type:"string",required:!0,message:"请输入店铺地址",trigger:["blur"]},desc:{type:"string",required:!1,message:"请输入店铺简介",trigger:["blur"]}},formRef:null,isEmailValid:!1,isFormValid:!1}),C=()=>{"edit"==U.type?I():U.type="edit"},O=()=>{"edit"!=U.type&&z({title:"当前处于非编辑状态，请按下方按钮切换状态",icon:"none"})},I=()=>{""!=U.form.shop_name?""!=U.form.address?""!=U.form.desc?(U.loading=!0,A(U.form).then((()=>{U.loading=!1,z({title:w("success"),icon:"none"}),W.nextTick((()=>{U.type="save",S({url:"/app/pages/member/index"})}))})).catch((()=>{z({title:w("error"),icon:"none"})}))):z({title:"请输入店铺简介",icon:"none"}):z({title:"请输入店铺地址",icon:"none"}):z({title:"请输入店铺名称",icon:"none"})},T=()=>{U.loading=!0,q().then((({data:e})=>{U.form=e,U.form.address=e.address||"",U.form.desc=e.desc||"",U.loading=!1})).catch((e=>{z({title:w("error"),icon:"none"})}))};return l((e=>{U.type=e?"edit":e.type,U.shop_id=e.shop_id,W.nextTick((()=>{T()}))})),a((()=>{T()})),(e,t)=>{const l=o(s("up-navbar"),r),a=j,z=o(s("up-icon"),i),S=o(s("up-input"),d),W=o(s("up-form-item"),n),A=o(s("up-textarea"),m),q=o(s("up-form"),p),I=o(s("up-button"),f),T=o(s("loading-page"),B);return u(),c(v,null,[x(a,{style:V(e.themeColor()),class:"main-fix-footer-safe"},{default:_((()=>[x(l,{title:"店铺信息",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),x(a,{class:"m-2 bg-[#fff] rounded p-3"},{default:_((()=>[x(q,{labelPosition:"left",model:U.form,rules:U.rules,ref:"state.formRef"},{default:_((()=>[x(a,{class:"flex items-center justify-between"},{default:_((()=>[x(a,{class:"flex items-center"},{default:_((()=>[x(a,{class:"text-[14px] text-[var(--theme-color-main)]"},{default:_((()=>[b(" 店铺LOGO ")])),_:1}),x(a,{class:"text-[12px] text-[var(--theme-color-tips)]"},{default:_((()=>[b(" （用于联营店铺和线上展会展示） ")])),_:1})])),_:1}),x(a,{class:"flex mt-[20rpx] justify-between rounded",onClick:h(O,["stop"])},{default:_((()=>[x(k,{width:"80px",height:"80px","icon-size":"30",max:1,modelValue:U.form.logo,"onUpdate:modelValue":t[0]||(t[0]=e=>U.form.logo=e),edit:"edit"==U.type,"value-type":"string","result-type":"string"},{default:_((()=>[x(a,{class:"flex flex-col justify-center items-center bg-[#f4f5f7] w-[80px] h-[80px] rounded"},{default:_((()=>[x(z,{size:"30",name:"camera-fill",color:"var(--theme-color-primary)"}),x(a,{class:"text-[#999] text-[10px] mt-[2px]"},{default:_((()=>[b(" 店铺LOGO ")])),_:1})])),_:1})])),_:1},8,["modelValue","edit"])])),_:1})])),_:1}),x(W,{label:"店铺名称",prop:"shop_name",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:_((()=>[x(S,{clearable:"",modelValue:U.form.shop_name,"onUpdate:modelValue":t[1]||(t[1]=e=>U.form.shop_name=e),placeholder:"请输入店铺名称",fontSize:"14px",border:"",readonly:"edit"!=U.type,inputAlign:"right"},null,8,["modelValue","readonly"])])),_:1},512),x(a,{class:"flex items-center justify-between"},{default:_((()=>[x(a,{class:"text-[14px] text-[var(--theme-color-main)]"},{default:_((()=>[b(" 店铺二维码 ")])),_:1}),x(a,{class:"flex mt-[20rpx] justify-between rounded pr-[9px]"},{default:_((()=>[x(z,{name:"/static/assets/member/qrcode.png",color:"var(--theme-color-main)",size:"20",class:"mr-[4px]"}),x(z,{name:"arrow-right",size:"14",color:"var(--theme-color-main)"})])),_:1})])),_:1}),x(W,{label:"店铺注册时间",prop:"create_time",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:_((()=>[x(S,{clearable:"",modelValue:U.form.create_time,"onUpdate:modelValue":t[2]||(t[2]=e=>U.form.create_time=e),placeholder:"",fontSize:"14px",border:"",readonly:"",inputAlign:"right"},{suffix:_((()=>[x(z,{name:"lock",color:"var(--theme-color-main)"})])),_:1},8,["modelValue"])])),_:1},512),x(W,{label:"店铺编号",prop:"site_id",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:_((()=>[x(S,{clearable:"",modelValue:U.form.site_id,"onUpdate:modelValue":t[3]||(t[3]=e=>U.form.site_id=e),placeholder:"",fontSize:"14px",border:"",readonly:"",inputAlign:"right"},{suffix:_((()=>[x(z,{name:"lock",color:"var(--theme-color-main)"})])),_:1},8,["modelValue"])])),_:1},512),x(W,{label:"认证名称",prop:"certificate_name",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:_((()=>[x(S,{clearable:"",modelValue:U.form.certificate_name,"onUpdate:modelValue":t[4]||(t[4]=e=>U.form.certificate_name=e),placeholder:"",fontSize:"14px",border:"",readonly:"",inputAlign:"right"},{suffix:_((()=>[x(z,{name:"lock",color:"var(--theme-color-main)"})])),_:1},8,["modelValue"])])),_:1},512),x(W,{label:"固定电话",prop:"tel",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:_((()=>[x(S,{clearable:"",modelValue:U.form.tel,"onUpdate:modelValue":t[5]||(t[5]=e=>U.form.tel=e),placeholder:"请输入固定电话",fontSize:"14px",border:"",inputAlign:"right",readonly:"edit"!=U.type},null,8,["modelValue","readonly"])])),_:1},512),x(W,{label:"电话号码",prop:"mobile",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:_((()=>[x(S,{clearable:"",modelValue:U.form.mobile,"onUpdate:modelValue":t[6]||(t[6]=e=>U.form.mobile=e),placeholder:"请输入电话号码",fontSize:"14px",border:"",readonly:"edit"!=U.type,inputAlign:"right"},null,8,["modelValue","readonly"])])),_:1},512),x(W,{label:"详情地址",prop:"address",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},null,512),x(A,{modelValue:U.form.address,"onUpdate:modelValue":t[7]||(t[7]=e=>U.form.address=e),placeholder:"请输入店铺详情地址",count:"",class:"mt-2",maxlength:200,readonly:"edit"!=U.type},null,8,["modelValue","readonly"]),x(W,{label:"店铺简介",prop:"desc",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},null,512),x(A,{modelValue:U.form.desc,"onUpdate:modelValue":t[8]||(t[8]=e=>U.form.desc=e),placeholder:"请输入店铺店铺简介",count:"",class:"mt-2",maxlength:200,readonly:"edit"!=U.type},null,8,["modelValue","readonly"])])),_:1},8,["model","rules"])])),_:1}),x(a,{class:"flex items-center m-2 bg-[#fff] rounded p-3",onClick:h(O,["stop"])},{default:_((()=>[x(a,{class:"flex justify-between rounded"},{default:_((()=>[x(k,{width:"150px",height:"120px","icon-size":"30",max:1,modelValue:U.form.share_poster,"onUpdate:modelValue":t[9]||(t[9]=e=>U.form.share_poster=e),edit:"edit"==U.type,"value-type":"string","result-type":"string"},{default:_((()=>[x(a,{class:"flex flex-col justify-center items-center bg-[#f4f5f7] w-[150px] h-[120px] rounded"},{default:_((()=>[x(z,{size:"45",name:"camera-fill",color:"var(--theme-color-primary)"}),x(a,{class:"text-[#999] text-[12px] mt-[2px]"},{default:_((()=>[b(g(y(w)("share_img")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","edit"])])),_:1}),x(a,{class:"flex flex-col justify-between leading-5 items-center h-[120px] pl-3 w-full text-[var(--theme-color-content)] text-xs"},{default:_((()=>[x(a,{class:"flex items-center flex-col"},{default:_((()=>[x(a,null,{default:_((()=>[b(g(y(w)("share_img.tips0")),1)])),_:1}),x(a,null,{default:_((()=>[b(g(y(w)("share_img.tips1")),1)])),_:1}),x(a,null,{default:_((()=>[b(g(y(w)("share_img.tips2")),1)])),_:1})])),_:1}),x(a,{class:"text-[var(--theme-color-tips)] text-xs mt-1"},{default:_((()=>[b(g(y(w)("share_img.tips3")),1)])),_:1})])),_:1})])),_:1}),x(a,{class:"main-fix-footer bg-[#fff] z-100",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:_((()=>[x(I,{text:"edit"==U.type?"保存":"编辑",onClick:C,color:"var(--theme-color-primary)"},null,8,["text"])])),_:1})])),_:1},8,["style"]),x(T,{loading:U.loading},null,8,["loading"])],64)}}}),[["__scopeId","data-v-51bb87c3"]]);export{C as default};
