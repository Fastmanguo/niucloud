import{d as e,S as t,y as a,r as l,b as s,x as o,c as r,m as i,l as n,cI as c,aR as m,aS as u,o as d,a0 as f,f as p,w as _,u as x,a1 as h,am as b,e as g,h as y,n as v,an as w,ao as k,i as j,s as C,a2 as z,p as M,t as P,a as I,K as S,q as L}from"./index-VHk1sExB.js";import{_ as U}from"./loading-page.vue_vue_type_script_setup_true_lang._vb0LNCj.js";import{u as A,M as R}from"./useMescroll.Bh35ex94.js";import{M as B}from"./mescroll-empty.uEQNJN_1.js";import{g as q}from"./identify.CRzQNbVH.js";import{g as D}from"./warehouse.DBo3FtFy.js";import"./mescroll-i18n.DUzOixk-.js";const E=e({__name:"lists",setup(e){const E=t({type:"",list:[],searchParams:{status:null},mescrollUp:{page:{size:10}},stat:null,mescrollRef:null}),F=t({categoryList:[],goods_attachment:[]}),K=a((()=>{const e=F.categoryList.find((e=>e.category_id===E.list.category_id));return e?e.category_name:""})),T=e=>2==e.result?C("look_true"):1==e.result?C("look_false"):C("look_unclear"),{mescrollInit:X,downCallback:Y,getMescroll:G}=A(k,w),H=l(!0),J={ALL:"",wait_pay:"wait_pay",identifying:"identifying",wait_supply:"wait_supply",finish:"finish",cancel:"cancel"},N=e=>{let t={page:e.num,limit:e.size,...E.searchParams};console.log("loadPage-state.searchParams",E.searchParams),H.value=!0,q(t).then((t=>{let a=t.data.data;e.endSuccess(a.length),1==e.num&&(E.list=[]),E.list=E.list.concat(a),e.endSuccess(t.data.data.length),D().then((e=>{F.categoryList=e.data})),H.value=!1})).catch((()=>{H.value=!1,e.endErr()}))};return(e,t)=>{const a=s(r("up-navbar"),o),l=j,w=s(r("up-image"),i),k=L,A=s(r("up-icon"),n),q=s(r("up-transition"),c),D=s(r("up-tabbar-item"),m),F=s(r("up-tabbar"),u),Y=s(r("loading-page"),U);return d(),f(h,null,[p(l,{style:v(e.themeColor())},{default:_((()=>[p(a,{title:x(C)("my_order"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},null,8,["title"]),p(l,{class:"p-2 grid grid-cols-3 gap-2 items-center text-xs text-[var(--theme-color-content)] bg-[#fff] w-full box-border"},{default:_((()=>[(d(),f(h,null,b(J,((e,t)=>p(l,{key:t,class:"w-full box-border",onClick:t=>(e=>{E.searchParams.status=e,G().resetUpScroll()})(e)},{default:_((()=>[p(l,{class:z(["!bg-[var(--theme-bg)] rounded flex-1 py-1 text-center border-[1px] border-solid border-[var(--theme-bg)]",{"!bg-[#e0b87a10] border-[1px] border-solid !border-[var(--theme-color-primary)] text-[var(--theme-color-primary)]":E.searchParams.status==e}])},{default:_((()=>[M(P(x(C)(t)),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"]))),64))])),_:1}),p(R,{ref:"mescrollRef",onInit:x(X),onUp:N,onDown:N,up:E.mescrollUp,top:"0"},{default:_((()=>[E.list.length?(d(),g(l,{key:0,class:"mt-2"},{default:_((()=>[(d(!0),f(h,null,b(E.list,((e,t)=>(d(),g(l,{class:"flex flex-col p-2 pb-1 !bg-[#fff] box-border m-2 rounded"},{default:_((()=>[p(l,{class:"flex justify-between items-center text-sm w-full !z-200 !bg-[#fff]"},{default:_((()=>[p(l,{class:"text-[var(--theme-color-tips)]"},{default:_((()=>[M(P(e.create_time||""),1)])),_:2},1024),p(l,{class:"text-[var(--theme-color-primary)]"},{default:_((()=>[M(P(x(C)(e.status)),1)])),_:2},1024)])),_:2},1024),p(l,{class:"flex justify-between items-center !z-200 !bg-[#fff]"},{default:_((()=>[p(l,{class:"",style:{position:"relative"},onClick:t=>x(I)({url:"/addon/saler_tools/pages/identify/detail",param:{id:e.id}})},{default:_((()=>[p(w,{"show-loading":!0,src:x(S)(e.goods_cover),mode:"aspectFit",width:"100px",radius:"5",height:"100px",class:"z-10 flex items-center"},null,8,["src"])])),_:2},1032,["onClick"]),p(l,{class:"flex justify-between flex-col flex-1 pl-2 h-[90px] text-sm",onClick:t=>x(I)({url:"/addon/saler_tools/pages/identify/detail",param:{id:e.id}})},{default:_((()=>[p(l,{class:"flex justify-between items-center"},{default:_((()=>[M(P(x(C)("appraisal"))+" "+P(K.value),1)])),_:1}),p(l,{class:"mb-1 text-[var(--theme-color-content)]"},{default:_((()=>[M(P(x(C)("brand"))+"："+P(e.brand_name),1)])),_:2},1024),p(l,{class:"text-[var(--theme-color-tips)] flex items-baseline"},{default:_((()=>[e.money&&1==e.result?(d(),g(l,{key:0},{default:_((()=>[p(k,{class:"text-xs"},{default:_((()=>[M("￥")])),_:1}),p(k,null,{default:_((()=>[M(P(e.money),1)])),_:2},1024)])),_:2},1024)):y("",!0)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024),p(l,{class:"w-full flex justify-center mt-1 mb-2 bg-[#fff]",onClick:t=>e.showMore=!e.showMore},{default:_((()=>[p(A,{name:e.showMore?"arrow-up":"arrow-down",size:"12",bold:"",label:e.showMore?x(C)("fold"):x(C)("unfold"),labelColor:"var(--theme-color-primary)",labelSize:"12px",color:"var(--theme-color-primary)",labelPos:"left"},null,8,["name","label"])])),_:2},1032,["onClick"]),p(q,{show:e.showMore,mode:"slide-down",class:"z-1! bg-[#fff]"},{default:_((()=>[p(l,{class:"flex flex-col bg-[#fff] rounded-lg text-sm"},{default:_((()=>[p(l,{class:"flex flex-col bg-[var(--theme-input-bg)] rounded p-3 text-sm"},{default:_((()=>[p(l,{class:"flex justify-between items-center text-xs text-[var(--theme-color-content)]"},{default:_((()=>[p(l,null,{default:_((()=>[M(P(x(C)("appraisal_appraiser")+"***"),1)])),_:1}),p(l,{class:"text-[var(--theme-color-tips)]"},{default:_((()=>[M(P(e.result_time),1)])),_:2},1024)])),_:2},1024),p(l,{class:"flex justify-between items-center text-xs text-[var(--theme-color-content)] my-3"},{default:_((()=>[p(l,null,{default:_((()=>[M(P(x(C)("appraisal_result")),1)])),_:1}),p(l,{class:"text-[var(--theme-color-tips)]"},{default:_((()=>[M(P(T(e)),1)])),_:2},1024)])),_:2},1024),p(l,{class:"flex justify-between items-center text-xs text-[var(--theme-color-content)]"},{default:_((()=>[p(l,null,{default:_((()=>[M(P(x(C)("appraisal_result")),1)])),_:1}),p(l,{class:"text-[var(--theme-color-tips)]"},{default:_((()=>[M(P(e.result_remark||T(e)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(l,{class:"text-[var(--theme-color-primary)] my-2 text-xs"},{default:_((()=>[M(" *"+P(x(C)("appraisal_explain")),1)])),_:1})])),_:2},1024)])),_:2},1032,["show"])])),_:2},1024)))),256))])),_:1})):y("",!0),E.list.length||H.value?y("",!0):(d(),g(B,{key:1,option:{tip:x(C)("no_data")}},null,8,["option"]))])),_:1},8,["onInit","up"]),p(F,{value:"my",fixed:!0,placeholder:!1,safeAreaInsetBottom:!1,activeColor:"var(--theme-color-primary)"},{default:_((()=>[p(D,{text:x(C)("icon.home"),onClick:t[0]||(t[0]=e=>x(I)({url:"/addon/saler_tools/pages/identify/index"})),name:"home"},{"active-icon":_((()=>[p(A,{size:"18",name:"/static/assets/tab/home_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":_((()=>[p(A,{size:"18",name:"/static/assets/tab/home.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"]),p(D,{text:x(C)("icon.my"),onClick:t[1]||(t[1]=e=>x(I)({url:"/addon/saler_tools/pages/identify/lists"})),name:"my"},{"active-icon":_((()=>[p(A,{size:"18",name:"/static/assets/tab/member_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":_((()=>[p(A,{size:"18",name:"/static/assets/tab/member.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"])])),_:1})])),_:1},8,["style"]),p(Y,{loading:H.value},null,8,["loading"])],64)}}});export{E as default};
