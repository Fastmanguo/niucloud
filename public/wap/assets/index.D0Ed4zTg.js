import{d as e,y as a,o as l,a0 as s,am as t,a1 as u,h as o,e as c,w as n,p as d,t as r,a2 as i,n as p,i as m,_ as f,S as h,r as v,A as b,b as y,l as g,c as x,bY as _,c8 as w,G as V,$ as k,aO as S,f as C,bu as P,g as j,v as z,u as O,af as A,s as B}from"./index-VHk1sExB.js";import{g as N}from"./auth.CqjcWN4L.js";import{c as T}from"./index.CNqs6UPm.js";const U=f(e({__name:"index",props:{modelValue:{type:[String,Number],default:()=>[]},data:{type:[Array],default:()=>[]},props:{type:Object,default:()=>{}},with:{type:[String,Number],default:0},format:{type:Function,default:e=>e}},emits:["update:modelValue","change"],setup(e,{emit:f}){const h=e,v=a((()=>({label:"label",value:"value",...h.props}))),b=f,y=a({get:()=>h.modelValue||null,set(e){b("update:modelValue",e)}}),g=e=>y.value==e[v.value.value];return(a,f)=>{const x=m;return e.data?(l(!0),s(u,{key:0},t(e.data,((e,a)=>(l(),c(x,{key:a,onClick:a=>(e=>{y.value==e[v.value.value]?y.value=null:(b("change",e[v.value.value]),y.value=e[v.value.value])})(e),class:i(["bg-[#f9fafb] px-[10px] py-[2px] rounded-[20px] text-center custom-radio-item",{activate:g(e)}]),style:p({minWidth:h.with+"px"})},{default:n((()=>[d(r(h.format(e[v.value.label])),1)])),_:2},1032,["onClick","style","class"])))),128)):o("",!0)}}}),[["__scopeId","data-v-d5eb7840"]]),q=f(e({__name:"index",props:{show:{type:Boolean,default:!1},title:{type:String,default:"请选择"},sub:{type:String,default:"请选择员工"},modelValue:{type:[String,Number],default:()=>null},mode:{type:String,default:"single"},isShowSearch:{type:Boolean,default:!0},isShowTips:{type:Boolean,default:!0}},emits:["update:modelValue","select","change"],setup(e,{expose:a,emit:s}){const t=e,u={search:null,all:0,page:1,limit:100},i=h({show:!1,loading:!1,searchParams:{search:null,all:0},list:[],value:null}),p=s,f=v(!1),q=()=>{i.loading=!0,N(i.searchParams).then((({data:e})=>{i.list=e.data,i.loading=!1,setTimeout((()=>{$(e.data)}),16)}))},I=b(),$=e=>{I.rale_name_cache={},e.forEach((e=>{I.rale_name_cache[e.uid]=e.real_name}))},E=()=>{i.searchParams.all=1==i.searchParams.all?0:1,q()};a({open:e=>{f.value=!1,e&&(i.searchParams=Object.assign({},u,e)),i.value=A(t.modelValue),i.show=!0,q()}});const F=()=>{i.show=!1},G=()=>{i.show=!1,p("change",i.value,t.modelValue),p("update:modelValue",i.value)};return(a,s)=>{const t=m,u=y(x("up-icon"),g),p=y(x("up-line"),_),h=y(x("up-search"),w),v=y(x("up-checkbox"),V),b=y(x("up-button"),k),A=y(x("up-popup"),S);return l(),c(A,{show:i.show,mode:"bottom",onClose:F,onOpen:s[4]||(s[4]=()=>{}),class:""},{default:n((()=>[C(t,{class:"p-4 flex justify-between items-center"},{default:n((()=>[C(t),C(t,{class:"flex !text-center font-bold text-[30rpx]"},{default:n((()=>[d(r(e.title),1)])),_:1}),C(u,{name:"close",size:"15",onClick:F})])),_:1}),C(p),C(t,{class:"p-4"},{default:n((()=>[e.isShowSearch?(l(),c(h,{key:0,placeholder:"请输入搜索内容",shape:"square",showAction:!1,bgColor:"#f9fafb",class:"!mb-3",modelValue:i.searchParams.search,"onUpdate:modelValue":s[0]||(s[0]=e=>i.searchParams.search=e)},null,8,["modelValue"])):o("",!0),e.isShowTips?(l(),c(t,{key:1,class:"mb-3 flex justify-between items-center"},{default:n((()=>[C(t,{class:"text-sm text-[#000]"},{default:n((()=>[d(r(e.sub),1)])),_:1}),P(a.$slots,"custom-right",{},(()=>[C(t,{class:"flex items-center"},{default:n((()=>[C(v,{label:"显示全部员工",checked:1==i.searchParams.all,labelSize:"14",size:"14",shape:"circle",activeColor:"#e0b87a",onClick:E},null,8,["checked"]),C(u,{name:"question-circle",size:"14",onClick:s[1]||(s[1]=e=>f.value=!f.value),class:"ml-1"})])),_:1})]),!0),j(C(t,{class:"custom-tooltip",style:{position:"absolute"}},{default:n((()=>[d(r(O(B)("all.employees.online")),1)])),_:1},512),[[z,f.value]])])),_:3})):o("",!0),C(t,{class:"grid grid-cols-3 gap-2"},{default:n((()=>["single"==e.mode?(l(),c(U,{key:0,data:i.list,modelValue:i.value,"onUpdate:modelValue":s[2]||(s[2]=e=>i.value=e),props:{label:"real_name",value:"uid"}},null,8,["data","modelValue"])):(l(),c(T,{key:1,data:i.list,modelValue:i.value,"onUpdate:modelValue":s[3]||(s[3]=e=>i.value=e),props:{label:"real_name",value:"uid"}},null,8,["data","modelValue"]))])),_:1}),C(t,{class:"flex gap-3 my-[20px]"},{default:n((()=>[C(b,{onClick:F,class:"!text-[#303133]",color:"#f4f5f7",text:"取消"}),C(b,{text:"确定",onClick:G,color:"#e0b87a"})])),_:1})])),_:3})])),_:3},8,["show"])}}}),[["__scopeId","data-v-88826f87"]]);export{U as c,q as s};
