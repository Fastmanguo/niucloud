import{d as e,S as t,r as a,a7 as l,b as s,x as o,c as r,$ as u,l as d,U as c,o as n,e as f,w as m,f as x,p,a0 as i,am as v,a1 as h,t as b,n as _,i as y,a2 as C,_ as V}from"./index-VHk1sExB.js";const k=V(e({__name:"edit",setup(e){const V=t({cash:0,productCost:0,statementCost:0}),k=a([]),w=a([{name:"自有商品",value:3e5},{name:"其他商品",value:0},{name:"质押商品",value:0}]),g=()=>{V.productCost=w.value.reduce(((e,t)=>k.value.includes(t.name)?e+parseFloat(t.value):e),0),j()},j=()=>{V.statementCost=parseFloat(V.productCost)+parseFloat(V.cash)};return l((()=>V.cash),(()=>{j()})),l(w,(()=>{g()}),{deep:!0}),(e,t)=>{const a=s(r("up-navbar"),o),l=y,U=s(r("up-button"),u),B=s(r("up-icon"),d),I=s(r("up-input"),c);return n(),f(l,{style:_(e.themeColor())},{default:m((()=>[x(a,{title:"创建对账单",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),x(l,{class:"border-t-[10px] border-[0px] border-solid border-[#f4f5f7]"},{default:m((()=>[x(l,{class:"p-3 flex flex-col"},{default:m((()=>[x(l,{class:"flex mb-1"},{default:m((()=>[p(" 选择对账类型 "),x(l,{class:"text-[var(--theme-text-red)]"},{default:m((()=>[p("*")])),_:1})])),_:1}),(n(!0),i(h,null,v(w.value,((e,t)=>(n(),f(l,{class:"flex justify-between items-center my-1",key:t},{default:m((()=>[x(l,{class:"relative overflow-hidden rounded-br-[3px]"},{default:m((()=>[x(U,{text:e.name,type:"default",onClick:t=>(e=>{const t=k.value.indexOf(e);t>-1?k.value.splice(t,1):k.value.push(e),g()})(e.name),class:C(["!px-5",{"tag-selected":k.value.includes(e.name),"tag-unselected":!k.value.includes(e.name)}])},null,8,["text","onClick","class"]),x(l,{class:"flex items-center justify-start h-[40px] w-[40px] absolute bg-[var(--theme-color-primary)] top-[24px] right-[-24px]",style:{transform:"rotate(45deg)"}},{default:m((()=>[x(B,{name:"checkbox-mark",size:"12",color:"#fff",style:{transform:"rotate(-45deg)"}})])),_:1})])),_:2},1024),x(l,{class:"ml-3 flex-1 flex justify-start items-center text-xs text-[var(--theme-color-content)]"},{default:m((()=>[x(l,{class:C({"text-[var(--theme-color-primary)]":k.value.includes(e.name)})},{default:m((()=>[p(b(e.name)+" 总成本（元）： ",1)])),_:2},1032,["class"]),k.value.includes(e.name)?(n(),f(I,{key:0,placeholder:"0",border:"none",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,onBlur:g,color:"var(--theme-color-primary)",onInput:g},null,8,["modelValue","onUpdate:modelValue"])):(n(),f(I,{key:1,placeholder:"0",border:"none",onBlur:g,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,color:"text-[var(--theme-color-content)]"},null,8,["modelValue","onUpdate:modelValue"]))])),_:2},1024)])),_:2},1024)))),128))])),_:1}),x(l,{class:"px-3 mb-1 flex items-center justify-end text-sm text-[var(--theme-color-main)]"},{default:m((()=>[x(l,null,{default:m((()=>[p("商品总成本合计：")])),_:1}),x(l,{class:"text-base"},{default:m((()=>[p("￥"+b(V.productCost),1)])),_:1})])),_:1}),x(l,{class:"p-3 flex items-center justify-between"},{default:m((()=>[x(l,{class:"flex"},{default:m((()=>[p(" 现金 "),x(l,{class:"text-[var(--theme-text-red)]"},{default:m((()=>[p("*")])),_:1})])),_:1}),x(l,{class:"flex items-center h-[14px] flex-1 ml-2"},{default:m((()=>[x(I,{placeholder:"填写金额",border:"bottom",placeholderStyle:"color: var(--theme-color-tips);",onBlur:g,modelValue:V.cash,"onUpdate:modelValue":t[0]||(t[0]=e=>V.cash=e),onInput:j},{suffix:m((()=>[x(l,{class:"text-[var(--theme-color-tips)]"},{default:m((()=>[p("（元）")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),x(l,{class:"p-3 flex items-center justify-between"},{default:m((()=>[x(l,{class:"flex"},{default:m((()=>[p(" 对账单总成本 ")])),_:1}),x(l,{class:"flex-1 flex justify-end items-center h-[14px] flex-1 ml-2"},{default:m((()=>[x(l,{class:"text-[var(--theme-color-main)] font-bold text-xl"},{default:m((()=>[p(b(V.statementCost),1)])),_:1}),x(l,{class:"text-[var(--theme-color-tips)]"},{default:m((()=>[p("（元）")])),_:1})])),_:1})])),_:1})])),_:1}),x(l,{class:"fixed bottom-0 left-0 w-full box-border bg-[#fff] z-100 p-3 h-[80px]",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:m((()=>[x(U,{text:"创建对账单",class:"!text-[#fff] !bg-[var(--theme-color-primary)] !border-none",onClick:t[1]||(t[1]=()=>{})})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-9ed5cac9"]]);export{k as default};
