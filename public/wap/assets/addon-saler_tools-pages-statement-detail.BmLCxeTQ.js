import{d as e,r as t,S as l,cw as a,cj as s,Z as o,b as r,x as i,c,cc as u,ce as n,bG as m,l as f,cI as d,a_ as x,$ as p,ac as v,o as _,a0 as h,f as y,w as b,a1 as w,am as T,n as C,p as g,t as k,an as A,ao as j,i as P,e as I,a2 as E,u as O,h as G,_ as M}from"./index-VHk1sExB.js";import{u as S,M as V}from"./useMescroll.Bh35ex94.js";import{M as R}from"./mescroll-empty.uEQNJN_1.js";import"./mescroll-i18n.DUzOixk-.js";const U=M(e({__name:"detail",setup(e){const M=t(2),U=t(!1),q=t(!1),z=t(0),$=l([{name:"上月"},{name:"本月"},{name:"其他时间"}]),B=e=>{M.value=e.index},D=t(!1),F=t(!1),W=t(null),H=t(null),J=e=>{D.value=!1,Q.firstTime=e.value},L=e=>{F.value=!1,Q.lastTime=e.value};a((()=>{W.value.setFormatter(N),H.value.setFormatter(N)}));const N=(e,t)=>"year"===e?`${t}年`:"month"===e?`${t}月`:t,{mescrollInit:X,downCallback:Y,getMescroll:Z}=S(j,A),K=t(!0),Q=l({firstTime:(new Date).getTime(),lastTime:(new Date).getTime(),list:{lastMonth:{totalAssets:9e3,costOfGoods:891e3,dueAssets:0,list:[{time:"今天",salesProfit:0,serviceProfit:0,otherIncomeAndExpenditure:5e4,salaryExpenditure:5e4},{time:"昨天",salesProfit:0,serviceProfit:0,otherIncomeAndExpenditure:5e4,salaryExpenditure:5e4}]},thisMonth:{totalAssets:0,costOfGoods:0,dueAssets:0,list:[{time:"今天",salesProfit:0,serviceProfit:0,otherIncomeAndExpenditure:0,salaryExpenditure:0}]},otherTime:{totalAssets:0,costOfGoods:0,dueAssets:0,list:[{time:"今天",salesProfit:0,serviceProfit:0,otherIncomeAndExpenditure:0,salaryExpenditure:0}]}},collapseRef:null}),ee=t("对账单"),te=s(),le=t(te.query.type),ae=JSON.parse(decodeURIComponent(te.query.list));return o((()=>{console.log("Type:",le.value),console.log("List",ae),ee.value=ae.updateTime+ae.title})),(e,t)=>{const l=r(c("up-navbar"),i),a=r(c("up-tabs"),u),s=P,o=r(c("up-divider"),n),A=r(c("up-text"),m),j=r(c("up-icon"),f),S=r(c("up-transition"),d),Y=r(c("up-datetime-picker"),x),Z=r(c("up-button"),p),te=r(c("up-modal"),v);return _(),h(w,null,[y(s,{style:C(e.themeColor())},{default:b((()=>[y(l,{title:ee.value,autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},null,8,["title"]),(_(!0),h(w,null,T(Q.list,((e,l)=>(_(),I(s,null,{default:b((()=>[y(s,{class:"flex flex-col bg-[#fff] box-border m-2 rounded"},{default:b((()=>[y(s,{class:"mt-3"},{default:b((()=>[y(a,{list:$,activeStyle:"color:var(--theme-color-main)",lineWidth:2==M.value?65:30,current:M.value,lineHeight:"4",onClick:B,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main)",itemStyle:"margin-bottom:8px;z-index:2"},null,8,["list","lineWidth","current"])])),_:1}),y(o,{class:"!my-0",color:"var(--theme-border)"}),y(s,{class:E(["mx-2 my-3 flex justify-start items-center h-[28px] text-[var(--theme-color-main)]",2==M.value?"":"hidden"])},{default:b((()=>[y(s,{class:"bg-[var(--theme-upload-bg)] rounded flex justify-center items-center px-2",onClick:t[0]||(t[0]=e=>D.value=!0)},{default:b((()=>[y(A,{mode:"date",text:Q.firstTime},null,8,["text"])])),_:1}),y(s,{class:"mx-1"},{default:b((()=>[g("至")])),_:1}),y(s,{class:"bg-[var(--theme-upload-bg)] rounded flex justify-center items-center px-2",onClick:t[1]||(t[1]=e=>F.value=!0)},{default:b((()=>[y(A,{mode:"date",text:Q.lastTime},null,8,["text"])])),_:1})])),_:1},8,["class"]),y(s,{class:"flex flex-col items-center text-[var(--theme-color-tips)] text-sm"},{default:b((()=>[y(s,{class:E(["my-3 h-[28px]",2!=M.value?"":"hidden"])},{default:b((()=>[g(" 2024年11月对账单 ")])),_:1},8,["class"]),y(s,{class:"flex flex-col items-center"},{default:b((()=>[y(s,{class:"my-1"},{default:b((()=>[g("总资产(元)")])),_:1}),y(s,{class:"text-base text-[var(--theme-color-main)]"},{default:b((()=>[g(k(e.totalAssets),1)])),_:2},1024)])),_:2},1024),y(s,{class:"w-full box-border",style:{display:"flex","justify-content":"space-around","align-items":"center"}},{default:b((()=>[y(s,{class:"flex flex-col items-center"},{default:b((()=>[y(s,{class:"my-1 flex item-center text-[var(--theme-color-primary)]"},{default:b((()=>[g(" 货品成本(元) "),y(j,{name:"question-circle",class:"ml-1",color:"var(--theme-color-primary)",onClick:t=>{return l=e.costOfGoods,z.value=l,void(q.value=!0);var l}},null,8,["onClick"])])),_:2},1024),y(s,{class:"text-[var(--theme-color-main)]"},{default:b((()=>[g(k(e.costOfGoods),1)])),_:2},1024)])),_:2},1024),y(s,{class:"flex flex-col items-center"},{default:b((()=>[y(s,{class:"my-1"},{default:b((()=>[g("应有资金(元)")])),_:1}),y(s,{class:"text-[var(--theme-color-main)]"},{default:b((()=>[g(k(e.dueAssets),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(s,{class:"mt-2 mb-3"},{default:b((()=>[y(j,{name:U.value?"arrow-up":"arrow-down",class:"ml-1",size:"13",bold:"",onClick:t[2]||(t[2]=e=>U.value=!U.value),color:"var(--theme-color-primary)",label:U.value?"收起更多":"更多明细",labelPos:"left",labelSize:"13px",labelColor:"var(--theme-color-primary)"},null,8,["name","label"])])),_:1})])),_:2},1024)])),_:2},1024),y(V,{ref_for:!0,ref:"mescrollRef",onInit:O(X),onUp:t[3]||(t[3]=()=>{}),top:"0"},{default:b((()=>[y(S,{show:U.value,mode:"slide-down"},{default:b((()=>[(_(!0),h(w,null,T(e.list,((e,t)=>(_(),I(s,{class:"mb-2 mx-2 rounded bg-[#fff] p-3 flex flex-col text-[var(--theme-color-main)] text-xs"},{default:b((()=>[y(s,{class:"text-sm mb-2"},{default:b((()=>[g(k(e.time),1)])),_:2},1024),y(s,{class:"flex justify-between items-center"},{default:b((()=>[y(s,{class:"flex items-center w-1/2"},{default:b((()=>[y(s,{class:"text-[var(--theme-color-tips)]"},{default:b((()=>[g("销售利润(元)")])),_:1}),y(s,{class:"ml-1 text-sm"},{default:b((()=>[g(k(e.salesProfit),1)])),_:2},1024)])),_:2},1024),y(s,{class:"flex items-center w-1/2"},{default:b((()=>[y(s,{class:"text-[var(--theme-color-tips)]"},{default:b((()=>[g("服务利润(元)")])),_:1}),y(s,{class:"ml-1 text-sm"},{default:b((()=>[g(k(e.serviceProfit),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(s,{class:"flex justify-between items-center"},{default:b((()=>[y(s,{class:"flex items-center w-1/2"},{default:b((()=>[y(s,{class:"text-[var(--theme-color-tips)]"},{default:b((()=>[g("其他收支(元)")])),_:1}),y(s,{class:"ml-1 text-sm"},{default:b((()=>[g(k(e.otherIncomeAndExpenditure),1)])),_:2},1024)])),_:2},1024),y(s,{class:"flex items-center w-1/2"},{default:b((()=>[y(s,{class:"text-[var(--theme-color-tips)]"},{default:b((()=>[g("薪资支出(元)")])),_:1}),y(s,{class:"ml-1 text-sm flex items-center"},{default:b((()=>[y(s,null,{default:b((()=>[g("-")])),_:1}),y(s,null,{default:b((()=>[g(k(e.salaryExpenditure),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:2},1032,["show"]),Q.list.length||K.value?G("",!0):(_(),I(R,{key:0,option:{tip:"暂无数据"}}))])),_:2},1032,["onInit"])])),_:2},1024)))),256))])),_:1},8,["style"]),y(Y,{ref_key:"firstTimePickerRef",ref:W,show:D.value,modelValue:Q.firstTime,"onUpdate:modelValue":t[4]||(t[4]=e=>Q.firstTime=e),mode:"year-month",title:"选择时间",onCancel:t[5]||(t[5]=e=>D.value=!1),formatter:N,onConfirm:J},null,8,["show","modelValue"]),y(Y,{ref_key:"lastTimePickerRef",ref:H,show:F.value,modelValue:Q.lastTime,"onUpdate:modelValue":t[6]||(t[6]=e=>Q.lastTime=e),mode:"year-month",title:"选择时间",onCancel:t[7]||(t[7]=e=>F.value=!1),formatter:N,onConfirm:L},null,8,["show","modelValue"]),y(te,{show:q.value,closeOnClickOverlay:!0,width:"300px",contentTextAlign:"center"},{default:b((()=>[y(s,{class:"flex flex-col text-sm w-full"},{default:b((()=>[y(s,{class:"flex justify-between items-center w-full box-border mb-1"},{default:b((()=>[g(" 货品原始总成本 "),y(s,null,{default:b((()=>[g("￥"+k(z.value),1)])),_:1})])),_:1}),y(s,{class:"flex justify-between items-center w-full box-border"},{default:b((()=>[g(" 货品附加成本 "),y(s,null,{default:b((()=>[g("￥0")])),_:1})])),_:1})])),_:1})])),confirmButton:b((()=>[y(Z,{text:"我知道了",onClick:t[8]||(t[8]=e=>q.value=!1),color:"var(--theme-color-primary)"})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-3d05bb5c"]]);export{U as default};
