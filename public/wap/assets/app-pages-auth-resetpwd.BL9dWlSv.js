import{d as e,y as r,S as l,r as a,Z as o,s as t,b as s,U as d,c as p,V as i,W as m,o as n,e as u,w as c,f as b,p as x,t as f,u as g,n as h,J as _,a8 as w,a as v,i as y,M as V,_ as P}from"./index-VHk1sExB.js";import{_ as F}from"./sms-code.vue_vue_type_script_setup_true_lang.BZ9qbxgm.js";import{t as C}from"./topTabbar.ClSS_mln.js";const T=P(e({__name:"resetpwd",setup(e){let P={};C().setTopTabbarParam({title:"",topStatusBar:{bgColor:"#fff",textColor:"#333"}}),r((()=>Object.keys(P).length?_(Number(P.height))+_(P.top)+_(8)+"rpx":"auto"));const T=l({mobile:"",mobile_code:"",mobile_key:"",password:"",confirm_password:""}),U=a(!0);o((()=>{setTimeout((()=>{U.value=!1}),800)}));const k=a(!1),S=a(null),j={password:{type:"string",required:!0,message:t("passwordPlaceholder"),trigger:["blur","change"]},confirm_password:[{type:"string",required:!0,message:t("confirmPasswordPlaceholder"),trigger:["blur","change"]},{validator:(e,r)=>r==T.password,message:t("confirmPasswordError"),trigger:["change","blur"]}],mobile:[{type:"string",required:!0,message:t("mobilePlaceholder"),trigger:["blur","change"]},{validator:(e,r)=>uni.$u.test.mobile(r),message:t("mobileError"),trigger:["change","blur"]}],mobile_code:{type:"string",required:!0,message:t("codePlaceholder"),trigger:["blur","change"]}},q=()=>{S.value.validate().then((()=>{k.value||(k.value=!0,w(T).then((e=>{v({url:"/app/pages/auth/login",mode:"redirectTo"})})).catch((()=>{k.value=!1})))}))};return(e,r)=>{const l=y,a=s(p("u-input"),d),o=s(p("u-form-item"),i),_=s(p("sms-code"),F),w=s(p("u-form"),m),v=V;return n(),u(l,{class:"w-screen h-screen flex flex-col",style:h(e.themeColor())},{default:c((()=>[b(l,{class:"mx-[60rpx]"},{default:c((()=>[b(l,{class:"pt-[140rpx] text-[44rpx] font-500 text-[#333]"},{default:c((()=>[x(f(g(t)("findPassword")),1)])),_:1}),b(l,{class:"text-[26rpx] leading-[39rpx] text-[var(--text-color-light6)] mt-[16rpx] mb-[80rpx]"},{default:c((()=>[x(f(g(t)("findPasswordTip")),1)])),_:1}),b(w,{labelPosition:"left",model:T,errorType:"toast",rules:j,ref_key:"formRef",ref:S},{default:c((()=>[b(l,{class:"h-[88rpx] flex w-full items-center px-[30rpx] rounded-[var(--goods-rounded-mid)] box-border bg-[#F6F6F6]"},{default:c((()=>[b(o,{label:"",prop:"mobile","border-bottom":!1},{default:c((()=>[b(a,{modelValue:T.mobile,"onUpdate:modelValue":r[0]||(r[0]=e=>T.mobile=e),type:"number",maxlength:"11",border:"none",placeholder:g(t)("mobilePlaceholder"),class:"!bg-transparent",disabled:U.value,fontSize:"26rpx",placeholderClass:"!text-[var(--text-color-light9)] text-[26rpx]"},null,8,["modelValue","placeholder","disabled"])])),_:1})])),_:1}),b(l,{class:"h-[88rpx] flex w-full items-center px-[30rpx] rounded-[var(--goods-rounded-mid)] box-border bg-[#F6F6F6] mt-[40rpx]"},{default:c((()=>[b(o,{label:"",prop:"code","border-bottom":!1},{default:c((()=>[b(a,{modelValue:T.mobile_code,"onUpdate:modelValue":r[2]||(r[2]=e=>T.mobile_code=e),type:"number",maxlength:"4",border:"none",placeholder:g(t)("codePlaceholder"),class:"!bg-transparent",disabled:U.value,fontSize:"26rpx",placeholderClass:"!text-[var(--text-color-light9)] text-[26rpx]"},{suffix:c((()=>[b(_,{mobile:T.mobile,type:"find_pass",modelValue:T.mobile_key,"onUpdate:modelValue":r[1]||(r[1]=e=>T.mobile_key=e)},null,8,["mobile","modelValue"])])),_:1},8,["modelValue","placeholder","disabled"])])),_:1})])),_:1}),b(l,{class:"h-[88rpx] flex w-full items-center px-[30rpx] rounded-[var(--goods-rounded-mid)] box-border bg-[#F6F6F6] mt-[40rpx]"},{default:c((()=>[b(o,{label:"",prop:"password","border-bottom":!1},{default:c((()=>[b(a,{modelValue:T.password,"onUpdate:modelValue":r[3]||(r[3]=e=>T.password=e),border:"none",type:"password",maxlength:"40",placeholder:g(t)("passwordPlaceholder"),class:"!bg-transparent",disabled:U.value,fontSize:"26rpx",placeholderClass:"!text-[var(--text-color-light9)] text-[26rpx]"},null,8,["modelValue","placeholder","disabled"])])),_:1})])),_:1}),b(l,{class:"h-[88rpx] flex w-full items-center px-[30rpx] rounded-[var(--goods-rounded-mid)] box-border bg-[#F6F6F6] mt-[40rpx]"},{default:c((()=>[b(o,{label:"",prop:"confirm_password","border-bottom":!1},{default:c((()=>[b(a,{modelValue:T.confirm_password,"onUpdate:modelValue":r[4]||(r[4]=e=>T.confirm_password=e),border:"none",type:"password",maxlength:"40",placeholder:g(t)("confirmPasswordPlaceholder"),class:"!bg-transparent",disabled:U.value,fontSize:"26rpx",placeholderClass:"!text-[var(--text-color-light9)] text-[26rpx]"},null,8,["modelValue","placeholder","disabled"])])),_:1})])),_:1})])),_:1},8,["model"]),b(l,{class:"mt-[160rpx]"},{default:c((()=>[b(v,{class:"w-full h-[80rpx] !bg-[var(--primary-color)] text-[26rpx] rounded-[40rpx] leading-[80rpx] font-500 !text-[#fff]",onClick:q},{default:c((()=>[x(f(g(t)("confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-ab28339f"]]);export{T as default};
