import{d as e,r as a,B as t,s as l,b as c,b6 as s,c as n,o,e as r,w as u,f as i,a0 as p,am as d,a1 as m,u as x,p as _,t as f,n as y,an as v,ao as b,b7 as g,i as k,q as h,K as w,a as C,b8 as j,L as I,_ as A}from"./index-VHk1sExB.js";import{u as F,M}from"./useMescroll.Bh35ex94.js";import"./mescroll-i18n.DUzOixk-.js";const V=A(e({__name:"account",setup(e){const{mescrollInit:A,downCallback:V,getMescroll:B}=F(b,v),N=a([]),T=a(!1),q=a("bank"),z=a(null),E=a("get");t((e=>{e.type&&(q.value=e.type),e.mode&&(E.value=e.mode)}));const K=e=>{T.value=!1;let a={page:e.num,limit:e.size,account_type:q.value};g(a).then((a=>{const t=a.data.data;1==e.num&&(N.value=[]),N.value=N.value.concat(t),e.endSuccess(t.length),T.value=!0})).catch((()=>{T.value=!0,e.endErr()}))},L=a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]),R=e=>{"get"==E.value?C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:q.value,mode:E.value},mode:"redirectTo"}):C({url:"/app/pages/member/apply_cash_out",param:{account_id:e.account_id,type:q.value},mode:"redirectTo"})};return(e,a)=>{const t=I,v=k,b=h,g=c(n("u-swipe-action-item"),s);return o(),r(v,{class:"w-screen h-screen bg-[var(--page-bg-color)]",style:y(e.themeColor())},{default:u((()=>[i(M,{ref_key:"mescrollRef",ref:z,onInit:x(A),down:{use:!1},onUp:K},{default:u((()=>[(o(!0),p(m,null,d(N.value,((e,a)=>(o(),r(v,{class:"sidebar-margin my-[var(--top-m)] rounded-[var(--rounded-big)] overflow-hidden",key:a},{default:u((()=>[i(g,{options:L.value,onClick:e=>(e=>{const a=N.value[e];j(a.account_id).then((()=>{N.value.splice(e,1)})).catch()})(a)},{default:u((()=>[i(v,{class:"card-template flex justify-between"},{default:u((()=>[i(v,{class:"flex items-center"},{default:u((()=>[i(v,{class:"w-[80rpx] h-[80rpx] flex items-center justify-center",onClick:a=>R(e)},{default:u((()=>["bank"==e.account_type?(o(),r(t,{key:0,class:"w-[80rpx] h-[52rpx] align-middle",src:x(w)("static/resource/images/member/apply_withdrawal/bank-icon.png"),mode:"widthFix"},null,8,["src"])):(o(),r(t,{key:1,class:"h-[78rpx] w-[78rpx] align-middle",src:x(w)("static/resource/images/member/apply_withdrawal/alipay-icon.png"),mode:"widthFix"},null,8,["src"]))])),_:2},1032,["onClick"]),i(v,{class:"flex flex-col ml-[20rpx]",onClick:a=>R(e)},{default:u((()=>[i(v,{class:"text-[#333] text-[28rpx]"},{default:u((()=>[_(f("bank"==e.account_type?e.bank_name:x(l)("alipayAccountNo")),1)])),_:2},1024),"bank"==e.account_type?(o(),r(v,{key:0,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:u((()=>[_(f(x(l)("endNumber"))+" "+f(e.account_no.substring(e.account_no.length-4))+f(x(l)("bankCard")),1)])),_:2},1024)):(o(),r(v,{key:1,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:u((()=>[_(f(e.account_no),1)])),_:2},1024))])),_:2},1032,["onClick"])])),_:2},1024),i(b,{class:"flex items-center nc-iconfont nc-icon-xiugaiV6xx flex-shrink-0 text-[28rpx] p-[20rpx] pr-0",onClick:a=>(e=>{C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:e.account_type,mode:E.value}})})(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])])),_:2},1024)))),128)),i(v,{class:"card-template sidebar-margin my-[var(--top-m)] flex items-center",onClick:a[0]||(a[0]=e=>x(C)({url:"/app/pages/member/account_edit",param:{type:q.value,mode:E.value}}))},{default:u((()=>[i(b,{class:"nc-iconfont nc-icon-jiahaoV6xx text-[30rpx]"}),i(b,{class:"text-[28rpx] ml-[10rpx] flex-1"},{default:u((()=>[_(f("bank"==q.value?x(l)("addBankCard"):x(l)("addAlipayAccount")),1)])),_:1}),i(b,{class:"nc-iconfont nc-icon-youV6xx text-[24rpx] text-[var(--text-color-light6)]"})])),_:1})])),_:1},8,["onInit"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-af754c8f"]]);export{V as default};
