import{d as e,W as a,r as t,c as s,w as l,n as o,i as r,ar as i,as as c,b as n,D as m,e as p,aI as d,aJ as u,cs as f,m as x,aK as b,aL as _,l as h,b2 as g,b3 as v,o as y,f as C,u as k,s as z,a7 as j,h as w,a5 as I,a6 as S,at as U,a as P,M as D,p as H,t as L,_ as A}from"./index-DlbBJ3bC.js";import{_ as M}from"./mescroll-body.CzShuCTj.js";import{u as T}from"./useMescroll.lU6SPXzn.js";import{g as V}from"./user.BwIQgQ7o.js";import"./mescroll-empty.lkR5ZfjC.js";const B=A(e({__name:"collectLists",setup(e){const A=a([{name:"在售商品",is_sale:1},{name:"失效商品",is_sale:0}]),{mescrollInit:B,getMescroll:R}=T(c,i),W=t(!0),$=a({type:"",list:[],searchParams:{search:"",type_code:40,is_sale:1},mescrollUp:{page:{size:10}},stat:null,mescrollRef:null,isH5:!1});$.isH5=!0;const q=e=>{$.searchParams.is_sale=e.is_sale,R().scrollTo(0,300),R().resetUpScroll()},E=e=>{let a={page:e.num,limit:e.size,...$.searchParams};1==e.num&&($.list=[]),W.value=!0,V(a).then((a=>{let t=a.data.data;1==e.num&&($.list=[]),$.list=$.list.concat(t),e.endSuccess(a.data.data.length),W.value=!1})).catch((()=>{W.value=!1,e.endErr()}))},F=()=>{P({url:"/app/pages/home/index",mode:"redirectTo"})};return(e,a)=>{const t=n(p("up-navbar"),m),i=n(p("up-tabs"),d),c=r,T=n(p("up-search"),u),V=n(p("up-sticky"),f),W=n(p("up-image"),x),J=n(p("up-tag"),b),K=n(p("up-text"),_),G=n(p("mescroll-body"),M),N=n(p("up-icon"),h),O=n(p("up-tabbar-item"),g),Q=n(p("up-tabbar"),v);return y(),s(c,{style:o(e.themeColor()),class:"main-fix-footer-safe"},{default:l((()=>[C(V,{bgColor:"#f3f4f6"},{default:l((()=>[C(t,{title:k(z)("tabbar.collect"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!$.isH5,onLeftClick:F},null,8,["title","placeholder"]),C(c,{class:"bg-[#fff]"},{default:l((()=>[C(i,{list:A,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"60",onChange:q,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1}),C(c,{class:"bg-[#fff] p-2 flex items-center justify-between mb-1"},{default:l((()=>[C(T,{placeholder:"搜索商品名称",shape:"square",modelValue:$.searchParams.search,"onUpdate:modelValue":a[0]||(a[0]=e=>$.searchParams.search=e),onChange:a[1]||(a[1]=e=>($.list=[],void R().resetUpScroll())),showAction:!1},null,8,["modelValue"])])),_:1})])),_:1}),C(G,{ref:"mescrollRef",onInit:k(B),onUp:E,onDown:E,up:$.mescrollUp,class:j($.isH5?"mt-[44px]":""),top:0},{default:l((()=>[$.list.length?(y(),s(c,{key:0},{default:l((()=>[(y(!0),I(S,null,U($.list,((e,a)=>(y(),s(c,{class:"flex flex-col p-2 pb-1 bg-[#fff] box-border mb-1"},{default:l((()=>[C(c,{class:"flex justify-between items-center min-h-[102px]"},{default:l((()=>[C(c,{class:"",style:{position:"relative"},onClick:a=>k(P)({url:`/addon/online_expo/pages/product/collectDetail?relate_id=${e.relate_id}`})},{default:l((()=>[e.goods_cover?(y(),s(W,{key:0,"show-loading":!0,src:k(D)(e.goods_cover),mode:"aspectFit",width:"90px",radius:"5",height:"90px",class:"z-10 flex items-center"},null,8,["src"])):w("",!0)])),_:2},1032,["onClick"]),C(c,{class:"flex justify-between flex-col flex-1 pl-2 min-h-[90px]"},{default:l((()=>[C(c,{onClick:a=>k(P)({url:`/addon/online_expo/pages/product/collectDetail?relate_id=${e.relate_id}`})},{default:l((()=>[C(c,{class:"flex items-baseline leading-5 text-[14px] beyond-hiding"},{default:l((()=>[C(c,{class:"text-[var(--theme-color-main)] flex-1 min-h-[45px]"},{default:l((()=>[C(K,{lines:2,text:e.goods_name},{default:l((()=>[C(J,{text:(e.condition,k(z)("condition_new")),bgColor:"var(--theme-tag-bg)",borderColor:"var(--theme-tag-bg)",color:"var(--theme-color-main)",size:"mini"},null,8,["text"])])),_:2},1032,["text"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),C(c,{class:"flex justify-baseline items-center"},{default:l((()=>[C(c,{class:"flex justify-start items-baseline text-base flex-1 text-[var(--theme-color-primary)]"},{default:l((()=>[C(c,{class:"text-xs"},{default:l((()=>[H("￥")])),_:1}),C(c,null,{default:l((()=>[H("238,000")])),_:1})])),_:1}),e.create_time?(y(),s(c,{key:0,class:"text-[var(--theme-color-tips)] text-[12px]"},{default:l((()=>[H(L(e.create_time),1)])),_:2},1024)):w("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})):w("",!0)])),_:1},8,["onInit","up","class"]),C(Q,{value:"collect",fixed:!0,placeholder:!1,safeAreaInsetBottom:!1,activeColor:"var(--theme-color-primary)"},{default:l((()=>[C(O,{text:k(z)("tabbar.product"),onClick:a[2]||(a[2]=e=>k(P)({url:"/addon/online_expo/pages/product/lists"})),name:"product"},{"active-icon":l((()=>[C(N,{size:"18",name:"/static/assets/tab/product_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":l((()=>[C(N,{size:"18",name:"/static/assets/tab/product.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"]),C(O,{text:k(z)("tabbar.bid"),onClick:a[3]||(a[3]=e=>k(P)({url:"/addon/online_expo/pages/bid/lists"})),name:"bid"},{"active-icon":l((()=>[C(N,{size:"18",name:"/static/assets/tab/bid_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":l((()=>[C(N,{size:"18",name:"/static/assets/tab/bid.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"]),C(O,{text:k(z)("tabbar.collect"),onClick:a[4]||(a[4]=e=>k(P)({url:"/addon/online_expo/pages/product/collectLists"})),name:"collect"},{"active-icon":l((()=>[C(N,{size:"18",name:"/static/assets/tab/start_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":l((()=>[C(N,{size:"18",name:"/static/assets/tab/start.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"])])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-6806e7ba"]]);export{B as default};
