import{d as e,r as l,W as t,cG as a,a5 as o,f as s,w as r,n as i,a6 as n,i as m,b as u,aZ as c,e as f,bc as d,ar as p,as as x,l as h,D as y,aJ as _,aL as v,cr as w,cT as T,cg as b,o as g,c as k,p as C,t as j,g as D,at as N,a7 as z,v as A,u as M,h as I,cc as R,_ as V}from"./index-DlbBJ3bC.js";import{_ as S}from"./mescroll-body.CzShuCTj.js";import{u as P}from"./useMescroll.lU6SPXzn.js";import"./mescroll-empty.lkR5ZfjC.js";const U=V(e({__name:"list",setup(e){const{mescrollInit:V}=P(x,p);l(!0);const U=l(!1),$=t({firstTime:null,lastTime:null,employeeName:"全部员工",moduleName:"全部模块",shadowStyle:{backgroundImage:"none",paddingTop:"0",marginTop:"8px"},list:[{operator:"Mia",module:"商品位置",operationTime:"2025-01-04 12:00:00",type:"add",content:"新增商品位置：在店",showAll:!1},{operator:"Mia",module:"商品位置",operationTime:"2025-01-04 12:00:00",type:"edit",content:"修改商品：香港🇭🇰交收美金💲报价：理查德米勒Rm17-01Ntpt 全套2020年卡香港🇭🇰交收美金💲报价：理查德米勒Rm17-01Ntpt 全套2020年卡",operation:"更改商品位置为：在途",showAll:!1},{operator:"Mia",module:"寄卖传送",type:"consignmentDelivery",operationTime:"2025-01-04 12:00:00",content:"寄卖传送：创建了一个名称为【测试】的传送列表",showAll:!1},{operator:"Mia",module:"寄卖传送",type:"consignmentDelivery",operationTime:"2025-01-04 12:00:00",content:"寄卖传送：创建了一个名称为【测试】的传送列表",showAll:!1},{operator:"Mia",module:"寄卖传送",type:"consignmentDelivery",operationTime:"2025-01-04 12:00:00",content:"寄卖传送：创建了一个名称为【测试】的传送列表",showAll:!1}]}),q=l(!1),F=l(!1),B=l(null),G=l(null),H=()=>{$.firstTime=(new Date).getTime(),q.value=!0},J=()=>{$.lastTime=(new Date).getTime(),F.value=!0},L=e=>{q.value=!1,$.firstTime=e.value},O=e=>{F.value=!1,$.lastTime=e.value},W=()=>{$.firstTime=null,q.value=!1},Z=()=>{$.lastTime=null,F.value=!1},E=(e,l)=>"year"===e?`${l}年`:"month"===e?`${l}月`:"day"===e?`${l}日`:l,K=l(!1),Q=t(["全部员工","Mia","员工101","员工102","员工103","员工104","员工105","员工106"]),X=l(!1),Y=t(["全部模块","模块101","模块102","模块103","模块104","模块105","模块106"]),ee=l(null);return a((()=>{B.value.setFormatter(E),G.value.setFormatter(E)})),(e,l)=>{const t=u(f("up-icon"),h),a=m,p=u(f("up-navbar"),y),x=u(f("up-search"),_),P=u(f("up-text"),v),le=u(f("up-overlay"),w),te=R,ae=u(f("up-read-more"),T),oe=u(f("mescroll-body"),S),se=u(f("up-line"),b),re=u(f("up-popup"),c),ie=u(f("up-datetime-picker"),d);return g(),o(n,null,[s(a,{style:i(e.themeColor())},{default:r((()=>[s(p,{title:"操作日志",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{center:r((()=>[s(a,null,{default:r((()=>[s(t,{name:"question-circle",label:"操作日志",labelPos:"left",onClick:l[0]||(l[0]=e=>U.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"})])),_:1})])),_:1}),s(a,{class:"bg-[#fff] p-2"},{default:r((()=>[s(x,{placeholder:"搜索商品名称/描述/备注/独立编码",shape:"square",showAction:!1})])),_:1}),s(a,{class:"bg-[#fff] p-2 pl-3 flex justify-between items-center text-xs"},{default:r((()=>[s(a,{class:"flex justify-start items-center text-[var(--theme-color-main)]"},{default:r((()=>[s(a,{class:"flex justify-between items-center min-w-[89px]",onClick:H},{default:r((()=>[$.firstTime?(g(),k(P,{key:1,mode:"date",text:$.firstTime,size:"13"},null,8,["text"])):(g(),k(a,{key:0,class:"text[13px] text-[var(--theme-color-tips)] flex-1 text-right"},{default:r((()=>[C("开始时间")])),_:1})),s(t,{name:"arrow-down-fill",size:12,class:"ml-1",color:$.firstTime?"var(--theme-color-primary)":"var(--theme-color-tips)"},null,8,["color"])])),_:1}),s(a,{class:"mx-2"},{default:r((()=>[C("至")])),_:1}),s(a,{class:"flex justify-between items-center min-w-[89px]",onClick:J},{default:r((()=>[$.lastTime?(g(),k(P,{key:1,mode:"date",text:$.lastTime,size:"13"},null,8,["text"])):(g(),k(a,{key:0,class:"text[13px] text-[var(--theme-color-tips)] flex-1 text-right"},{default:r((()=>[C("结束时间")])),_:1})),s(t,{name:"arrow-down-fill",size:12,class:"ml-1",color:$.firstTime?"var(--theme-color-primary)":"var(--theme-color-tips)"},null,8,["color"])])),_:1})])),_:1}),s(a,{class:"flex justify-end"},{default:r((()=>[s(a,{onClick:l[1]||(l[1]=e=>K.value=!0),class:"bg-[#fff] rounded min-w-[60px] flex justify-between items-center px-1"},{default:r((()=>[s(a,{class:"px-1"},{default:r((()=>[C(j($.employeeName),1)])),_:1}),s(t,{name:"arrow-down-fill",size:12,color:"var(--theme-color-primary)"})])),_:1})])),_:1}),s(a,{class:"flex justify-end"},{default:r((()=>[s(a,{onClick:l[2]||(l[2]=e=>X.value=!0),class:"bg-[#fff] rounded min-w-[60px] flex justify-between items-center px-1"},{default:r((()=>[s(a,{class:"px-1"},{default:r((()=>[C(j($.moduleName),1)])),_:1}),s(t,{name:"arrow-down-fill",size:12,color:"var(--theme-color-primary)"})])),_:1})])),_:1})])),_:1}),s(le,{show:K.value,onClick:l[3]||(l[3]=e=>K.value=!1)},{default:r((()=>[D(s(a,{class:"custom-employee !absolute"},{default:r((()=>[s(a,{style:{height:"260px","overflow-y":"auto"}},{default:r((()=>[(g(!0),o(n,null,N(Q,((e,l)=>(g(),k(a,{class:"flex flex-col items-center"},{default:r((()=>[s(a,{class:z(["custom-employee-item",[l==Q.length-1?"!border-none":"",e==$.employeeName?"text-[var(--theme-color-primary)]":""]]),onClick:l=>(e=>{$.employeeName=e})(e)},{default:r((()=>[C(j(e),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1},512),[[A,K.value]])])),_:1},8,["show"]),s(le,{show:X.value,onClick:l[4]||(l[4]=e=>X.value=!1)},{default:r((()=>[D(s(a,{class:"custom-module !absolute"},{default:r((()=>[s(a,{style:{height:"260px","overflow-y":"auto"}},{default:r((()=>[(g(!0),o(n,null,N(Y,((e,l)=>(g(),k(a,{class:"flex flex-col items-center"},{default:r((()=>[s(a,{class:z(["custom-module-item",[l==Y.length-1?"!border-none":"",e==$.moduleName?"text-[var(--theme-color-primary)]":""]]),onClick:l=>(e=>{$.moduleName=e})(e)},{default:r((()=>[C(j(e),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1},512),[[A,X.value]])])),_:1},8,["show"]),s(oe,{ref:"mescrollRef",onInit:M(V),onUp:l[5]||(l[5]=()=>{}),top:"0"},{default:r((()=>[$.list.length?(g(!0),o(n,{key:0},N($.list,((e,l)=>(g(),k(a,{class:"p-3 m-2 bg-[#fff] text-sm rounded text-[var(--theme-color-main)] leading-6"},{default:r((()=>[s(a,{class:"flex flex-col"},{default:r((()=>[s(a,{class:"flex justify-between items-center"},{default:r((()=>[s(a,null,{default:r((()=>[C("操作人员")])),_:1}),s(a,{class:"text-[var(--theme-color-tips)]"},{default:r((()=>[C(j(e.operator),1)])),_:2},1024)])),_:2},1024),s(a,{class:"flex justify-between items-center"},{default:r((()=>[s(a,null,{default:r((()=>[C("操作模块")])),_:1}),s(a,{class:"text-[var(--theme-color-tips)]"},{default:r((()=>[C(j(e.module),1)])),_:2},1024)])),_:2},1024),s(a,{class:"flex justify-between items-center"},{default:r((()=>[s(a,null,{default:r((()=>[C("操作时间")])),_:1}),s(a,{class:"text-[var(--theme-color-tips)]"},{default:r((()=>[C(j(e.operationTime),1)])),_:2},1024)])),_:2},1024),s(a,{class:"flex flex-col"},{default:r((()=>[s(a,{class:"min-w-[80px]"},{default:r((()=>[C("操作内容")])),_:1}),s(a,{class:"text-[var(--theme-color-tips)] leading-[22px] text-[14px] mt-1"},{default:r((()=>[s(ae,{ref_for:!0,ref_key:"uReadMoreRef",ref:ee,toggle:!0,textIndent:"0",showHeight:"46px",openText:"收起更多",color:"var(--theme-color-primary)",shadowStyle:$.shadowStyle,closeText:"查看更多",onClick:l=>e.showAll=!e.showAll},{default:r((()=>[s(te,{nodes:e.content},null,8,["nodes"])])),_:2},1032,["shadowStyle","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)):I("",!0)])),_:1},8,["onInit"])])),_:1},8,["style"]),s(re,{show:U.value,mode:"bottom",onClose:l[7]||(l[7]=e=>U.value=!1),onOpen:l[8]||(l[8]=e=>U.value=!0)},{default:r((()=>[s(a,{class:"p-4 flex justify-between items-center"},{default:r((()=>[s(a),s(a,{class:"flex !text-center font-bold text-[30rpx]"},{default:r((()=>[C("操作日志")])),_:1}),s(t,{name:"close",size:"15",onClick:l[6]||(l[6]=e=>U.value=!1)})])),_:1}),s(se),s(a,{class:"p-4 flex flex-col mb-5"},{default:r((()=>[s(a,{style:{"text-indent":"1em"}},{default:r((()=>[C(" 可回溯员工相关操作、查看操作的完整链路 ")])),_:1})])),_:1})])),_:1},8,["show"]),s(ie,{ref_key:"firstTimePickerRef",ref:B,show:q.value,modelValue:$.firstTime,"onUpdate:modelValue":l[9]||(l[9]=e=>$.firstTime=e),mode:"date",onCancel:W,maxDate:new Date,title:"选择时间",formatter:E,onConfirm:L},null,8,["show","modelValue","maxDate"]),s(ie,{ref_key:"lastTimePickerRef",ref:G,show:F.value,modelValue:$.lastTime,"onUpdate:modelValue":l[10]||(l[10]=e=>$.lastTime=e),mode:"date",maxDate:new Date,title:"选择时间",onCancel:Z,formatter:E,onConfirm:O},null,8,["show","modelValue","maxDate"])],64)}}}),[["__scopeId","data-v-62a95b03"]]);export{U as default};
