import{d as e,E as a,a5 as l,h as s,o as t,at as o,a6 as u,c as n,w as c,p as d,t as r,n as i,a7 as p,i as m,_ as f,W as h,r as v,G as _,ak as b,b as g,f as x,bI as y,g as w,v as V,u as k,s as S,l as C,e as j,cg as P,aJ as z,a4 as N,N as B,aZ as I}from"./index-DlbBJ3bC.js";import{g as O}from"./auth.BQpGjoDu.js";/* empty css                                                              */import{c as T}from"./index.DK0m-eAv.js";const U=f(e({__name:"index",props:{modelValue:{type:[String,Number],default:()=>[]},data:{type:[Array],default:()=>[]},props:{type:Object,default:()=>{}},with:{type:[String,Number],default:0},format:{type:Function,default:e=>e}},emits:["update:modelValue","change"],setup(e,{emit:f}){const h=e,v=a((()=>({label:"label",value:"value",...h.props}))),_=e=>{let a=e[v.value.label];return h.format instanceof Function&&(a=h.format(a)),a},b=f,g=a({get:()=>h.modelValue||null,set(e){b("update:modelValue",e)}}),x=e=>g.value==e[v.value.value];return(a,f)=>{const y=m;return e.data?(t(!0),l(u,{key:0},o(e.data,((e,a)=>(t(),n(y,{key:a,onClick:a=>(e=>{g.value==e[v.value.value]?g.value=null:(b("change",e[v.value.value]),g.value=e[v.value.value])})(e),class:p(["bg-[#f9fafb] px-[10px] py-[2px] rounded-[20px] text-center custom-radio-item",{activate:x(e)}]),style:i({minWidth:h.with+"px"})},{default:c((()=>[d(r(_(e)),1)])),_:2},1032,["onClick","style","class"])))),128)):s("",!0)}}}),[["__scopeId","data-v-995172d3"]]),q=f(e({__name:"index",props:{show:{type:Boolean,default:!1},title:{type:String,default:"请选择"},sub:{type:String,default:"请选择员工"},modelValue:{type:[String,Number],default:()=>null},mode:{type:String,default:"single"},isShowSearch:{type:Boolean,default:!0},isShowTips:{type:Boolean,default:!0}},emits:["update:modelValue","select","change"],setup(e,{expose:a,emit:l}){const o=e,u={search:null,all:0,page:1,limit:100},i=h({show:!1,loading:!1,searchParams:{search:null,all:0},list:[],value:null}),p=l,f=v(!1),q=()=>{i.loading=!0,O(i.searchParams).then((({data:e})=>{i.list=e,i.loading=!1,setTimeout((()=>{E(e.data)}),16)}))},A=_(),E=e=>{A.rale_name_cache={},e.forEach((e=>{A.rale_name_cache[e.uid]=e.real_name}))},F=()=>{i.searchParams.all=1==i.searchParams.all?0:1,q()};a({open:e=>{f.value=!1,e&&(i.searchParams=Object.assign({},u,e)),i.value=b(o.modelValue),i.show=!0,q()}});const W=()=>{i.show=!1},G=()=>{i.show=!1,p("change",i.value,o.modelValue),p("update:modelValue",i.value)};return(a,l)=>{const o=m,u=g(j("up-icon"),C),p=g(j("up-line"),P),h=g(j("up-search"),z),v=g(j("up-checkbox"),B),_=g(j("up-button"),N),b=g(j("up-popup"),I);return t(),n(b,{show:i.show,mode:"bottom",onClose:W,onOpen:l[4]||(l[4]=()=>{}),class:""},{default:c((()=>[x(o,{class:"p-4 flex justify-between items-center"},{default:c((()=>[x(o),x(o,{class:"flex !text-center font-bold text-[30rpx]"},{default:c((()=>[d(r(e.title),1)])),_:1}),x(u,{name:"close",size:"15",onClick:W})])),_:1}),x(p),x(o,{class:"p-4"},{default:c((()=>[e.isShowSearch?(t(),n(h,{key:0,placeholder:"请输入搜索内容",shape:"square",showAction:!1,bgColor:"#f9fafb",class:"!mb-3",modelValue:i.searchParams.search,"onUpdate:modelValue":l[0]||(l[0]=e=>i.searchParams.search=e)},null,8,["modelValue"])):s("",!0),e.isShowTips?(t(),n(o,{key:1,class:"mb-3 flex justify-between items-center"},{default:c((()=>[x(o,{class:"text-sm text-[#000]"},{default:c((()=>[d(r(e.sub),1)])),_:1}),y(a.$slots,"custom-right",{},(()=>[x(o,{class:"flex items-center"},{default:c((()=>[x(v,{label:"显示全部员工",checked:1==i.searchParams.all,labelSize:"14",size:"14",shape:"circle",activeColor:"#e0b87a",onClick:F},null,8,["checked"]),x(u,{name:"question-circle",size:"14",onClick:l[1]||(l[1]=e=>f.value=!f.value),class:"ml-1"})])),_:1})]),!0),w(x(o,{class:"custom-tooltip",style:{position:"absolute"}},{default:c((()=>[d(r(k(S)("all.employees.online")),1)])),_:1},512),[[V,f.value]])])),_:3})):s("",!0),x(o,{class:"grid grid-cols-3 gap-2"},{default:c((()=>["single"==e.mode?(t(),n(U,{key:0,data:i.list,modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value=e),props:{label:"real_name",value:"uid"}},null,8,["data","modelValue"])):(t(),n(T,{key:1,data:i.list,modelValue:i.value,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value=e),props:{label:"real_name",value:"uid"}},null,8,["data","modelValue"]))])),_:1}),x(o,{class:"flex gap-3 my-[20px]"},{default:c((()=>[x(_,{onClick:W,class:"!text-[#303133]",color:"#f4f5f7",text:"取消"}),x(_,{text:"确定",onClick:G,color:"#e0b87a"})])),_:1})])),_:3})])),_:3},8,["show"])}}}),[["__scopeId","data-v-4c24109c"]]);export{U as c,q as s};
