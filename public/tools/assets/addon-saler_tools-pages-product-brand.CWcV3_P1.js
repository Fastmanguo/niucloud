import{d as a,r as e,E as l,G as s,H as n,a5 as t,f as r,w as o,n as u,a6 as d,i as c,b as i,e as _,D as p,aJ as v,cH as f,m,cI as b,cJ as h,o as g,u as x,s as y,at as w,c as C,M as k,p as j,t as I,aC as V,au as A,C as E,_ as H}from"./index-DlbBJ3bC.js";import{_ as J}from"./loading-page.vue_vue_type_script_setup_true_lang.B0pUTkMl.js";import{a as O}from"./warehouse.CvI1Ck4Y.js";const T=H(a({__name:"brand",setup(a){const H=e([]),T=e({}),U=e(""),$=e({}),q=e(!0),z=()=>{U.value&&D(U.value)},B=l((()=>{if(!U.value)return T.value;const a={};for(const[e,l]of Object.entries(T.value)){const s=l.filter((a=>a.brand_name.includes(U.value)||a.brand_en.includes(U.value)));s.length>0&&(a[e]=s)}return a})),D=async a=>{await V();const e=$.value[a];e&&e.scrollIntoView({behavior:"smooth",block:"start"})},F=s(),G=e("");return n((a=>{G.value=a.type,(async()=>{try{const a=await O(),e={};a.data.forEach((a=>{const l=a.letter.toUpperCase();e[l]||(e[l]=[]),e[l].push(a)})),T.value=e,H.value=Object.keys(e).sort(),q.value=!1}catch(a){console.error("获取品牌列表失败:",a)}})()})),(a,e)=>{const l=i(_("up-navbar"),p),s=i(_("up-search"),v),n=c,V=i(_("up-index-anchor"),f),O=i(_("up-image"),m),T=i(_("up-index-item"),b),D=i(_("up-index-list"),h),M=i(_("loading-page"),J);return g(),t(d,null,[r(n,{style:u(a.themeColor())},{default:o((()=>[r(l,{title:"品牌",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),r(n,null,{default:o((()=>[r(n,{class:"bg-[#fff] p-2"},{default:o((()=>[r(s,{placeholder:x(y)("search_brand_name"),shape:"square",showAction:!1,modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=a=>U.value=a),onInput:z},null,8,["placeholder","modelValue"])])),_:1}),r(D,{"index-list":H.value,activeColor:"var(--theme-color-primary)"},{default:o((()=>[(g(!0),t(d,null,w(B.value,((a,e)=>(g(),C(T,null,{default:o((()=>[r(V,{text:e},null,8,["text"]),(g(!0),t(d,null,w(a,((a,e)=>(g(),C(n,{class:"list-cell",key:e,ref_for:!0,ref:e=>{a.brand_name!==U.value&&a.brand_en!==U.value||($.value[a.brand_name]=e)},onClick:e=>{return l=a,void("select"==G.value&&(F.select_brand_cache[l.brand_id]=`${l.brand_name}/${l.brand_en}`,A("saler_tools_select_brand_id",l),E()));var l}},{default:o((()=>[r(O,{class:"brand-logo",width:"100px",height:"35px",src:x(k)(a.logo),mode:"scaleToFill","lazy-load":!0,fade:""},null,8,["src"]),r(n,{class:"brand-name"},{default:o((()=>[j(I(a.brand_name)+" / "+I(a.brand_en),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)))),256))])),_:1},8,["index-list"])])),_:1})])),_:1},8,["style"]),r(M,{loading:q.value},null,8,["loading"])],64)}}}),[["__scopeId","data-v-7b4f80ea"]]);export{T as default};
