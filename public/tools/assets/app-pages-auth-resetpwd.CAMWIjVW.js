import{d as e,E as r,W as l,r as a,a3 as o,s as t,c as s,w as d,n as p,i,L as m,b as n,Y as u,e as c,Z as b,$ as x,o as f,f as g,p as h,t as _,u as w,Q as v,ad as y,a as P,_ as V}from"./index-DlbBJ3bC.js";import{_ as F}from"./sms-code.vue_vue_type_script_setup_true_lang.CJ6LD-h5.js";import{t as C}from"./topTabbar.CE7B52mt.js";const T=V(e({__name:"resetpwd",setup(e){let V={};C().setTopTabbarParam({title:"",topStatusBar:{bgColor:"#fff",textColor:"#333"}}),r((()=>Object.keys(V).length?m(Number(V.height))+m(V.top)+m(8)+"rpx":"auto"));const T=l({mobile:"",mobile_code:"",mobile_key:"",password:"",confirm_password:""}),k=a(!0);o((()=>{setTimeout((()=>{k.value=!1}),800)}));const S=a(!1),U=a(null),j={password:{type:"string",required:!0,message:t("passwordPlaceholder"),trigger:["blur","change"]},confirm_password:[{type:"string",required:!0,message:t("confirmPasswordPlaceholder"),trigger:["blur","change"]},{validator:(e,r)=>r==T.password,message:t("confirmPasswordError"),trigger:["change","blur"]}],mobile:[{type:"string",required:!0,message:t("mobilePlaceholder"),trigger:["blur","change"]},{validator:(e,r)=>uni.$u.test.mobile(r),message:t("mobileError"),trigger:["change","blur"]}],mobile_code:{type:"string",required:!0,message:t("codePlaceholder"),trigger:["blur","change"]}},q=()=>{U.value.validate().then((()=>{S.value||(S.value=!0,y(T).then((e=>{P({url:"/app/pages/auth/login",mode:"redirectTo"})})).catch((()=>{S.value=!1})))}))};return(e,r)=>{const l=i,a=n(c("u-input"),u),o=n(c("u-form-item"),b),m=n(c("sms-code"),F),y=n(c("u-form"),x),P=v;return f(),s(l,{class:"w-screen h-screen flex flex-col",style:p(e.themeColor())},{default:d((()=>[g(l,{class:"mx-[60rpx]"},{default:d((()=>[g(l,{class:"pt-[140rpx] text-[44rpx] font-500 text-[#333]"},{default:d((()=>[h(_(w(t)("findPassword")),1)])),_:1}),g(l,{class:"text-[26rpx] leading-[39rpx] text-[var(--text-color-light6)] mt-[16rpx] mb-[80rpx]"},{default:d((()=>[h(_(w(t)("findPasswordTip")),1)])),_:1}),g(y,{labelPosition:"left",model:T,errorType:"toast",rules:j,ref_key:"formRef",ref:U},{default:d((()=>[g(l,{class:"h-[88rpx] flex w-full items-center px-[30rpx] rounded-[var(--goods-rounded-mid)] box-border bg-[#F6F6F6]"},{default:d((()=>[g(o,{label:"",prop:"mobile","border-bottom":!1},{default:d((()=>[g(a,{modelValue:T.mobile,"onUpdate:modelValue":r[0]||(r[0]=e=>T.mobile=e),type:"number",maxlength:"11",border:"none",placeholder:w(t)("mobilePlaceholder"),class:"!bg-transparent",disabled:k.value,fontSize:"26rpx",placeholderClass:"!text-[var(--text-color-light9)] text-[26rpx]"},null,8,["modelValue","placeholder","disabled"])])),_:1})])),_:1}),g(l,{class:"h-[88rpx] flex w-full items-center px-[30rpx] rounded-[var(--goods-rounded-mid)] box-border bg-[#F6F6F6] mt-[40rpx]"},{default:d((()=>[g(o,{label:"",prop:"code","border-bottom":!1},{default:d((()=>[g(a,{modelValue:T.mobile_code,"onUpdate:modelValue":r[2]||(r[2]=e=>T.mobile_code=e),type:"number",maxlength:"4",border:"none",placeholder:w(t)("codePlaceholder"),class:"!bg-transparent",disabled:k.value,fontSize:"26rpx",placeholderClass:"!text-[var(--text-color-light9)] text-[26rpx]"},{suffix:d((()=>[g(m,{mobile:T.mobile,type:"find_pass",modelValue:T.mobile_key,"onUpdate:modelValue":r[1]||(r[1]=e=>T.mobile_key=e)},null,8,["mobile","modelValue"])])),_:1},8,["modelValue","placeholder","disabled"])])),_:1})])),_:1}),g(l,{class:"h-[88rpx] flex w-full items-center px-[30rpx] rounded-[var(--goods-rounded-mid)] box-border bg-[#F6F6F6] mt-[40rpx]"},{default:d((()=>[g(o,{label:"",prop:"password","border-bottom":!1},{default:d((()=>[g(a,{modelValue:T.password,"onUpdate:modelValue":r[3]||(r[3]=e=>T.password=e),border:"none",type:"password",maxlength:"40",placeholder:w(t)("passwordPlaceholder"),class:"!bg-transparent",disabled:k.value,fontSize:"26rpx",placeholderClass:"!text-[var(--text-color-light9)] text-[26rpx]"},null,8,["modelValue","placeholder","disabled"])])),_:1})])),_:1}),g(l,{class:"h-[88rpx] flex w-full items-center px-[30rpx] rounded-[var(--goods-rounded-mid)] box-border bg-[#F6F6F6] mt-[40rpx]"},{default:d((()=>[g(o,{label:"",prop:"confirm_password","border-bottom":!1},{default:d((()=>[g(a,{modelValue:T.confirm_password,"onUpdate:modelValue":r[4]||(r[4]=e=>T.confirm_password=e),border:"none",type:"password",maxlength:"40",placeholder:w(t)("confirmPasswordPlaceholder"),class:"!bg-transparent",disabled:k.value,fontSize:"26rpx",placeholderClass:"!text-[var(--text-color-light9)] text-[26rpx]"},null,8,["modelValue","placeholder","disabled"])])),_:1})])),_:1})])),_:1},8,["model"]),g(l,{class:"mt-[160rpx]"},{default:d((()=>[g(P,{class:"w-full h-[80rpx] !bg-[var(--primary-color)] text-[26rpx] rounded-[40rpx] leading-[80rpx] font-500 !text-[#fff]",onClick:q},{default:d((()=>[h(_(w(t)("confirm")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-ab28339f"]]);export{T as default};
