import{d as e,W as a,s as t,r as l,ac as s,x as o,cq as r,E as i,a5 as c,f as n,w as d,n as m,a6 as p,i as u,b as _,aZ as f,e as h,ar as x,as as b,l as g,D as v,aJ as y,aI as C,cs as k,bR as w,aL as z,bS as L,bT as j,b2 as P,b3 as S,cg as V,o as U,u as T,p as M,t as q,a7 as A,at as H,c as I,M as R,bQ as W,a as B,_ as D}from"./index-DlbBJ3bC.js";import{u as E}from"./useMescroll.lU6SPXzn.js";import{g as N}from"./index.CbLF0msa.js";import{s as $}from"./index.Bh4RlGGN.js";import"./index.DK0m-eAv.js";import"./index.COs-0cDI.js";import"./auth.BQpGjoDu.js";/* empty css                                                              *//* empty css                                                                     */const J=D(e({__name:"lists",setup(e){const D=a({loadStatus:"loadmore",goodsList:[],list:[],searchParams:{search:"",category_id:null,__order__:""},mescrollUp:{page:{size:10},empty:{tip:t("no_goods")}},price:"asc",uptime:"asc",activate:"",isH5:!1}),J=l(),O=()=>{D.loadStatus="loading";let e={page:Math.max(Math.ceil(D.goodsList.length/10+1),1),limit:10};N(e).then((({data:e})=>{e.data.length>0?(D.goodsList=[...D.goodsList,...e.data],D.loadStatus="loadmore"):D.loadStatus="nomore"})).catch((()=>{D.loadStatus="loadmore"}))};s((()=>D.goodsList.length),((e,a)=>{e>a&&O()}));const Q=()=>{N({}).then((({data:e})=>{D.goodsList=e.data}))};Q(),o((()=>{Q()}));const Z=e=>{D.searchParams.category_id=e.category_id,ee().scrollTo(0,300),ee().resetUpScroll()},F=e=>{B({url:"/addon/online_expo/pages/product/detail?goods_id="+e.goods_id})},G=e=>{"price"==e?(D.activate="price","asc"==D.price?(D.price="desc",D.searchParams.__order__="peer_price,desc"):"desc"==D.price&&(D.price="asc",D.searchParams.__order__="peer_price,asc")):"uptime"==e?(D.activate="uptime","asc"==D.uptime?(D.uptime="desc",D.searchParams.__order__="update_time,desc"):"desc"==D.uptime&&(D.uptime="asc",D.searchParams.__order__="update_time,asc")):(D.activate="",D.searchParams.__order__=""),ee().scrollTo(0,300),ee().resetUpScroll()},K=l(!1),X=r(),Y=i({get:()=>[{category_key:"ALL",category_id:null},...X.value],set(e){}}),{getMescroll:ee}=E(b,x);l(!0);const ae=()=>{B({url:"/app/pages/home/index",mode:"redirectTo"})};return D.isH5=!0,(e,a)=>{const l=_(h("up-icon"),g),s=u,o=_(h("up-navbar"),v),r=_(h("up-search"),y),i=_(h("up-tabs"),C),x=_(h("up-sticky"),k),b=_(h("up-lazy-load"),w),E=_(h("up-text"),z),N=_(h("up-waterfall"),L),Q=_(h("up-loadmore"),j),X=_(h("up-tabbar-item"),P),te=_(h("up-tabbar"),S),le=_(h("up-line"),V),se=_(h("up-popup"),f);return U(),c(p,null,[n(s,{style:m(e.themeColor()),class:"main-fix-footer-safe"},{default:d((()=>[n(x,{bgColor:"#f3f4f6"},{default:d((()=>[n(o,{title:T(t)("online_exhibition"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!D.isH5,onLeftClick:ae},{center:d((()=>[n(s,null,{default:d((()=>[n(l,{name:"question-circle",onClick:a[0]||(a[0]=e=>K.value=!0),size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)",label:T(t)("online_exhibition"),labelPos:"left"},null,8,["label"])])),_:1})])),_:1},8,["title","placeholder"]),n(s,{class:"!bg-[#f4f4f4] w-full box-border"},{default:d((()=>[n(s,{class:"bg-[#fff] p-2"},{default:d((()=>[n(r,{placeholder:T(t)("search_placeholder"),shape:"square",modelValue:D.searchParams.search,"onUpdate:modelValue":a[1]||(a[1]=e=>D.searchParams.search=e),onChange:a[2]||(a[2]=e=>(D.list=[],void ee().resetUpScroll())),showAction:!1},null,8,["placeholder","modelValue"])])),_:1}),n(s,{class:"bg-[#fff]"},{default:d((()=>[n(i,{style:{"white-space":"nowrap !important"},list:Y.value,keyName:"category_name",activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:Z,lineColor:"var(--theme-color-primary)",inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:5px 10px;z-index:2;display: inline-block"},{content:d((e=>[M(q(T(t)(e.item.category_key)),1)])),_:1},8,["list"])])),_:1}),n(s,{class:"px-3 flex justify-between items-center bg-[#fff] mt-1 py-3"},{default:d((()=>[n(s,{class:"flex-1 flex justify-start items-center"},{default:d((()=>[n(s,{class:A(["text-[14px] mr-5",""==D.activate?"text-[var(--theme-color-primary)]":""]),onClick:a[3]||(a[3]=e=>G())},{default:d((()=>[M(" 综合 ")])),_:1},8,["class"]),n(s,{class:"flex justify-end items-center mr-5",onClick:a[4]||(a[4]=e=>G("uptime"))},{default:d((()=>[n(l,{label:"更新时间",labelPos:"left",size:"12",labelSize:"14",labelColor:"uptime"==D.activate?"var(--theme-color-primary)":"var(--theme-color-main)",color:"uptime"==D.activate?"var(--theme-color-primary)":"var(--theme-color-main)",name:"asc"==D.uptime?"arrow-up-fill":"arrow-down-fill",bold:""},null,8,["labelColor","color","name"])])),_:1}),n(s,{class:"flex justify-end items-center mr-2",onClick:a[5]||(a[5]=e=>G("price"))},{default:d((()=>[n(l,{label:"价格",labelPos:"left",size:"12",labelSize:"14",labelColor:"price"==D.activate?"var(--theme-color-primary)":"var(--theme-color-main)",color:"price"==D.activate?"var(--theme-color-primary)":"var(--theme-color-main)",name:"asc"==D.price?"arrow-up-fill":"arrow-down-fill"},null,8,["labelColor","color","name"])])),_:1})])),_:1}),n(s,{class:"w-1/3 flex justify-end items-center text-[14px]",onClick:a[6]||(a[6]=e=>J.value.open())},{default:d((()=>[M(q(T(t)("screen"))+" ",1),n(l,{name:"/static/assets/stock/screen.png",bold:"",size:"16",class:"ml-1",color:"var(--theme-color-main)"})])),_:1})])),_:1})])),_:1})])),_:1}),n(s,{class:A(["biserial-goods-list",D.isH5?"mt-[44px]":""])},{default:d((()=>[n(s,{class:"wrap"},{default:d((()=>[n(N,{modelValue:D.goodsList,"onUpdate:modelValue":a[7]||(a[7]=e=>D.goodsList=e),ref:"uWaterfallRef"},{left:d((({leftList:e})=>[(U(!0),c(p,null,H(e,((e,a)=>(U(),I(s,{class:"demo-warter",key:a,onClick:a=>F(e)},{default:d((()=>[n(b,{threshold:"-450","border-radius":"10",image:T(R)(e.goods_cover),"loading-img":"/static/assets/loading.gif",index:a},null,8,["image","index"]),n(E,{text:e.goods_name,lines:2},null,8,["text"]),n(s,{class:"flex items-baseline mt-1 text-[var(--theme-color-primary)]"},{default:d((()=>[n(s,{class:"text-xs"},{default:d((()=>[M("￥")])),_:1}),n(s,{class:"text-base"},{default:d((()=>[M(q(T(W)(e.price)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),right:d((({rightList:e})=>[(U(!0),c(p,null,H(e,((e,a)=>(U(),I(s,{class:"demo-warter",key:a,onClick:a=>F(e)},{default:d((()=>[n(b,{threshold:"-450","border-radius":"10",image:T(R)(e.goods_cover),index:a},null,8,["image","index"]),n(E,{text:e.goods_name,lines:2},null,8,["text"]),n(s,{class:"flex items-baseline mt-1 text-[var(--theme-color-primary)]"},{default:d((()=>[n(s,{class:"text-xs"},{default:d((()=>[M("￥")])),_:1}),n(s,{class:"text-base"},{default:d((()=>[M(q(T(W)(e.price)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue"]),n(Q,{status:D.loadStatus,onLoadmore:O,nomoreText:"--- END ---"},null,8,["status"])])),_:1})])),_:1},8,["class"]),n(te,{value:"product",fixed:!0,placeholder:!1,safeAreaInsetBottom:!1,activeColor:"var(--theme-color-primary)"},{default:d((()=>[n(X,{text:T(t)("tabbar.product"),onClick:a[8]||(a[8]=e=>T(B)({url:"/addon/online_expo/pages/product/lists"})),name:"product"},{"active-icon":d((()=>[n(l,{size:"18",name:"/static/assets/tab/product_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":d((()=>[n(l,{size:"18",name:"/static/assets/tab/product.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"]),n(X,{text:T(t)("tabbar.bid"),onClick:a[9]||(a[9]=e=>T(B)({url:"/addon/online_expo/pages/bid/lists"})),name:"bid"},{"active-icon":d((()=>[n(l,{size:"18",name:"/static/assets/tab/bid_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":d((()=>[n(l,{size:"18",name:"/static/assets/tab/bid.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"]),n(X,{text:T(t)("tabbar.collect"),onClick:a[10]||(a[10]=e=>T(B)({url:"/addon/online_expo/pages/product/collectLists"})),name:"collect"},{"active-icon":d((()=>[n(l,{size:"18",name:"/static/assets/tab/start_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":d((()=>[n(l,{size:"18",name:"/static/assets/tab/start.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"])])),_:1})])),_:1},8,["style"]),n(se,{show:K.value,mode:"bottom",onClose:a[12]||(a[12]=e=>K.value=!1),onOpen:a[13]||(a[13]=e=>K.value=!0)},{default:d((()=>[n(s,{class:"p-4 flex justify-between items-center"},{default:d((()=>[n(s),n(s,{class:"flex !text-center font-bold text-[30rpx]"},{default:d((()=>[M(q(T(t)("online_exhibition")),1)])),_:1}),n(l,{name:"close",size:"15",onClick:a[11]||(a[11]=e=>K.value=!1)})])),_:1}),n(le),n(s,{class:"p-4 flex flex-col leading-6 h-[500px]"},{default:d((()=>[(U(),c(p,null,H(17,(e=>n(s,{class:A(7==e?"mt-5":"")},{default:d((()=>[M(q(T(t)(`online_exhibition.tips${e}`)),1)])),_:2},1032,["class"]))),64))])),_:1})])),_:1},8,["show"]),n($,{ref_key:"screenPopupRef",ref:J,modelValue:D.searchParams,"onUpdate:modelValue":a[14]||(a[14]=e=>D.searchParams=e)},null,8,["modelValue"])],64)}}}),[["__scopeId","data-v-f6d3dc44"]]);export{J as default};
