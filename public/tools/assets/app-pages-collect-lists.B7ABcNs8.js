import{d as e,W as a,s,r as l,c as t,w as o,n as r,i,ar as n,as as c,b as d,aI as m,e as u,D as p,aJ as f,m as x,aK as _,aL as h,aM as g,o as b,f as y,u as v,a5 as w,a6 as C,at as j,a as z,h as S,M as k,p as I,t as U,_ as P}from"./index-DlbBJ3bC.js";import{_ as M}from"./mescroll-body.CzShuCTj.js";import{u as D}from"./useMescroll.lU6SPXzn.js";import{g as T}from"./user.BwIQgQ7o.js";import"./mescroll-empty.lkR5ZfjC.js";const V=P(e({__name:"lists",setup(e){const P=a([{name:s("on_sale"),is_sale:1},{name:s("sold_out"),is_sale:0}]),{mescrollInit:V,downCallback:A,getMescroll:R}=D(c,n),W=l(!0),$=a({type:"",list:[],searchParams:{search:"",type_code:40,is_sale:1},mescrollUp:{page:{size:10}},stat:null,mescrollRef:null}),q=e=>{$.searchParams.is_sale=e.is_sale,$.list=[],R().scrollTo(0,200),R().resetUpScroll()},E=e=>{let a={page:e.num,limit:e.size,...$.searchParams};W.value=!0,T(a).then((a=>{let s=a.data.data;e.endSuccess(s.length),1==e.num&&($.list=[]),$.list=$.list.concat(s),e.endSuccess(a.data.data.length),W.value=!1})).catch((()=>{W.value=!1,e.endErr()}))};return(e,a)=>{const l=d(u("up-tabs"),m),n=d(u("up-navbar"),p),c=d(u("up-search"),f),D=i,T=d(u("up-image"),x),W=d(u("up-tag"),_),F=d(u("up-text"),h),J=d(u("up-divider"),g),K=d(u("mescroll-body"),M);return b(),t(D,{style:r(e.themeColor())},{default:o((()=>[y(n,{leftText:"",fixed:"",title:"",safeAreaInsetTop:"",leftIconSize:0,class:"header-box",placeholder:""},{center:o((()=>[y(l,{list:P,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:q,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1}),y(D,{class:"bg-[#fff] p-2 flex items-center justify-between"},{default:o((()=>[y(c,{placeholder:"搜索商品名称",shape:"square",modelValue:$.searchParams.search,"onUpdate:modelValue":a[0]||(a[0]=e=>$.searchParams.search=e),onChange:a[1]||(a[1]=e=>($.list=[],void R().resetUpScroll())),showAction:!1},null,8,["modelValue"])])),_:1}),y(K,{ref:"mescrollRef",onInit:v(V),onUp:E,onDown:v(A),up:$.mescrollUp,top:"0"},{default:o((()=>[y(D,null,{default:o((()=>[(b(!0),w(C,null,j($.list,((e,a)=>(b(),w(C,null,[y(D,{class:"flex flex-col p-2 pb-1 bg-[#fff] box-border mt-1"},{default:o((()=>[y(D,{class:"flex justify-between items-center min-h-[102px]"},{default:o((()=>[y(D,{class:"",style:{position:"relative"},onClick:a=>v(z)({url:`/addon/online_expo/pages/product/detail?goods_id=${e.relate_id}`})},{default:o((()=>[e.goods_cover?(b(),t(T,{key:0,"show-loading":!0,src:v(k)(e.goods_cover),mode:"aspectFit",width:"90px",radius:"5",height:"90px",class:"z-10 flex items-center"},null,8,["src"])):S("",!0)])),_:2},1032,["onClick"]),y(D,{class:"flex justify-between flex-col flex-1 pl-2 min-h-[90px]"},{default:o((()=>[y(D,{onClick:a=>v(z)({url:`/addon/online_expo/pages/product/detail?goods_id=${e.relate_id}`})},{default:o((()=>[y(D,{class:"flex items-baseline leading-5 text-[14px] beyond-hiding"},{default:o((()=>[y(D,{class:"text-[var(--theme-color-main)] flex-1 min-h-[45px]"},{default:o((()=>[y(F,{lines:2,text:e.goods_name},{default:o((()=>[y(W,{text:(e.condition,v(s)("condition_new")),bgColor:"var(--theme-tag-bg)",borderColor:"var(--theme-tag-bg)",color:"var(--theme-color-main)",size:"mini"},null,8,["text"])])),_:2},1032,["text"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),y(D,{class:"flex justify-baseline items-center"},{default:o((()=>[y(D,{class:"flex justify-start items-baseline text-base flex-1 text-[var(--theme-color-primary)]"},{default:o((()=>[y(D,{class:"text-xs"},{default:o((()=>[I("￥")])),_:1}),y(D,null,{default:o((()=>[I("238,000")])),_:1})])),_:1}),e.create_time?(b(),t(D,{key:0,class:"text-[var(--theme-color-tips)] text-[12px]"},{default:o((()=>[I(U(e.create_time),1)])),_:2},1024)):S("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),y(J,{class:"!p-0 !m-0"})],64)))),256))])),_:1})])),_:1},8,["onInit","onDown","up"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-8ac74415"]]);export{V as default};
