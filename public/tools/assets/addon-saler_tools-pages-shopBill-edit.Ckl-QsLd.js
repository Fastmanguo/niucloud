import{d as e,W as t,r as a,ac as l,c as s,w as o,n as r,i as u,b as d,D as c,e as n,a4 as f,l as m,Y as x,o as p,f as i,a5 as v,p as h,a6 as b,at as _,a7 as y,t as C,_ as V}from"./index-DlbBJ3bC.js";const k=V(e({__name:"edit",setup(e){const V=t({cash:0,productCost:0,statementCost:0}),k=a([]),w=a([{name:"自有商品",value:3e5},{name:"其他商品",value:0},{name:"质押商品",value:0}]),g=()=>{V.productCost=w.value.reduce(((e,t)=>k.value.includes(t.name)?e+parseFloat(t.value):e),0),j()},j=()=>{V.statementCost=parseFloat(V.productCost)+parseFloat(V.cash)};return l((()=>V.cash),(()=>{j()})),l(w,(()=>{g()}),{deep:!0}),(e,t)=>{const a=d(n("up-navbar"),c),l=u,U=d(n("up-button"),f),B=d(n("up-icon"),m),I=d(n("up-input"),x);return p(),s(l,{style:r(e.themeColor())},{default:o((()=>[i(a,{title:"创建对账单",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),i(l,{class:"border-t-[10px] border-[0px] border-solid border-[#f4f5f7]"},{default:o((()=>[i(l,{class:"p-3 flex flex-col"},{default:o((()=>[i(l,{class:"flex mb-1"},{default:o((()=>[h(" 选择对账类型 "),i(l,{class:"text-[var(--theme-text-red)]"},{default:o((()=>[h("*")])),_:1})])),_:1}),(p(!0),v(b,null,_(w.value,((e,t)=>(p(),s(l,{class:"flex justify-between items-center my-1",key:t},{default:o((()=>[i(l,{class:"relative overflow-hidden rounded-br-[3px]"},{default:o((()=>[i(U,{text:e.name,type:"default",onClick:t=>(e=>{const t=k.value.indexOf(e);t>-1?k.value.splice(t,1):k.value.push(e),g()})(e.name),class:y(["!px-5",{"tag-selected":k.value.includes(e.name),"tag-unselected":!k.value.includes(e.name)}])},null,8,["text","onClick","class"]),i(l,{class:"flex items-center justify-start h-[40px] w-[40px] absolute bg-[var(--theme-color-primary)] top-[24px] right-[-24px]",style:{transform:"rotate(45deg)"}},{default:o((()=>[i(B,{name:"checkbox-mark",size:"12",color:"#fff",style:{transform:"rotate(-45deg)"}})])),_:1})])),_:2},1024),i(l,{class:"ml-3 flex-1 flex justify-start items-center text-xs text-[var(--theme-color-content)]"},{default:o((()=>[i(l,{class:y({"text-[var(--theme-color-primary)]":k.value.includes(e.name)})},{default:o((()=>[h(C(e.name)+" 总成本（元）： ",1)])),_:2},1032,["class"]),k.value.includes(e.name)?(p(),s(I,{key:0,placeholder:"0",border:"none",modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,onBlur:g,color:"var(--theme-color-primary)",onInput:g},null,8,["modelValue","onUpdate:modelValue"])):(p(),s(I,{key:1,placeholder:"0",border:"none",onBlur:g,modelValue:e.value,"onUpdate:modelValue":t=>e.value=t,color:"text-[var(--theme-color-content)]"},null,8,["modelValue","onUpdate:modelValue"]))])),_:2},1024)])),_:2},1024)))),128))])),_:1}),i(l,{class:"px-3 mb-1 flex items-center justify-end text-sm text-[var(--theme-color-main)]"},{default:o((()=>[i(l,null,{default:o((()=>[h("商品总成本合计：")])),_:1}),i(l,{class:"text-base"},{default:o((()=>[h("￥"+C(V.productCost),1)])),_:1})])),_:1}),i(l,{class:"p-3 flex items-center justify-between"},{default:o((()=>[i(l,{class:"flex"},{default:o((()=>[h(" 现金 "),i(l,{class:"text-[var(--theme-text-red)]"},{default:o((()=>[h("*")])),_:1})])),_:1}),i(l,{class:"flex items-center h-[14px] flex-1 ml-2"},{default:o((()=>[i(I,{placeholder:"填写金额",border:"bottom",placeholderStyle:"color: var(--theme-color-tips);",onBlur:g,modelValue:V.cash,"onUpdate:modelValue":t[0]||(t[0]=e=>V.cash=e),onInput:j},{suffix:o((()=>[i(l,{class:"text-[var(--theme-color-tips)]"},{default:o((()=>[h("（元）")])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1}),i(l,{class:"p-3 flex items-center justify-between"},{default:o((()=>[i(l,{class:"flex"},{default:o((()=>[h(" 对账单总成本 ")])),_:1}),i(l,{class:"flex-1 flex justify-end items-center h-[14px] flex-1 ml-2"},{default:o((()=>[i(l,{class:"text-[var(--theme-color-main)] font-bold text-xl"},{default:o((()=>[h(C(V.statementCost),1)])),_:1}),i(l,{class:"text-[var(--theme-color-tips)]"},{default:o((()=>[h("（元）")])),_:1})])),_:1})])),_:1})])),_:1}),i(l,{class:"fixed bottom-0 left-0 w-full box-border bg-[#fff] z-100 p-3 h-[80px]",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:o((()=>[i(U,{text:"创建对账单",class:"!text-[#fff] !bg-[var(--theme-color-primary)] !border-none",onClick:t[1]||(t[1]=()=>{})})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-80b7f2ab"]]);export{k as default};
