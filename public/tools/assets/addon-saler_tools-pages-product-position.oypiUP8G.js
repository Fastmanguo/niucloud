import{d as e,r as l,W as t,x as a,s as o,a5 as s,f as c,w as n,n as i,a6 as r,i as d,b as u,aZ as f,e as m,ah as p,l as x,D as h,aL as _,N as v,O as b,a4 as g,cg as k,Y as w,o as y,u as C,p as j,t as L,c as U,at as z,h as B,cC as A,K as O,a as E,_ as K}from"./index-DlbBJ3bC.js";import{_ as T}from"./loading-page.vue_vue_type_script_setup_true_lang.B0pUTkMl.js";import{j as V}from"./goods.dvxeGb_d.js";const I=K(e({__name:"position",setup(e){const K=l(!1),I=t({loading:!0,list:[]}),W=t({show:!1,form:{value:"",key:"product_position"}}),$=()=>{I.loading=!0,V().then((e=>{I.list=e.data,I.loading=!1}))};a((()=>{$()}));const q=l(!1),D=e=>{e.selected=!e.selected,positionList.some((e=>!e.selected))?N.selected=!1:N.selected=!0},N=t({name:o("select_all"),selected:!1}),P=t({name:o("reverse"),selected:!1}),S=()=>{positionList.forEach(((e,l)=>{e.selected=!N.selected})),N.selected=!N.selected},Y=()=>{positionList.forEach(((e,l)=>{e.selected=!e.selected})),positionList.some((e=>!e.selected))?N.selected=!1:N.selected=!0},Z=l(!1);return(e,l)=>{const t=u(m("up-icon"),x),a=d,V=u(m("up-navbar"),h),F=u(m("up-text"),_),G=u(m("up-checkbox"),v),H=u(m("up-checkbox-group"),b),J=u(m("up-button"),g),M=u(m("up-line"),k),Q=u(m("up-popup"),f),R=u(m("up-input"),w),X=u(m("up-modal"),p),ee=u(m("loading-page"),T);return y(),s(r,null,[c(a,{style:i(e.themeColor())},{default:n((()=>[c(V,{title:C(o)("form.location"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{center:n((()=>[c(a,null,{default:n((()=>[c(t,{name:"question-circle",label:C(o)("form.location"),labelPos:"left",onClick:l[0]||(l[0]=e=>K.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"},null,8,["label"])])),_:1})])),right:n((()=>[c(a,{class:"u-nav-slot",onClick:l[1]||(l[1]=e=>Z.value=!Z.value)},{default:n((()=>[c(a,{class:"text-xs text-[var(--theme-color-main)]"},{default:n((()=>[j(L(Z.value?C(o)("cancel"):C(o)("delete")),1)])),_:1})])),_:1})])),_:1},8,["title"])])),_:1},8,["style"]),c(a,null,{default:n((()=>[c(a,{class:"break-normal text-amber-500 text-xs bg-[#fefee6] p-[10px]"},{default:n((()=>[c(a,{class:"mb-1"},{default:n((()=>[j(L(C(o)("location_inform1")),1)])),_:1}),c(a,null,{default:n((()=>[j(L(C(o)("location_inform2")),1)])),_:1})])),_:1}),(y(!0),s(r,null,z(I.list,((e,l)=>(y(),U(a,{class:"flex flex-col text-sm",key:l,onClick:l=>((e,l)=>{l?D(e):E({url:`/addon/saler_tools/pages/product/lists?type=position&watch_location=${e.value}`})})(e,Z.value)},{default:n((()=>[Z.value&&"default"==e.type?B("",!0):(y(),U(a,{key:0,class:"flex justify-between items-center bg-[#fff] p-3 rounded mx-2 mt-2"},{default:n((()=>[c(a,{class:"flex flex-col"},{default:n((()=>[c(a,{class:"text-[var(--theme-color-main)]"},{default:n((()=>[j(L(e.value||C(o)("no_distribution_location")),1)])),_:2},1024),c(a,{class:"text-[var(--theme-color-tips)] flex"},{default:n((()=>[j(L(C(o)("aggregate"))+" ",1),c(F,{type:"primary",text:e.goods_num,margin:"0 5px"},null,8,["text"]),j(" "+L(C(o)("goods_pieces")),1)])),_:2},1024)])),_:2},1024),Z.value?B("",!0):(y(),U(a,{key:0},{default:n((()=>[c(t,{name:"arrow-right",bold:"",size:"15",color:"var(--theme-color-content)"})])),_:1})),Z.value?(y(),U(H,{key:1,placement:"column"},{default:n((()=>[(y(),U(G,{key:l,checked:e.selected,"onUpdate:checked":l=>e.selected=l,shape:"circle",onChange:l=>D(e),activeColor:"var(--theme-color-primary)"},null,8,["checked","onUpdate:checked","onChange"]))])),_:2},1024)):B("",!0)])),_:2},1024))])),_:2},1032,["onClick"])))),128)),c(a,{class:"main-fix-footer-safe pt-2"}),Z.value?(y(),U(a,{key:0,style:{"box-shadow":"var(--theme-box-shadow)"},class:"main-fix-footer z-100 flex justify-between items-center"},{default:n((()=>[c(a,{class:"flex flex-1 items-center justify-start text-base"},{default:n((()=>[c(H,{placement:"row",activeColor:"var(--theme-color-primary)"},{default:n((()=>[c(G,{checked:N.selected,"onUpdate:checked":l[2]||(l[2]=e=>N.selected=e),shape:"circle",label:N.name,onChange:S},null,8,["checked","label"])])),_:1}),c(a,{class:"ml-5"},{default:n((()=>[c(H,{activeColor:"var(--theme-color-primary)",placement:"row"},{default:n((()=>[c(G,{checked:P.selected,"onUpdate:checked":l[3]||(l[3]=e=>P.selected=e),shape:"circle",label:P.name,onChange:Y},null,8,["checked","label"])])),_:1})])),_:1})])),_:1}),c(a,{class:"text-[var(--theme-color-primary)] text-sm",onClick:l[4]||(l[4]=e=>q.value=!0)},{default:n((()=>[j(L(C(o)("delete")),1)])),_:1})])),_:1})):(y(),U(a,{key:1,class:"main-fix-footer"},{default:n((()=>[c(J,{text:C(o)("add_location"),class:"!text-[#fff] !bg-[var(--theme-color-primary)] !border-none",onClick:l[5]||(l[5]=e=>W.show=!0)},null,8,["text"])])),_:1}))])),_:1}),c(Q,{show:K.value,mode:"bottom",onClose:l[7]||(l[7]=e=>K.value=!1),onOpen:l[8]||(l[8]=e=>K.value=!0)},{default:n((()=>[c(a,{class:"p-4 flex justify-between items-center"},{default:n((()=>[c(a),c(a,{class:"flex !text-center font-bold text-[30rpx]"},{default:n((()=>[j(L(C(o)("form.location")),1)])),_:1}),c(t,{name:"close",size:"15",onClick:l[6]||(l[6]=e=>K.value=!1)})])),_:1}),c(M),c(a,{class:"p-4 flex flex-col"},{default:n((()=>[c(a,null,{default:n((()=>[j(L(C(o)("location.tips0")),1)])),_:1}),(y(),s(r,null,z([1,2,3],(e=>c(a,{style:{"text-indent":"1em"}},{default:n((()=>[j(L(C(o)(`location.tips${e}`)),1)])),_:2},1024))),64))])),_:1})])),_:1},8,["show"]),c(X,{show:W.show,"onUpdate:show":l[12]||(l[12]=e=>W.show=e),width:300,showConfirmButton:!1,contentTextAlign:"center"},{confirmButton:n((()=>[c(a,{class:"flex gap-3"},{default:n((()=>[c(J,{onClick:l[10]||(l[10]=e=>W.show=!1),class:"!text-[#303133]",color:"#f4f5f7",text:C(o)("cancel")},null,8,["text"]),c(J,{text:C(o)("OK"),color:"var(--theme-color-primary)",onClick:l[11]||(l[11]=e=>(I.loading=!0,void A(W.form).then((()=>{I.loading=!0,W.form.value="",O({title:o("success"),icon:"none"}),W.show=!1,$()})).finally((()=>{I.loading=!1}))))},null,8,["text"])])),_:1})])),default:n((()=>[c(a,{class:"flex flex-col items-center w-full"},{default:n((()=>[c(a,{class:"flex !text-center font-bold text-base mb-3"},{default:n((()=>[j(L(C(o)("add_location")),1)])),_:1}),c(a,{class:"flex flex-col !box-border w-full !bg-[#f4f5f7] p-2 !rounded"},{default:n((()=>[c(R,{placeholder:C(o)("max_character10"),border:"none",inputAlign:"center",modelValue:W.form.value,"onUpdate:modelValue":l[9]||(l[9]=e=>W.form.value=e)},null,8,["placeholder","modelValue"])])),_:1})])),_:1})])),_:1},8,["show"]),c(X,{show:q.value,"onUpdate:show":l[15]||(l[15]=e=>q.value=e),width:300,showConfirmButton:!1,contentTextAlign:"center"},{confirmButton:n((()=>[c(a,{class:"flex gap-3"},{default:n((()=>[c(J,{onClick:l[13]||(l[13]=e=>q.value=!1),class:"!text-[#303133]",color:"#f4f5f7",text:C(o)("cancel")},null,8,["text"]),c(J,{text:C(o)("OK"),onClick:l[14]||(l[14]=e=>(positionList.map(((e,l)=>e.selected?l:-1)).filter((e=>-1!==e)).sort(((e,l)=>l-e)).forEach((e=>{positionList.splice(e,1)})),void(q.value=!1))),color:"#e0b87a"},null,8,["text"])])),_:1})])),default:n((()=>[c(a,{class:"flex flex-col !box-border w-full text-[var(--theme-color-main)]"},{default:n((()=>[j(L(C(o)("confirm_delete_shipments")),1)])),_:1})])),_:1},8,["show"]),c(ee,{loading:I.loading},null,8,["loading"])],64)}}}),[["__scopeId","data-v-25d6d5d5"]]);export{I as default};
