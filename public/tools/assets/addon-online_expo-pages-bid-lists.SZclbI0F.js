import{d as e,W as t,s as a,r as l,H as s,a5 as o,f as r,w as c,n,a6 as i,i as u,b as d,ah as m,e as f,aZ as p,ar as x,as as _,D as h,aI as b,aJ as y,cs as g,m as v,l as w,aL as k,a4 as C,b2 as z,b3 as j,cg as P,bO as I,o as M,u as O,at as S,c as U,a7 as A,p as H,t as L,h as T,M as B,q as D,a as V,c9 as q,ak as K,aC as R,ca as W,K as E,_ as F}from"./index-DlbBJ3bC.js";import{_ as J}from"./mescroll-body.CzShuCTj.js";import{u as Z}from"./useMescroll.lU6SPXzn.js";import{g as G,a as N,b as Q}from"./contact.B1LEhgvy.js";import"./mescroll-empty.lkR5ZfjC.js";const X=F(e({__name:"lists",setup(e){const F=t({type:"",list:[],searchParams:{search:"",status:null,type:1},mescrollUp:{page:{size:10}},stat:null,mescrollRef:null,isH5:!1,showOperateModal:!1,shopInfo:{}}),X=t([{name:a("i_received_bid"),value:1},{name:a("my_bid"),value:2}]),Y=t([{label:a("ALL"),value:null},{label:a("agreed"),value:1},{label:a("not_responded"),value:0},{label:a("rejected"),value:-1}]),$=l(null),ee=e=>{if(2==F.searchParams.type){if(0==e)return a("each_other_rejected");if(1==e)return a("each_other_agreed");if(-1==e)return a("each_other_rejected")}else if(1==F.searchParams.type){if(0==e)return a("you_have_not_responded");if(1==e)return a("you_have_agreed");if(-1==e)return a("you_have_rejected")}},te=t({show:!1,form:{}}),ae=t({id:null,index:0,status:null}),le=(e,t,a)=>{ae.id=e,ae.index=t,ae.status=a,F.showOperateModal=!0},se=()=>{q({title:a("loading")}),N({id:ae.id,status:ae.status}).then((()=>{E({title:a("success"),icon:"none"}),F.showOperateModal=!1,(e=>{let t=F.list[e];Q({goods_id:t.goods_id}).then((t=>{F.list[e]=t.data.data[0]}))})(ae.index)})).catch((()=>{E({title:a("error"),icon:"none"})})).finally((()=>{W()}))},{mescrollInit:oe,getMescroll:re}=Z(_,x),ce=l(!0),ne=e=>{F.searchParams.type=e.value,re().scrollTo(0,300),re().resetUpScroll()},ie=e=>{let t={page:e.num,limit:e.size,...F.searchParams};1==e.num&&(F.list=[]),ce.value=!0,Q(t).then((t=>{let a=t.data.data;1==e.num&&(F.list=[]),F.list=F.list.concat(a),e.endSuccess(t.data.data.length),ce.value=!1})).catch((()=>{ce.value=!1,e.endErr()}))},ue=()=>{V({url:"/app/pages/home/index",mode:"redirectTo"})};return F.isH5=!0,s((e=>{})),(e,t)=>{const l=d(f("up-navbar"),h),s=d(f("up-tabs"),b),x=u,_=d(f("up-search"),y),E=d(f("up-sticky"),g),Z=d(f("up-image"),v),N=d(f("up-icon"),w),Q=D,ce=d(f("up-text"),k),de=d(f("up-button"),C),me=d(f("mescroll-body"),J),fe=d(f("up-tabbar-item"),z),pe=d(f("up-tabbar"),j),xe=d(f("up-modal"),m),_e=d(f("up-line"),P),he=d(f("up-copy"),I),be=d(f("up-popup"),p);return M(),o(i,null,[r(x,{style:n(e.themeColor()),class:"main-fix-footer-safe"},{default:c((()=>[r(E,{bgColor:"#f3f4f6"},{default:c((()=>[r(l,{title:O(a)("tabbar.bid"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!F.isH5,onLeftClick:ue},null,8,["title","placeholder"]),r(x,{class:"bg-[#fff]"},{default:c((()=>[r(s,{list:X,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"60",onChange:ne,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1}),r(x,{class:"bg-[#fff] p-2 flex items-center justify-between"},{default:c((()=>[r(_,{placeholder:O(a)("bid_search_placeholder"),shape:"square",modelValue:F.searchParams.search,"onUpdate:modelValue":t[0]||(t[0]=e=>F.searchParams.search=e),bgColor:"var(--theme-bg)",onChange:t[1]||(t[1]=e=>(F.list=[],void re().resetUpScroll())),showAction:!1},null,8,["placeholder","modelValue"])])),_:1}),r(x,{class:"px-2 grid grid-cols-4 gap-2 text-xs text-[var(--theme-color-content)] bg-[#fff] w-full box-border pb-2"},{default:c((()=>[(M(!0),o(i,null,S(Y,((e,t)=>(M(),U(x,{key:t,class:"w-full box-border",onClick:t=>(e=>{$.value=e.label,F.searchParams.status=e.value,re().resetUpScroll()})(e)},{default:c((()=>[r(x,{class:A(["h-[32px] flex items-center justify-center",["!bg-[var(--theme-bg)] rounded flex-1 text-center border-[1px] border-solid border-[var(--theme-bg)]",{"!bg-[#e0b87a10] border-[1px] border-solid !border-[var(--theme-color-primary)] text-[var(--theme-color-primary)]":$.value==e.label}]])},{default:c((()=>[H(L(e.label),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),r(me,{ref:"mescrollRef",onInit:O(oe),onUp:ie,onDown:ie,up:F.mescrollUp,class:A(F.isH5?"mt-[44px]":"")},{default:c((()=>[F.list.length?(M(),U(x,{key:0},{default:c((()=>[(M(!0),o(i,null,S(F.list,((e,t)=>(M(),U(x,{class:"flex flex-col p-3 bg-[#fff] m-2 mb-0 rounded"},{default:c((()=>[r(x,{class:"flex justify-between items-center"},{default:c((()=>[r(x,{class:"flex items-center"},{default:c((()=>[r(Z,{"show-loading":!0,src:O(B)(e.shop_logo),width:"25px",height:"25px",radius:"4"},null,8,["src"]),r(N,{name:"arrow-right",label:e.shop_name,labelPos:"left",class:"ml-2",labelColor:"var(--theme-color-main)",labelSize:"14",color:"var(--theme-color-tips)",size:"14"},null,8,["label"])])),_:2},1024),r(x,{class:"text-sm text-[var(--theme-color-primary)]"},{default:c((()=>[r(Q,{class:"text-[var(--theme-color-content)]"},{default:c((()=>[H(L(1==F.searchParams.type?O(a)("give_you_offer"):O(a)("your_bid")),1)])),_:1}),r(Q,{class:"text-xs ml-1"},{default:c((()=>[H("￥")])),_:1}),r(Q,null,{default:c((()=>[H(L(e.money),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(x,{class:"bg-[var(--theme-input-bg)] p-2 mt-2 flex justify-between items-top rounded"},{default:c((()=>[r(x,{class:"bg-[#fff] h-[50px] w-[50px]"},{default:c((()=>[e.goods_cover?(M(),U(Z,{key:0,"show-loading":!0,src:O(B)(e.goods_cover),mode:"aspectFit",width:"50px",radius:"5",height:"50px",class:"z-10 flex items-center"},null,8,["src"])):T("",!0)])),_:2},1024),r(x,{class:"flex-1 ml-2 flex flex-col"},{default:c((()=>[r(x,{class:"text-sm text-[var(--theme-color-content)]"},{default:c((()=>[r(ce,{line:1,text:e.goods_name},null,8,["text"])])),_:2},1024),r(x,{class:"flex justify-between items-center text-xs leading-6 text-[var(--theme-color-tips)]"},{default:c((()=>[r(x,null,{default:c((()=>[r(Q,null,{default:c((()=>[H(L(1==F.searchParams.type?O(a)("bidder"):O(a)("counteroffer")),1)])),_:1}),r(Q,null,{default:c((()=>[H(" ： ")])),_:1}),r(Q,null,{default:c((()=>[H(L(e.create_name),1)])),_:2},1024)])),_:2},1024),r(x,{class:"text-[var(--theme-color-content)] flex items-baseline"},{default:c((()=>[r(Q,{class:""},{default:c((()=>[H("￥")])),_:1}),r(Q,{class:"text-sm mx-[2px]"},{default:c((()=>[H(L(e.goods_price),1)])),_:2},1024),r(Q,{class:""},{default:c((()=>[H(L(O(a)("peer_price")),1)])),_:1})])),_:2},1024)])),_:2},1024),r(x,{class:"flex justify-end text-xs leading-6 text-[var(--theme-color-tips)]"},{default:c((()=>[r(x,null,{default:c((()=>[H(L(e.create_time),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),r(x,{class:"flex justify-end items-center mt-2"},{default:c((()=>[0!=e.status?(M(),U(x,{key:0,class:"text-[var(--theme-color-primary)] text-sm"},{default:c((()=>[H(L(ee(e.status)),1)])),_:2},1024)):T("",!0),1==F.searchParams.type&&0==e.status?(M(),U(x,{key:1,class:"ml-3"},{default:c((()=>[r(de,{text:O(a)("agree"),color:"var(--theme-color-primary)",size:"small",onClick:a=>le(e.id,t,1)},null,8,["text","onClick"])])),_:2},1024)):T("",!0),1==F.searchParams.type&&0==e.status?(M(),U(x,{key:2,class:"ml-3"},{default:c((()=>[r(de,{text:O(a)("reject"),size:"small",onClick:a=>le(e.id,t,-1)},null,8,["text","onClick"])])),_:2},1024)):T("",!0),r(x,{class:"ml-3"},{default:c((()=>[r(de,{text:O(a)("contact_TA"),type:"primary",size:"small",onClick:t=>(e=>{q({title:a("loading")}),G({site_id:e.site_id}).then((e=>{F.shopInfo=e.data,te.form=K(F.shopInfo),R((()=>{te.show=!0}))})).finally((()=>{W()}))})(e)},null,8,["text","onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:1})):T("",!0)])),_:1},8,["onInit","up","class"]),r(pe,{value:"bid",fixed:!0,placeholder:!1,safeAreaInsetBottom:!1,activeColor:"var(--theme-color-primary)"},{default:c((()=>[r(fe,{text:O(a)("tabbar.product"),onClick:t[2]||(t[2]=e=>O(V)({url:"/addon/online_expo/pages/product/lists"})),name:"product"},{"active-icon":c((()=>[r(N,{size:"18",name:"/static/assets/tab/product_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":c((()=>[r(N,{size:"18",name:"/static/assets/tab/product.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"]),r(fe,{text:O(a)("tabbar.bid"),onClick:t[3]||(t[3]=e=>O(V)({url:"/addon/online_expo/pages/bid/lists"})),name:"bid"},{"active-icon":c((()=>[r(N,{size:"18",name:"/static/assets/tab/bid_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":c((()=>[r(N,{size:"18",name:"/static/assets/tab/bid.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"]),r(fe,{text:O(a)("tabbar.collect"),onClick:t[4]||(t[4]=e=>O(V)({url:"/addon/online_expo/pages/product/collectLists"})),name:"collect"},{"active-icon":c((()=>[r(N,{size:"18",name:"/static/assets/tab/start_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":c((()=>[r(N,{size:"18",name:"/static/assets/tab/start.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"])])),_:1})])),_:1},8,["style"]),r(xe,{show:F.showOperateModal,"onUpdate:show":t[6]||(t[6]=e=>F.showOperateModal=e),width:300,showConfirmButton:!1,contentTextAlign:"center"},{confirmButton:c((()=>[r(x,{class:"flex gap-2"},{default:c((()=>[r(de,{onClick:t[5]||(t[5]=e=>F.showOperateModal=!1),class:"!text-[#303133]",color:"#f4f5f7",text:O(a)("cancel")},null,8,["text"]),r(de,{text:O(a)("OK"),onClick:se,color:"#e0b87a"},null,8,["text"])])),_:1})])),default:c((()=>[r(x,{class:"flex flex-col items-center w-full"},{default:c((()=>[r(x,{class:"flex !text-center text-base text-[var(--theme-color-main)]"},{default:c((()=>[H(L(1==ae.status?O(a)("confirm_to_agree"):O(a)("confirm_to_reject")),1)])),_:1})])),_:1})])),_:1},8,["show"]),r(be,{show:te.show,mode:"bottom"},{default:c((()=>[r(x,{class:"p-4 flex justify-between items-center"},{default:c((()=>[r(x),r(x,{class:"flex !text-center font-bold text-[30rpx]"},{default:c((()=>[H(L(O(a)("shop_card")),1)])),_:1}),r(N,{name:"close",size:"15",onClick:t[7]||(t[7]=e=>te.show=!1)})])),_:1}),r(_e),r(x,{class:"flex flex-col"},{default:c((()=>[r(x,{class:"px-4 my-4 flex justify-between items-center text-sm w-full box-border"},{default:c((()=>[r(x,{class:"rounded-[5px]"},{default:c((()=>[r(Z,{"show-loading":!0,src:O(B)(te.form.logo),width:"65px",height:"65px",radius:"5px",class:"bg-[#fff]"},null,8,["src"])])),_:1}),r(x,{class:"flex flex-col flex-1 ml-2"},{default:c((()=>[r(ce,{line:1,text:te.form.shop_name,size:"16"},null,8,["text"]),r(x,{class:"flex items-center text-[var(--theme-color-tips)] text-xs my-1"},{default:c((()=>[r(Q,null,{default:c((()=>[H(L(O(a)("storeID"))+"：",1)])),_:1}),r(Q,null,{default:c((()=>[H(L(te.form.site_id),1)])),_:1}),r(he,{content:te.form.site_id},{default:c((()=>[r(N,{name:"/static/assets/member/copy.png",size:"10",class:"mx-1"})])),_:1},8,["content"])])),_:1}),r(x,{class:"flex items-center text-[var(--theme-color-tips)] text-xs"},{default:c((()=>[r(Q,null,{default:c((()=>[H(L(O(a)("contact_information"))+"：",1)])),_:1}),r(Q,null,{default:c((()=>[H(L(te.form.tel),1)])),_:1}),r(he,{content:te.form.tel},{default:c((()=>[r(N,{name:"/static/assets/member/copy.png",size:"10",class:"mx-1"})])),_:1},8,["content"])])),_:1})])),_:1})])),_:1}),r(x,{class:"text-sm text-[var(--theme-color-main)] px-4"},{default:c((()=>[H(" 联系方式 ")])),_:1}),(M(!0),o(i,null,S(te.form.contact_list,(e=>(M(),U(x,{class:"mx-4 my-1 text-sm bg-[var(--theme-upload-bg)] px-3 py-2 rounded text-[var(--theme-color-content)]"},{default:c((()=>[r(x,{class:"flex items-center text-[var(--theme-color-tips)] my-1"},{default:c((()=>[r(Q,{class:"text-[var(--theme-color-main)]"},{default:c((()=>[H(L(e.work_name),1)])),_:2},1024)])),_:2},1024),r(x,{class:"flex items-center text-[var(--theme-color-tips)] text-xs my-1"},{default:c((()=>[r(Q,null,{default:c((()=>[H(L(O(a)("form.mobile"))+"：",1)])),_:1}),r(Q,null,{default:c((()=>[H(L(e.whats_up||"-"),1)])),_:2},1024),e.whats_up?(M(),U(he,{key:0,content:e.whats_up},{default:c((()=>[r(N,{name:"/static/assets/member/copy.png",size:"10",class:"mx-1"})])),_:2},1032,["content"])):T("",!0)])),_:2},1024),r(x,{class:"flex items-center text-[var(--theme-color-tips)] text-xs my-1"},{default:c((()=>[r(Q,null,{default:c((()=>[H(L(O(a)("form.weacht"))+"：",1)])),_:1}),r(Q,null,{default:c((()=>[H(L(e.weacht||"-"),1)])),_:2},1024),e.weacht?(M(),U(he,{key:0,content:e.weacht},{default:c((()=>[r(N,{name:"/static/assets/member/copy.png",size:"10",class:"mx-1"})])),_:2},1032,["content"])):T("",!0)])),_:2},1024),r(x,{class:"flex items-center text-[var(--theme-color-tips)] text-xs my-1"},{default:c((()=>[r(Q,null,{default:c((()=>[H(L(O(a)("form.whats_up"))+"：",1)])),_:1}),r(Q,null,{default:c((()=>[H(L(e.whats_up||"-"),1)])),_:2},1024),e.whats_up?(M(),U(he,{key:0,content:e.whats_up},{default:c((()=>[r(N,{name:"/static/assets/member/copy.png",size:"10",class:"mx-1"})])),_:2},1032,["content"])):T("",!0)])),_:2},1024)])),_:2},1024)))),256)),r(x,{class:"px-4 flex flex-col mt-2 mb-5"},{default:c((()=>[r(x,{class:"flex justify-between items-center"},{default:c((()=>[r(x,null,{default:c((()=>[H(L(O(a)("shop_address")),1)])),_:1}),r(he,{content:te.form.address},{default:c((()=>[r(Q,{class:"text-[var(--theme-color-primary)] text-xs"},{default:c((()=>[H(L(O(a)("copy")),1)])),_:1})])),_:1},8,["content"])])),_:1}),r(x,{class:"bg-[var(--theme-upload-bg)] px-3 py-2 rounded text-[var(--theme-color-content)] mt-1 mb-2"},{default:c((()=>[H(L(te.form.address),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-42b55e6f"]]);export{X as default};
