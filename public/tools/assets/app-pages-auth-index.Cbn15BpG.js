import{d as e,E as r,r as a,F as t,j as l,G as s,H as o,I as n,J as i,K as u,a as p,x as c,c as x,w as d,n as f,i as m,L as g,M as _,b as v,N as h,e as b,O as y,o as k,f as w,u as C,P as j,p as L,t as T,h as A,Q as F,s as I,R as N,q as O,S as P,_ as S}from"./index-DlbBJ3bC.js";import{t as q}from"./topTabbar.CE7B52mt.js";const z=S(e({__name:"index",setup(e){let S={};q().setTopTabbarParam({title:""}),r((()=>Object.keys(S).length?g(Number(S.height))+g(S.top)+g(8)+"rpx":"auto")),a("");const z=a(!1),E=t(),G=r((()=>E.login)),H=P();l(),r((()=>l().info));const J=s();r((()=>!z.value&&E.login.agreement_show?"":"getPhoneNumber")),a(null);const K=r((()=>!E.login.is_auth_register)),M=a(!1);o((async()=>{await J.getSiteInfoFn(),await E.getLoginConfig();let e=!E.login.is_username&&!E.login.is_mobile&&!E.login.is_bind_mobile;n()?!i()&&e&&K.value&&(u({title:"商家未开启登录注册",icon:"none"}),setTimeout((()=>{p({url:"/app/pages/index/index",mode:"reLaunch"})}),100)):!i()&&e&&(u({title:"商家未开启登录注册",icon:"none"}),setTimeout((()=>{p({url:"/app/pages/index/index",mode:"reLaunch"})}),100))})),c((()=>{M.value=!1}));const Q=r((()=>{var e="";return E.login.bg_url&&(e+="background-image:url("+_(E.login.bg_url)+");",e+="background-size: 100%;",e+="background-position: top;",e+="background-repeat: no-repeat;"),e})),R=(e=null)=>{(z.value||!E.login.agreement_show||(u({title:I("isAgreeTips"),icon:"none"}),0))&&(M.value||(M.value=!0,e||(e=()=>{M.value=!1}),V()))},V=()=>{n()&&(H.getAuthCode({scopes:"snsapi_userinfo"}),M.value=!1)},B=()=>{z.value=!z.value};return(e,r)=>{const a=j,t=m,l=F,s=v(b("u-checkbox"),h),o=v(b("u-checkbox-group"),y),i=O;return k(),x(t,{class:"w-screen h-screen",style:f(e.themeColor())},{default:d((()=>[w(t,{class:"w-screen h-screen",style:f(Q.value)},{default:d((()=>[w(t,{class:"mx-[var(--sidebar-m)] px-[var(--pad-sidebar-m)]"},{default:d((()=>[w(t,{class:"pt-[154rpx] flex justify-center"},{default:d((()=>{var e,r;return[(null==(e=C(J).site)?void 0:e.front_end_logo)?(k(),x(t,{key:0,class:"h-[90rpx] w-[300rpx]"},{default:d((()=>{var e;return[w(a,{class:"h-[90rpx] w-[300rpx]",src:C(_)(null==(e=C(J).site)?void 0:e.front_end_logo),mode:"aspectFit"},null,8,["src"])]})),_:1})):(null==(r=C(J).site)?void 0:r.front_end_icon)?(k(),x(t,{key:1,class:"h-[250rpx] w-[250rpx]"},{default:d((()=>{var e;return[w(a,{class:"h-[250rpx] w-[250rpx]",src:C(_)(null==(e=C(J).site)?void 0:e.front_end_icon),mode:"aspectFit"},null,8,["src"])]})),_:1})):(k(),x(t,{key:2,class:"h-[90rpx] w-[300rpx]"}))]})),_:1}),w(t,{class:"text-[var(--text-color-light6)]] text-[28rpx] text-center leading-[34rpx] min-h-[34rpx] mt-[40rpx]"},{default:d((()=>[L(T(G.value.desc),1)])),_:1}),w(t,{class:"mt-[181rpx]"},{default:d((()=>[C(n)()&&G.value.is_auth_register?(k(),x(t,{key:0,class:"w-full flex items-center justify-center mb-[40rpx]"},{default:d((()=>[w(l,{class:"w-[630rpx] h-[88rpx] !mx-[0] !bg-[var(--primary-color)] text-[26rpx] rounded-[44rpx] leading-[88rpx] font-500 !text-[#fff]",onClick:r[0]||(r[0]=e=>R())},{default:d((()=>[L(T(C(I)("quickLoginOrLogout")),1)])),_:1})])),_:1})):A("",!0),G.value.is_mobile?(k(),x(t,{key:1,class:"mb-[40rpx] w-full flex items-center justify-center"},{default:d((()=>[w(l,{class:"w-[630rpx] h-[88rpx] !mx-[0] !bg-[#fff] border-[var(--primary-color)] border-solid border-[2rpx] text-[26rpx] rounded-[44rpx] leading-[84rpx] !text-[var(--primary-color)]",onClick:r[1]||(r[1]=e=>C(p)({url:"/app/pages/auth/login",param:{type:"mobile"}}))},{default:d((()=>[L(T(C(I)("mobileLogin")),1)])),_:1})])),_:1})):!G.value.is_mobile&&G.value.is_username?(k(),x(t,{key:2,class:"w-full flex items-center justify-center"},{default:d((()=>[w(l,{class:"w-[630rpx] h-[88rpx] !mx-[0] !bg-[#fff] !border-[var(--primary-color)] border-solid border-[2rpx] text-[26rpx] rounded-[44rpx] leading-[84rpx] !text-[var(--primary-color)]",onClick:r[2]||(r[2]=e=>C(p)({url:"/app/pages/auth/login",param:{type:"username"}}))},{default:d((()=>[L(T(C(I)("accountLogin")),1)])),_:1})])),_:1})):A("",!0),G.value.agreement_show?(k(),x(t,{key:3,class:"w-full flex items-center justify-center mt-[28rpx]"},{default:d((()=>[w(t,{class:"flex items-center justify-center mt-[28rpx] py-[10rpx]",onClick:N(B,["stop"])},{default:d((()=>[w(o,{onChange:B},{default:d((()=>[w(s,{activeColor:"var(--primary-color)",checked:z.value,shape:"circle",size:"24rpx",customStyle:{marginTop:"4rpx"}},null,8,["checked"])])),_:1}),w(t,{class:"text-[24rpx] text-[var(--text-color-light6)] flex items-center flex-wrap"},{default:d((()=>[w(i,null,{default:d((()=>[L(T(C(I)("agreeTips")),1)])),_:1}),w(i,{onClick:r[3]||(r[3]=N((e=>C(p)({url:"/app/pages/auth/agreement?key=privacy"})),["stop"])),class:"text-primary"},{default:d((()=>[L("《"+T(C(I)("privacyAgreement"))+"》",1)])),_:1}),w(i,null,{default:d((()=>[L(T(C(I)("and")),1)])),_:1}),w(i,{onClick:r[4]||(r[4]=N((e=>C(p)({url:"/app/pages/auth/agreement?key=service"})),["stop"])),class:"text-primary"},{default:d((()=>[L("《"+T(C(I)("userAgreement"))+"》",1)])),_:1})])),_:1})])),_:1})])),_:1})):A("",!0),G.value.is_mobile&&G.value.is_username?(k(),x(t,{key:4,class:"footer w-full"},{default:d((()=>[w(t,{class:"text-[26rpx] leading-[36rpx] text-[333] text-center mb-[30rpx] font-400"},{default:d((()=>[L(T(C(I)("otherLogin")),1)])),_:1}),w(t,{class:"flex justify-center"},{default:d((()=>[w(t,{class:"h-[80rpx] w-[80rpx] text-center leading-[78rpx] border-[2rpx] text-primary rounded-[50%] border-solid border-[#ddd] nc-iconfont nc-icon-a-wodeV6xx-36 text-[46rpx] overflow-hidden",onClick:r[5]||(r[5]=e=>C(p)({url:"/app/pages/auth/login",param:{type:"username"}}))})])),_:1}),w(t,{class:"text-[24rpx] leading-[36rpx] text-[var(--text-color-light9)] text-center font-400 mt-[30rpx]"},{default:d((()=>[L(T(C(I)("accountLogin")),1)])),_:1})])),_:1})):A("",!0)])),_:1})])),_:1})])),_:1},8,["style"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-6f60f69f"]]);export{z as default};
