import{d as e,W as a,r as l,s as t,H as s,x as o,a5 as r,f as i,w as n,n as u,a6 as c,K as d,i as m,b as p,aZ as f,e as h,l as _,D as x,aJ as y,aI as b,cs as v,m as g,a4 as k,cg as w,o as C,c as j,h as z,u as P,at as S,p as I,t as V,a as W,_ as $}from"./index-DlbBJ3bC.js";import{_ as q}from"./mescroll-empty.lkR5ZfjC.js";import{_ as A}from"./loading-page.vue_vue_type_script_setup_true_lang.B0pUTkMl.js";import{g as B,a as D}from"./auth.BQpGjoDu.js";const F=$(e({__name:"list",setup(e){const $=a({list:[],searchParams:{search:"",is_use:1}}),F=l(!0),H=l(!1),J=a([{name:t("enabled"),value:1,badge:{value:0,color:"var(--theme-color-primary)",bgColor:"#fff"}},{name:t("disabled"),value:0,badge:{value:0,color:"var(--theme-color-main)",bgColor:"#fff"}}]),K=e=>{$.searchParams.is_use=e.value,0==e.index?(J[0].badge.color="var(--theme-color-primary)",J[1].badge.color="var(--theme-color-main)"):(J[0].badge.color="var(--theme-color-main)",J[1].badge.color="var(--theme-color-primary)"),O()},O=()=>{F.value=!0,B({limit:100,...$.searchParams}).then((e=>{$.list=e.data,console.log("state.list:",$.list)})).catch((e=>{d({title:e.msg,icon:"none"})})),D().then((e=>{J[0].badge.value=e.data.user_num,J[1].badge.value=e.data.disable_num})),F.value=!1};s((()=>{O()})),o((()=>{O()}));return(e,a)=>{const l=p(h("up-icon"),_),s=m,o=p(h("up-navbar"),x),d=p(h("up-search"),y),B=p(h("up-tabs"),b),D=p(h("up-sticky"),v),T=p(h("up-image"),g),U=p(h("up-button"),k),Z=p(h("mescroll-empty"),q),E=p(h("up-line"),w),G=p(h("up-popup"),f),L=p(h("loading-page"),A);return C(),r(c,null,[i(s,{style:u(e.themeColor())},{default:n((()=>[i(o,{title:P(t)("employee_auth"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{center:n((()=>[i(s,null,{default:n((()=>[i(l,{name:"question-circle",label:P(t)("employee_auth"),labelPos:"left",onClick:a[0]||(a[0]=e=>H.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"},null,8,["label"])])),_:1})])),_:1},8,["title"]),i(D,null,{default:n((()=>[i(s,{class:"mescroll-fixed-header !bg-[#f4f4f4] mb-1"},{default:n((()=>[i(s,{class:"bg-[#fff] p-2"},{default:n((()=>[i(d,{placeholder:P(t)("input.employee_auth.search"),shape:"square",showAction:!1,modelValue:$.searchParams.search,"onUpdate:modelValue":a[1]||(a[1]=e=>$.searchParams.search=e),onChange:a[2]||(a[2]=e=>{O()})},null,8,["placeholder","modelValue"])])),_:1}),i(s,{class:"bg-[#fff] py-2"},{default:n((()=>[i(B,{list:J,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:K,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1})])),_:1})])),_:1}),(C(!0),r(c,null,S($.list,((e,a)=>(C(),j(s,{class:"bg-[#fff] p-3 mb-1"},{default:n((()=>[i(s,{class:"flex justify-center items-center",onClick:a=>(e=>{1!==e.is_admin&&W({url:`/addon/saler_tools/pages/auth/edit?uid=${e.uid}&type=edit`})})(e)},{default:n((()=>[i(T,{"show-loading":!0,src:"/static/assets/logo.png",mode:"aspectFit",width:"80px",height:"80px",shape:"circle"}),i(s,{class:"flex-1 flex flex-col px-2 h-[80px] justify-between"},{default:n((()=>[i(s,{class:"flex justify-between items-center w-full box-border"},{default:n((()=>[i(s,{class:"text-[var(--theme-color-main)]"},{default:n((()=>[I(V(e.real_name),1)])),_:2},1024),i(s,{class:"text-[var(--theme-color-content)]"},{default:n((()=>[I(V(e.last_ip),1)])),_:2},1024)])),_:2},1024),e.is_admin?(C(),j(s,{key:0,class:"px-[2px] flex justify-start items-center"},{default:n((()=>[i(s,null,{default:n((()=>[i(U,{text:P(t)("operator"),size:"mini",color:"var(--theme-text-red)"},null,8,["text"])])),_:1})])),_:1})):(C(),j(s,{key:1,class:"text-sky-400"},{default:n((()=>[I(V(e.role_array[0]),1)])),_:2},1024)),i(s,{class:"flex justify-between items-center w-full box-border"},{default:n((()=>[i(s,{class:"text-[var(--theme-color-tips)] text-xs leading-[20px]"},{default:n((()=>[I(V(e.last_time),1)])),_:2},1024),i(s,null,{default:n((()=>[1!=e.is_admin?(C(),j(l,{key:0,name:"edit-pen",color:"var(--theme-color-primary)",size:"20"})):z("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),256)),$.list.length?z("",!0):(C(),j(Z,{key:0,option:{tip:P(t)("no_data")}},null,8,["option"])),i(s,{class:"main-fix-footer",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:n((()=>[i(U,{text:P(t)("add_employee"),color:"#e0b87a",onClick:a[3]||(a[3]=e=>P(W)({url:"/addon/saler_tools/pages/auth/edit?type=add"}))},null,8,["text"])])),_:1})])),_:1},8,["style"]),i(G,{show:H.value,mode:"bottom",onClose:a[5]||(a[5]=e=>H.value=!1),onOpen:a[6]||(a[6]=e=>H.value=!0)},{default:n((()=>[i(s,{class:"p-4 flex justify-between items-center"},{default:n((()=>[i(s),i(s,{class:"flex !text-center font-bold text-[30rpx]"},{default:n((()=>[I(V(P(t)("employee_auth")),1)])),_:1}),i(l,{name:"close",size:"15",onClick:a[4]||(a[4]=e=>H.value=!1)})])),_:1}),i(E),i(s,{class:"p-4 px-3 flex flex-col"},{default:n((()=>[i(s,null,{default:n((()=>[I(V(P(t)("employee_auth.tips0")),1)])),_:1}),(C(),r(c,null,S([1,2,3],(e=>i(s,{style:{"text-indent":"1em"},key:e},{default:n((()=>[I(V(P(t)(`employee_auth.tips${e}`)),1)])),_:2},1024))),64)),(C(),r(c,null,S([4,5,6,7,8,9,10,11,12,13],(e=>i(s,{style:{"text-indent":"2em"},key:e},{default:n((()=>[I(V(P(t)(`employee_auth.tips${e}`)),1)])),_:2},1024))),64))])),_:1})])),_:1},8,["show"]),i(L,{loading:F.value},null,8,["loading"])],64)}}}),[["__scopeId","data-v-e1cd9780"]]);export{F as default};
