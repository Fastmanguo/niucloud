import{d as e,W as t,E as a,r as s,c as l,w as o,n as r,i,ar as c,as as n,b as m,D as f,e as d,cs as u,m as p,l as x,cS as _,b2 as b,b3 as h,o as y,f as g,u as v,s as w,a5 as k,a6 as j,at as C,a7 as z,p as M,t as H,h as I,a as L,M as P,q as S}from"./index-DlbBJ3bC.js";import{_ as U}from"./mescroll-body.CzShuCTj.js";import{u as A}from"./useMescroll.lU6SPXzn.js";import{g as B}from"./identify.s0vXd16j.js";import{g as D}from"./warehouse.CvI1Ck4Y.js";import"./mescroll-empty.lkR5ZfjC.js";const E=e({__name:"lists",setup(e){const E=t({type:"",list:[],searchParams:{status:null},mescrollUp:{page:{size:10}},stat:null,mescrollRef:null,isH5:!1}),R=t({categoryList:[],goods_attachment:[]}),T=a((()=>{const e=R.categoryList.find((e=>e.category_id===E.list.category_id));return e?e.category_name:""})),q=e=>2==e.result?w("look_true"):1==e.result?w("look_false"):w("look_unclear"),{mescrollInit:F,getMescroll:W}=A(n,c);s(!0);const G={ALL:"",wait_pay:"wait_pay",identifying:"identifying",wait_supply:"wait_supply",finish:"finish",cancel:"cancel"},J=e=>{let t={page:e.num,limit:e.size,...E.searchParams};1==e.num&&(E.list=[]),B(t).then((t=>{let a=t.data.data;e.endSuccess(a.length),1==e.num&&(E.list=[]),E.list=E.list.concat(a),e.endSuccess(t.data.data.length),D().then((e=>{R.categoryList=e.data}))})).catch((()=>{e.endErr()}))};return E.isH5=!0,console.log("当前设备是h5"),(e,t)=>{const a=m(d("up-navbar"),f),s=i,c=m(d("up-sticky"),u),n=m(d("up-image"),p),A=S,B=m(d("up-icon"),x),D=m(d("up-transition"),_),R=m(d("mescroll-body"),U),K=m(d("up-tabbar-item"),b),N=m(d("up-tabbar"),h);return y(),l(s,{style:r(e.themeColor())},{default:o((()=>[g(c,{bgColor:"#f3f4f6"},{default:o((()=>[g(a,{title:v(w)("identify_order"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!E.isH5},null,8,["title","placeholder"]),g(s,{class:"p-2 mb-2 grid grid-cols-3 gap-2 items-center text-xs text-[var(--theme-color-content)] bg-[#fff] w-full box-border"},{default:o((()=>[(y(),k(j,null,C(G,((e,t)=>g(s,{key:t,class:"w-full box-border",onClick:t=>(e=>{E.searchParams.status=e,W().scrollTo(0),W().resetUpScroll()})(e)},{default:o((()=>[g(s,{class:z(["!bg-[var(--theme-bg)] rounded flex-1 py-1 text-center border-[1px] border-solid border-[var(--theme-bg)]",{"!bg-[#e0b87a10] border-[1px] border-solid !border-[var(--theme-color-primary)] text-[var(--theme-color-primary)]":E.searchParams.status==e}])},{default:o((()=>[M(H(v(w)(t)),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"]))),64))])),_:1})])),_:1}),g(R,{ref:"mescrollRef",onInit:v(F),onUp:J,onDown:J,up:E.mescrollUp,class:z(E.isH5?"mt-[44px]":""),top:"0"},{default:o((()=>[E.list.length?(y(),l(s,{key:0},{default:o((()=>[(y(!0),k(j,null,C(E.list,((e,t)=>(y(),l(s,{class:z(["flex flex-col p-2 pb-1 !bg-[#fff] box-border m-2 rounded",E.isH5?"mt-2":"mt-0"])},{default:o((()=>[g(s,{class:"flex justify-between items-center text-sm w-full !z-200 !bg-[#fff]"},{default:o((()=>[g(s,{class:"text-[var(--theme-color-tips)]"},{default:o((()=>[M(H(e.create_time||""),1)])),_:2},1024),g(s,{class:"text-[var(--theme-color-primary)]"},{default:o((()=>[M(H(v(w)(e.status)),1)])),_:2},1024)])),_:2},1024),g(s,{class:"flex justify-between items-center !z-200 !bg-[#fff]"},{default:o((()=>[g(s,{class:"",style:{position:"relative"},onClick:t=>v(L)({url:"/addon/saler_tools/pages/identify/detail",param:{id:e.id}})},{default:o((()=>[g(n,{"show-loading":!0,src:v(P)(e.goods_cover),mode:"aspectFit",width:"100px",radius:"5",height:"100px",class:"z-10 flex items-center"},null,8,["src"])])),_:2},1032,["onClick"]),g(s,{class:"flex justify-between flex-col flex-1 pl-2 h-[90px] text-sm",onClick:t=>v(L)({url:"/addon/saler_tools/pages/identify/detail",param:{id:e.id}})},{default:o((()=>[g(s,{class:"flex justify-between items-center"},{default:o((()=>[M(H(v(w)("appraisal"))+" "+H(T.value),1)])),_:1}),g(s,{class:"mb-1 text-[var(--theme-color-content)]"},{default:o((()=>[M(H(v(w)("brand"))+"："+H(e.brand_name),1)])),_:2},1024),g(s,{class:"text-[var(--theme-color-tips)] flex items-baseline"},{default:o((()=>[e.money&&1==e.result?(y(),l(s,{key:0},{default:o((()=>[g(A,{class:"text-xs"},{default:o((()=>[M("￥")])),_:1}),g(A,null,{default:o((()=>[M(H(e.money),1)])),_:2},1024)])),_:2},1024)):I("",!0)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024),g(s,{class:"w-full flex justify-center mt-1 mb-2 bg-[#fff]",onClick:t=>e.showMore=!e.showMore},{default:o((()=>[g(B,{name:e.showMore?"arrow-up":"arrow-down",size:"12",bold:"",label:e.showMore?v(w)("fold"):v(w)("unfold"),labelColor:"var(--theme-color-primary)",labelSize:"12px",color:"var(--theme-color-primary)",labelPos:"left"},null,8,["name","label"])])),_:2},1032,["onClick"]),g(D,{show:e.showMore,mode:"slide-down",class:"z-1! bg-[#fff]"},{default:o((()=>[g(s,{class:"flex flex-col bg-[#fff] rounded-lg text-sm"},{default:o((()=>[g(s,{class:"flex flex-col bg-[var(--theme-input-bg)] rounded p-3 text-sm"},{default:o((()=>[g(s,{class:"flex justify-between items-center text-xs text-[var(--theme-color-content)]"},{default:o((()=>[g(s,null,{default:o((()=>[M(H(v(w)("appraisal_appraiser")+"***"),1)])),_:1}),g(s,{class:"text-[var(--theme-color-tips)]"},{default:o((()=>[M(H(e.result_time),1)])),_:2},1024)])),_:2},1024),g(s,{class:"flex justify-between items-center text-xs text-[var(--theme-color-content)] my-3"},{default:o((()=>[g(s,null,{default:o((()=>[M(H(v(w)("appraisal_result")),1)])),_:1}),g(s,{class:"text-[var(--theme-color-tips)]"},{default:o((()=>[M(H(q(e)),1)])),_:2},1024)])),_:2},1024),g(s,{class:"flex justify-between items-center text-xs text-[var(--theme-color-content)]"},{default:o((()=>[g(s,null,{default:o((()=>[M(H(v(w)("appraisal_result")),1)])),_:1}),g(s,{class:"text-[var(--theme-color-tips)]"},{default:o((()=>[M(H(e.result_remark||q(e)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),g(s,{class:"text-[var(--theme-color-primary)] my-2 text-xs"},{default:o((()=>[M(" *"+H(v(w)("appraisal_explain")),1)])),_:1})])),_:2},1024)])),_:2},1032,["show"])])),_:2},1032,["class"])))),256))])),_:1})):I("",!0)])),_:1},8,["onInit","up","class"]),g(N,{value:"my",fixed:!0,placeholder:!1,safeAreaInsetBottom:"","z-index":999,activeColor:"var(--theme-color-primary)"},{default:o((()=>[g(K,{text:v(w)("icon.home"),onClick:t[0]||(t[0]=e=>v(L)({url:"/addon/saler_tools/pages/identify/index"})),name:"home"},{"active-icon":o((()=>[g(B,{size:"18",name:"/static/assets/tab/home_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":o((()=>[g(B,{size:"18",name:"/static/assets/tab/home.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"]),g(K,{text:v(w)("icon.my"),onClick:t[1]||(t[1]=e=>v(L)({url:"/addon/saler_tools/pages/identify/lists"})),name:"my"},{"active-icon":o((()=>[g(B,{size:"18",name:"/static/assets/tab/member_select.png",color:"var(--theme-color-primary)"})])),"inactive-icon":o((()=>[g(B,{size:"18",name:"/static/assets/tab/member.png",color:"var(--theme-color-primary)"})])),_:1},8,["text"])])),_:1})])),_:1},8,["style"])}}});export{E as default};
