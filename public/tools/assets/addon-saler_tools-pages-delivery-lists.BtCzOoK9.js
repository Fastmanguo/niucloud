import{d as e,W as l,r as a,s,a3 as t,aC as o,x as r,a5 as i,f as c,w as n,n as d,a6 as u,i as m,b as p,aZ as f,e as _,ar as x,as as v,l as y,D as h,aJ as b,aI as g,ci as k,cj as w,cr as C,cs as j,aM as S,m as z,aL as V,bO as P,a4 as U,cg as I,ch as R,o as H,u as M,p as O,t as q,g as T,R as A,at as B,c as D,v as K,a7 as W,h as E,M as J,a as L,ak as Z,K as F,aS as G,_ as N}from"./index-DlbBJ3bC.js";import{_ as Q}from"./mescroll-body.CzShuCTj.js";import{u as X}from"./useMescroll.lU6SPXzn.js";import{l as Y,h as $}from"./order.UCMsrCaA.js";import{s as ee}from"./index.Bh4RlGGN.js";import{_ as le}from"./index.vue_vue_type_script_setup_true_lang.BZegFM-D.js";import"./mescroll-empty.lkR5ZfjC.js";import"./index.DK0m-eAv.js";import"./index.COs-0cDI.js";import"./auth.BQpGjoDu.js";/* empty css                                                              *//* empty css                                                                     */const ae=N(e({__name:"lists",setup(e){const N=l({type:"",list:[],searchParams:{search:"",__order__:"",is_delivery:0},mescrollRef:null,mescrollUp:{page:{size:10}},isH5:!1}),ae=e=>0===e.is_delivery?s("not_shipped"):1===e.is_delivery?s("shipped"):2===e.is_delivery?s("returned_goods"):s("not_shipped"),se=a(!1),te=l([{name:"待发货",value:0},{name:"已发货",value:1}]),oe=e=>{N.searchParams.is_delivery=e.value,me().scrollTo(0,300),me().resetUpScroll()},re=a(!1),ie=a(s("by_latest_delivery")),ce=l([{label:s("by_latest_delivery"),value:"delivery_time,desc"},{label:s("by_longest_delivery"),value:"delivery_time,asc"}]),ne=a(),de=l({show:!1,form:{},index:0}),{mescrollInit:ue,getMescroll:me}=X(v,x),pe=a(!0),fe=e=>{let l={page:e.num,limit:e.size,...N.searchParams};1==e.num&&(N.list=[]),pe.value=!0,$(l).then((l=>{let a=l.data.data;e.endSuccess(a.length),1==e.num&&(N.list=[]),N.list=N.list.concat(a),e.endSuccess(l.data.data.length),pe.value=!1})).catch((()=>{pe.value=!1,e.endErr()}))},_e={top:0},xe=()=>{G().select(".custom-overlay").boundingClientRect((e=>{_e.top=e.top+36})).exec()};return N.isH5=!0,t((()=>{o((()=>{xe()}))})),r((()=>{o((()=>{xe()}))})),(e,l)=>{const a=p(_("up-icon"),y),t=m,r=p(_("up-navbar"),h),x=p(_("up-search"),b),v=p(_("up-tabs"),g),G=p(_("up-radio"),k),X=p(_("up-radio-group"),w),$=p(_("up-overlay"),C),pe=p(_("up-sticky"),j),xe=p(_("up-divider"),S),ve=p(_("up-image"),z),ye=p(_("up-text"),V),he=p(_("up-copy"),P),be=p(_("up-button"),U),ge=p(_("mescroll-body"),Q),ke=p(_("up-line"),I),we=p(_("up-popup"),f),Ce=p(_("up-textarea"),R);return H(),i(u,null,[c(t,{style:d(e.themeColor())},{default:n((()=>[c(pe,{bgColor:"#f3f4f6"},{default:n((()=>[c(r,{title:M(s)("explain.delivery"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!N.isH5},{center:n((()=>[c(t,null,{default:n((()=>[c(a,{name:"question-circle",label:M(s)("explain.delivery"),labelPos:"left",onClick:l[0]||(l[0]=e=>se.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"},null,8,["label"])])),_:1})])),_:1},8,["title","placeholder"]),c(t,{class:"bg-[#fff] p-2"},{default:n((()=>[c(x,{placeholder:M(s)("search_delivery"),shape:"square",showAction:!1,modelValue:N.searchParams.search,"onUpdate:modelValue":l[1]||(l[1]=e=>N.searchParams.search=e),onChange:l[2]||(l[2]=e=>(N.list=[],void me().resetUpScroll()))},null,8,["placeholder","modelValue"])])),_:1}),c(t,{class:"bg-[#fff] py-1"},{default:n((()=>[c(v,{list:te,activeStyle:"color:var(--theme-color-primary);font-size:16px",lineWidth:"30",onChange:oe,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main);font-size:13px",itemStyle:"padding:0px 5px 3px;z-index:2"},null,8,["list"])])),_:1}),c(t,{class:"custom-overlay h-[35px] px-3 mt-[5px] text-[var(--theme-color-main)] flex justify-between items-center w-full box-border text-[13px] bg-[#fff]"},{default:n((()=>[c(t,{class:"flex mr-5",onClick:l[4]||(l[4]=e=>re.value=!re.value)},{default:n((()=>[c(t,{class:"flex justify-start items-center"},{default:n((()=>[O(q(ie.value)+" ",1),c(a,{name:"arrow-down",bold:"",size:"13",class:"ml-1",onClick:l[3]||(l[3]=()=>{}),color:"var(--theme-color-main)"})])),_:1})])),_:1}),c(t,{class:"flex justify-start items-center",onClick:l[6]||(l[6]=e=>ne.value.open())},{default:n((()=>[O(q(M(s)("screen"))+" ",1),c(a,{name:"/static/assets/stock/screen.png",bold:"",size:"16",class:"ml-1",onClick:l[5]||(l[5]=()=>{}),color:"var(--theme-color-main)"})])),_:1})])),_:1}),c($,{class:"sort-card",show:re.value,onClick:l[9]||(l[9]=e=>re.value=!1),style:d({top:_e.top+"px"})},{default:n((()=>[T(c(X,{modelValue:ie.value,"onUpdate:modelValue":l[7]||(l[7]=e=>ie.value=e),placement:"column",iconPlacement:"right",onClick:l[8]||(l[8]=A((()=>{}),["stop"])),activeColor:"#fff",iconColor:"#000",class:"px-3 py-2 box-border bg-[#fff] border-none"},{default:n((()=>[(H(!0),i(u,null,B(ce,((e,l)=>(H(),D(G,{customStyle:{marginBottom:"2px",marginTop:"2px"},key:l,iconSize:"20",onChange:l=>(e=>{ie.value=e,N.searchParams.__order__=e.value,me().resetUpScroll(),re.value=!1})(e),iconColor:"var(--theme-color-main)",labelSize:"13",label:e.label,labelColor:ie.value==e.label?"var(--theme-color-main)":"var(--theme-color-tips)",name:e.label},null,8,["onChange","label","labelColor","name"])))),128))])),_:1},8,["modelValue"]),[[K,re.value]])])),_:1},8,["show","style"])])),_:1}),c(ge,{ref:"mescrollRef",onInit:M(ue),onUp:fe,onDown:fe,up:N.mescrollUp,class:W(N.isH5?"mt-[44px]":""),top:"0"},{default:n((()=>[N.list.length?(H(),D(t,{key:0},{default:n((()=>[(H(!0),i(u,null,B(N.list,((e,l)=>(H(),i(u,null,[c(xe,{class:"!p-0 !m-0"}),c(t,{class:"flex flex-col p-3 bg-[#fff] box-border",onClick:A((l=>(e=>{L({url:"/addon/saler_tools/pages/order/detail",param:{order_id:e.order_id,type:N.type}})})(e)),["stop"])},{default:n((()=>[c(t,{class:"flex justify-between items-center min-h-[90px]"},{default:n((()=>[c(ve,{"show-loading":!0,src:M(J)(e.goods_cover),width:"110px",height:"110px",radius:"5px",class:"mr-[20rpx]"},null,8,["src"]),c(t,{class:"flex justify-between flex-col flex-1 pl-2 min-h-[90px]"},{default:n((()=>[c(t,{class:"flex items-baseline leading-5 text-[14px] card-item flex-1"},{default:n((()=>[c(t,{class:"text-[var(--theme-color-main)] flex-1"},{default:n((()=>[c(ye,{text:e.goods_name,lines:2},null,8,["text"])])),_:2},1024)])),_:2},1024),0==e.is_delivery?(H(),D(t,{key:0,class:"flex flex-col items-start my-1 bg-[var(--theme-upload-bg)] p-2 rounded w-full box-border text-xs"},{default:n((()=>[c(t,{class:"flex justify-between items-center w-full"},{default:n((()=>[c(t,null,{default:n((()=>[O(q(M(s)("form.remark")),1)])),_:1}),e.delivery_remark?(H(),D(he,{key:0,content:e.delivery_remark},{default:n((()=>[e.delivery_remark?(H(),D(t,{key:0,class:"text-[var(--theme-color-primary)]"},{default:n((()=>[O(q(M(s)("copy")),1)])),_:1})):E("",!0)])),_:2},1032,["content"])):E("",!0)])),_:2},1024),c(t,{class:"text-[var(--theme-color-tips)] mt-1 w-full box-border"},{default:n((()=>[O(q(e.delivery_remark||M(s)("nothing")),1)])),_:2},1024)])),_:2},1024)):(H(),D(t,{key:1,class:"text-[var(--theme-color-tips)] text-[13px] leading-5"},{default:n((()=>[c(t,{class:"flex items-center"},{default:n((()=>[c(t,null,{default:n((()=>[O(q(M(s)("delivery_name")+"："),1)])),_:1}),c(le,{uid:e.delivery_uid},null,8,["uid"])])),_:2},1024),c(t,{class:"flex items-center"},{default:n((()=>[O(q(M(s)("delivery_time")+"："+e.delivery_time),1)])),_:2},1024)])),_:2},1024))])),_:2},1024)])),_:2},1024),0==e.is_delivery?(H(),D(t,{key:0,class:"text-xs flex justify-between items-center"},{default:n((()=>[c(t,null,{default:n((()=>[O(q(M(s)("sales_time")+"："+e.transaction_time),1)])),_:2},1024),c(t,{class:"text-[var(--theme-color-primary)] flex justify-end items-center"},{default:n((()=>[c(t,{class:"mx-2"},{default:n((()=>[O(q(M(s)("status")+"："+ae(e)),1)])),_:2},1024),c(t,{onClick:A((a=>((e,l)=>{de.form=Z(e),de.index=l,o((()=>{de.show=!0}))})(e,l)),["stop"])},{default:n((()=>[c(be,{color:"var(--theme-color-primary)",plain:!0,size:"small",text:M(s)("delivery"),customStyle:"width:50px"},null,8,["text"])])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)):E("",!0)])),_:2},1032,["onClick"])],64)))),256))])),_:1})):E("",!0)])),_:1},8,["onInit","up","class"])])),_:1},8,["style"]),c(ee,{ref_key:"screenPopupRef",ref:ne,modelValue:N.searchParams,"onUpdate:modelValue":l[10]||(l[10]=e=>N.searchParams=e)},null,8,["modelValue"]),c(we,{show:se.value,mode:"bottom",onClose:l[12]||(l[12]=e=>se.value=!1),onOpen:l[13]||(l[13]=e=>se.value=!0)},{default:n((()=>[c(t,{class:"p-4 flex justify-between items-center"},{default:n((()=>[c(t),c(t,{class:"flex !text-center font-bold text-[30rpx]"},{default:n((()=>[O(q(M(s)("pages.delivery.list")),1)])),_:1}),c(a,{name:"close",size:"15",onClick:l[11]||(l[11]=e=>se.value=!1)})])),_:1}),c(ke),c(t,{class:"p-4 flex flex-col"},{default:n((()=>[c(t,null,{default:n((()=>[O(q(M(s)("explain.delivery.tips0")),1)])),_:1})])),_:1})])),_:1},8,["show"]),c(we,{show:de.show,onClose:l[18]||(l[18]=e=>de.show=!1),onOpen:l[19]||(l[19]=e=>de.show=!0),mode:"bottom"},{default:n((()=>[c(t,{class:"p-4 flex justify-between items-center"},{default:n((()=>[c(t),c(t,{class:"flex !text-center font-bold text-[30rpx]"},{default:n((()=>[O(q(M(s)("immediate_delivery")),1)])),_:1}),c(a,{name:"close",size:"15",onClick:l[14]||(l[14]=e=>de.show=!1)})])),_:1}),c(ke),c(t,{class:"flex flex-col"},{default:n((()=>[c(t,{class:"px-4 flex flex-col remark-card"},{default:n((()=>[c(t,{class:"flex justify-between items-center text-sm mt-4"},{default:n((()=>[O(q(M(s)("form.delivery_remark")),1)])),_:1}),c(t,{class:"my-2 flex flex-col !box-border"},{default:n((()=>[c(Ce,{placeholder:M(s)("input.delivery_remark"),modelValue:de.form.delivery_remark,"onUpdate:modelValue":l[15]||(l[15]=e=>de.form.delivery_remark=e)},null,8,["placeholder","modelValue"])])),_:1})])),_:1}),c(t,{class:"flex gap-3 mb-5 p-4"},{default:n((()=>[c(be,{onClick:l[16]||(l[16]=e=>de.show=!1),class:"!text-[var(--theme-color-main)]",color:"#f4f5f7",text:M(s)("cancel")},null,8,["text"]),c(be,{text:M(s)("OK"),onClick:l[17]||(l[17]=e=>{Y({order_id:de.form.order_id,delivery_remark:de.form.delivery_remark}).then((()=>{F({title:s("success"),icon:"none"}),me().resetUpScroll()})).finally((()=>{de.show=!1}))}),color:"var(--theme-color-primary)"},null,8,["text"])])),_:1})])),_:1})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-76e0ccfe"]]);export{ae as default};
