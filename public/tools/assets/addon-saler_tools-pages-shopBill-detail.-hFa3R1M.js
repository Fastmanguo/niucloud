import{d as e,r as t,W as l,cG as a,cv as s,a3 as o,a5 as r,f as i,w as u,n as c,a6 as n,i as m,b as f,bc as d,e as x,ah as p,ar as v,as as _,D as h,aI as y,aM as b,aL as w,l as T,cS as C,a4 as A,o as g,at as k,c as P,a7 as j,p as I,t as E,u as O,_ as G}from"./index-DlbBJ3bC.js";import{_ as S}from"./mescroll-body.CzShuCTj.js";import{u as V}from"./useMescroll.lU6SPXzn.js";import"./mescroll-empty.lkR5ZfjC.js";const R=G(e({__name:"detail",setup(e){const G=t(2),R=t(!1),M=t(!1),U=t(0),q=l([{name:"上月"},{name:"本月"},{name:"其他时间"}]),z=e=>{G.value=e.index},D=t(!1),W=t(!1),B=t(null),F=t(null),L=e=>{D.value=!1,N.firstTime=e.value},$=e=>{W.value=!1,N.lastTime=e.value};a((()=>{B.value.setFormatter(H),F.value.setFormatter(H)}));const H=(e,t)=>"year"===e?`${t}年`:"month"===e?`${t}月`:t,{mescrollInit:J}=V(_,v);t(!0);const N=l({firstTime:(new Date).getTime(),lastTime:(new Date).getTime(),list:{lastMonth:{totalAssets:9e3,costOfGoods:891e3,dueAssets:0,list:[{time:"今天",salesProfit:0,serviceProfit:0,otherIncomeAndExpenditure:5e4,salaryExpenditure:5e4},{time:"昨天",salesProfit:0,serviceProfit:0,otherIncomeAndExpenditure:5e4,salaryExpenditure:5e4}]},thisMonth:{totalAssets:0,costOfGoods:0,dueAssets:0,list:[{time:"今天",salesProfit:0,serviceProfit:0,otherIncomeAndExpenditure:0,salaryExpenditure:0}]},otherTime:{totalAssets:0,costOfGoods:0,dueAssets:0,list:[{time:"今天",salesProfit:0,serviceProfit:0,otherIncomeAndExpenditure:0,salaryExpenditure:0}]}},collapseRef:null}),K=t("对账单"),Q=s(),X=t(Q.query.type),Y=JSON.parse(decodeURIComponent(Q.query.list));return o((()=>{console.log("Type:",X.value),console.log("List",Y),K.value=Y.updateTime+Y.title})),(e,t)=>{const l=f(x("up-navbar"),h),a=f(x("up-tabs"),y),s=m,o=f(x("up-divider"),b),v=f(x("up-text"),w),_=f(x("up-icon"),T),V=f(x("up-transition"),C),Q=f(x("mescroll-body"),S),X=f(x("up-datetime-picker"),d),Y=f(x("up-button"),A),Z=f(x("up-modal"),p);return g(),r(n,null,[i(s,{style:c(e.themeColor())},{default:u((()=>[i(l,{title:K.value,autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},null,8,["title"]),(g(!0),r(n,null,k(N.list,((e,l)=>(g(),P(s,null,{default:u((()=>[i(s,{class:"flex flex-col bg-[#fff] box-border m-2 rounded"},{default:u((()=>[i(s,{class:"mt-3"},{default:u((()=>[i(a,{list:q,activeStyle:"color:var(--theme-color-main)",lineWidth:2==G.value?65:30,current:G.value,lineHeight:"4",onClick:z,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main)",itemStyle:"margin-bottom:8px;z-index:2"},null,8,["list","lineWidth","current"])])),_:1}),i(o,{class:"!my-0",color:"var(--theme-border)"}),i(s,{class:j(["mx-2 my-3 flex justify-start items-center h-[28px] text-[var(--theme-color-main)]",2==G.value?"":"hidden"])},{default:u((()=>[i(s,{class:"bg-[var(--theme-upload-bg)] rounded flex justify-center items-center px-2",onClick:t[0]||(t[0]=e=>D.value=!0)},{default:u((()=>[i(v,{mode:"date",text:N.firstTime},null,8,["text"])])),_:1}),i(s,{class:"mx-1"},{default:u((()=>[I("至")])),_:1}),i(s,{class:"bg-[var(--theme-upload-bg)] rounded flex justify-center items-center px-2",onClick:t[1]||(t[1]=e=>W.value=!0)},{default:u((()=>[i(v,{mode:"date",text:N.lastTime},null,8,["text"])])),_:1})])),_:1},8,["class"]),i(s,{class:"flex flex-col items-center text-[var(--theme-color-tips)] text-sm"},{default:u((()=>[i(s,{class:j(["my-3 h-[28px]",2!=G.value?"":"hidden"])},{default:u((()=>[I(" 2024年11月对账单 ")])),_:1},8,["class"]),i(s,{class:"flex flex-col items-center"},{default:u((()=>[i(s,{class:"my-1"},{default:u((()=>[I("总资产(元)")])),_:1}),i(s,{class:"text-base text-[var(--theme-color-main)]"},{default:u((()=>[I(E(e.totalAssets),1)])),_:2},1024)])),_:2},1024),i(s,{class:"w-full box-border",style:{display:"flex","justify-content":"space-around","align-items":"center"}},{default:u((()=>[i(s,{class:"flex flex-col items-center"},{default:u((()=>[i(s,{class:"my-1 flex item-center text-[var(--theme-color-primary)]"},{default:u((()=>[I(" 货品成本(元) "),i(_,{name:"question-circle",class:"ml-1",color:"var(--theme-color-primary)",onClick:t=>{return l=e.costOfGoods,U.value=l,void(M.value=!0);var l}},null,8,["onClick"])])),_:2},1024),i(s,{class:"text-[var(--theme-color-main)]"},{default:u((()=>[I(E(e.costOfGoods),1)])),_:2},1024)])),_:2},1024),i(s,{class:"flex flex-col items-center"},{default:u((()=>[i(s,{class:"my-1"},{default:u((()=>[I("应有资金(元)")])),_:1}),i(s,{class:"text-[var(--theme-color-main)]"},{default:u((()=>[I(E(e.dueAssets),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(s,{class:"mt-2 mb-3"},{default:u((()=>[i(_,{name:R.value?"arrow-up":"arrow-down",class:"ml-1",size:"13",bold:"",onClick:t[2]||(t[2]=e=>R.value=!R.value),color:"var(--theme-color-primary)",label:R.value?"收起更多":"更多明细",labelPos:"left",labelSize:"13px",labelColor:"var(--theme-color-primary)"},null,8,["name","label"])])),_:1})])),_:2},1024)])),_:2},1024),i(Q,{ref_for:!0,ref:"mescrollRef",onInit:O(J),onUp:t[3]||(t[3]=()=>{}),top:"0"},{default:u((()=>[i(V,{show:R.value,mode:"slide-down"},{default:u((()=>[(g(!0),r(n,null,k(e.list,((e,t)=>(g(),P(s,{class:"mb-2 mx-2 rounded bg-[#fff] p-3 flex flex-col text-[var(--theme-color-main)] text-xs"},{default:u((()=>[i(s,{class:"text-sm mb-2"},{default:u((()=>[I(E(e.time),1)])),_:2},1024),i(s,{class:"flex justify-between items-center"},{default:u((()=>[i(s,{class:"flex items-center w-1/2"},{default:u((()=>[i(s,{class:"text-[var(--theme-color-tips)]"},{default:u((()=>[I("销售利润(元)")])),_:1}),i(s,{class:"ml-1 text-sm"},{default:u((()=>[I(E(e.salesProfit),1)])),_:2},1024)])),_:2},1024),i(s,{class:"flex items-center w-1/2"},{default:u((()=>[i(s,{class:"text-[var(--theme-color-tips)]"},{default:u((()=>[I("服务利润(元)")])),_:1}),i(s,{class:"ml-1 text-sm"},{default:u((()=>[I(E(e.serviceProfit),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),i(s,{class:"flex justify-between items-center"},{default:u((()=>[i(s,{class:"flex items-center w-1/2"},{default:u((()=>[i(s,{class:"text-[var(--theme-color-tips)]"},{default:u((()=>[I("其他收支(元)")])),_:1}),i(s,{class:"ml-1 text-sm"},{default:u((()=>[I(E(e.otherIncomeAndExpenditure),1)])),_:2},1024)])),_:2},1024),i(s,{class:"flex items-center w-1/2"},{default:u((()=>[i(s,{class:"text-[var(--theme-color-tips)]"},{default:u((()=>[I("薪资支出(元)")])),_:1}),i(s,{class:"ml-1 text-sm flex items-center"},{default:u((()=>[i(s,null,{default:u((()=>[I("-")])),_:1}),i(s,null,{default:u((()=>[I(E(e.salaryExpenditure),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256))])),_:2},1032,["show"])])),_:2},1032,["onInit"])])),_:2},1024)))),256))])),_:1},8,["style"]),i(X,{ref_key:"firstTimePickerRef",ref:B,show:D.value,modelValue:N.firstTime,"onUpdate:modelValue":t[4]||(t[4]=e=>N.firstTime=e),mode:"year-month",title:"选择时间",onCancel:t[5]||(t[5]=e=>D.value=!1),formatter:H,onConfirm:L},null,8,["show","modelValue"]),i(X,{ref_key:"lastTimePickerRef",ref:F,show:W.value,modelValue:N.lastTime,"onUpdate:modelValue":t[6]||(t[6]=e=>N.lastTime=e),mode:"year-month",title:"选择时间",onCancel:t[7]||(t[7]=e=>W.value=!1),formatter:H,onConfirm:$},null,8,["show","modelValue"]),i(Z,{show:M.value,closeOnClickOverlay:!0,width:"300px",contentTextAlign:"center"},{default:u((()=>[i(s,{class:"flex flex-col text-sm w-full"},{default:u((()=>[i(s,{class:"flex justify-between items-center w-full box-border mb-1"},{default:u((()=>[I(" 货品原始总成本 "),i(s,null,{default:u((()=>[I("￥"+E(U.value),1)])),_:1})])),_:1}),i(s,{class:"flex justify-between items-center w-full box-border"},{default:u((()=>[I(" 货品附加成本 "),i(s,null,{default:u((()=>[I("￥0")])),_:1})])),_:1})])),_:1})])),confirmButton:u((()=>[i(Y,{text:"我知道了",onClick:t[8]||(t[8]=e=>M.value=!1),color:"var(--theme-color-primary)"})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-1edb0418"]]);export{R as default};
