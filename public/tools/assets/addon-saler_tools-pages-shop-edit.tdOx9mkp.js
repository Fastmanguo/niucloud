import{d as e,W as t,H as l,x as a,a5 as o,f as r,w as s,n as i,a6 as d,c_ as n,K as m,s as p,i as f,b as u,e as c,D as x,l as _,Y as b,Z as h,ch as g,$ as y,a4 as V,o as v,p as z,R as w,t as S,u as j,c$ as U,a as W,_ as k}from"./index-DlbBJ3bC.js";import{_ as B}from"./loading-page.vue_vue_type_script_setup_true_lang.B0pUTkMl.js";import{b as A}from"./browser.BTH0nPVW.js";import{_ as q}from"./index.vue_vue_type_script_setup_true_lang.Ds2EKSiR.js";const C=k(e({__name:"edit",setup(e){const k=t({type:"edit",loading:!1,shop_id:"",form:{logo:"",shop_name:"",create_time:"",site_id:"",certificate_name:"",tel:"",mobile:"",address:"",desc:"",share_poster:"",currency_code:"",coordinates:"",banner_list:[],certificate_no:"",certificate_images:[],verify_time:"",is_exp:1,exp_time:""},rules:{shop_name:{type:"string",required:!0,message:"请输入店铺名称",trigger:["blur","change"]},tel:{type:"string",required:!1,message:"请输入固定电话",trigger:["blur","change"]},mobile:{type:"string",required:!1,message:"请输入手机号码",trigger:["blur"]},address:{type:"string",required:!0,message:"请输入店铺地址",trigger:["blur"]},desc:{type:"string",required:!1,message:"请输入店铺简介",trigger:["blur"]}},formRef:null,isEmailValid:!1,isFormValid:!1}),C=()=>{"edit"==k.type?R():k.type="edit"},O=()=>{"edit"!=k.type&&m({title:"当前处于非编辑状态，请按下方按钮切换状态",icon:"none"})},R=()=>{""!=k.form.shop_name?""!=k.form.address?""!=k.form.desc?(k.loading=!0,U(k.form).then((()=>{k.loading=!1,m({title:p("success"),icon:"none"}),A.nextTick((()=>{k.type="save",W({url:"/app/pages/member/index"})}))})).catch((()=>{m({title:p("error"),icon:"none"})}))):m({title:"请输入店铺简介",icon:"none"}):m({title:"请输入店铺地址",icon:"none"}):m({title:"请输入店铺名称",icon:"none"})},T=()=>{k.loading=!0,n().then((({data:e})=>{k.form=e,k.form.address=e.address||"",k.form.desc=e.desc||"",k.loading=!1})).catch((e=>{m({title:p("error"),icon:"none"})}))};return l((e=>{k.type=e?"edit":e.type,k.shop_id=e.shop_id,A.nextTick((()=>{T()}))})),a((()=>{T()})),(e,t)=>{const l=u(c("up-navbar"),x),a=f,n=u(c("up-icon"),_),m=u(c("up-input"),b),U=u(c("up-form-item"),h),W=u(c("up-textarea"),g),A=u(c("up-form"),y),R=u(c("up-button"),V),T=u(c("loading-page"),B);return v(),o(d,null,[r(a,{style:i(e.themeColor()),class:"main-fix-footer-safe"},{default:s((()=>[r(l,{title:"店铺信息",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0}),r(a,{class:"m-2 bg-[#fff] rounded p-3"},{default:s((()=>[r(A,{labelPosition:"left",model:k.form,rules:k.rules,ref:"state.formRef"},{default:s((()=>[r(a,{class:"flex items-center justify-between"},{default:s((()=>[r(a,{class:"flex items-center"},{default:s((()=>[r(a,{class:"text-[14px] text-[var(--theme-color-main)]"},{default:s((()=>[z(" 店铺LOGO ")])),_:1}),r(a,{class:"text-[12px] text-[var(--theme-color-tips)]"},{default:s((()=>[z(" （用于联营店铺和线上展会展示） ")])),_:1})])),_:1}),r(a,{class:"flex mt-[20rpx] justify-between rounded",onClick:w(O,["stop"])},{default:s((()=>[r(q,{width:"80px",height:"80px","icon-size":"30",max:1,modelValue:k.form.logo,"onUpdate:modelValue":t[0]||(t[0]=e=>k.form.logo=e),edit:"edit"==k.type,"value-type":"string","result-type":"string"},{default:s((()=>[r(a,{class:"flex flex-col justify-center items-center bg-[#f4f5f7] w-[80px] h-[80px] rounded"},{default:s((()=>[r(n,{size:"30",name:"camera-fill",color:"var(--theme-color-primary)"}),r(a,{class:"text-[#999] text-[10px] mt-[2px]"},{default:s((()=>[z(" 店铺LOGO ")])),_:1})])),_:1})])),_:1},8,["modelValue","edit"])])),_:1})])),_:1}),r(U,{label:"店铺名称",prop:"shop_name",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:s((()=>[r(m,{clearable:"",modelValue:k.form.shop_name,"onUpdate:modelValue":t[1]||(t[1]=e=>k.form.shop_name=e),placeholder:"请输入店铺名称",fontSize:"14px",border:"",readonly:"edit"!=k.type,inputAlign:"right"},null,8,["modelValue","readonly"])])),_:1},512),r(a,{class:"flex items-center justify-between"},{default:s((()=>[r(a,{class:"text-[14px] text-[var(--theme-color-main)]"},{default:s((()=>[z(" 店铺二维码 ")])),_:1}),r(a,{class:"flex mt-[20rpx] justify-between rounded pr-[9px]"},{default:s((()=>[r(n,{name:"/static/assets/member/qrcode.png",color:"var(--theme-color-main)",size:"20",class:"mr-[4px]"}),r(n,{name:"arrow-right",size:"14",color:"var(--theme-color-main)"})])),_:1})])),_:1}),r(U,{label:"店铺注册时间",prop:"create_time",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:s((()=>[r(m,{clearable:"",modelValue:k.form.create_time,"onUpdate:modelValue":t[2]||(t[2]=e=>k.form.create_time=e),placeholder:"",fontSize:"14px",border:"",readonly:"",inputAlign:"right"},{suffix:s((()=>[r(n,{name:"lock",color:"var(--theme-color-main)"})])),_:1},8,["modelValue"])])),_:1},512),r(U,{label:"店铺编号",prop:"site_id",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:s((()=>[r(m,{clearable:"",modelValue:k.form.site_id,"onUpdate:modelValue":t[3]||(t[3]=e=>k.form.site_id=e),placeholder:"",fontSize:"14px",border:"",readonly:"",inputAlign:"right"},{suffix:s((()=>[r(n,{name:"lock",color:"var(--theme-color-main)"})])),_:1},8,["modelValue"])])),_:1},512),r(U,{label:"认证名称",prop:"certificate_name",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:s((()=>[r(m,{clearable:"",modelValue:k.form.certificate_name,"onUpdate:modelValue":t[4]||(t[4]=e=>k.form.certificate_name=e),placeholder:"",fontSize:"14px",border:"",readonly:"",inputAlign:"right"},{suffix:s((()=>[r(n,{name:"lock",color:"var(--theme-color-main)"})])),_:1},8,["modelValue"])])),_:1},512),r(U,{label:"固定电话",prop:"tel",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:s((()=>[r(m,{clearable:"",modelValue:k.form.tel,"onUpdate:modelValue":t[5]||(t[5]=e=>k.form.tel=e),placeholder:"请输入固定电话",fontSize:"14px",border:"",inputAlign:"right",readonly:"edit"!=k.type},null,8,["modelValue","readonly"])])),_:1},512),r(U,{label:"电话号码",prop:"mobile",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},{default:s((()=>[r(m,{clearable:"",modelValue:k.form.mobile,"onUpdate:modelValue":t[6]||(t[6]=e=>k.form.mobile=e),placeholder:"请输入电话号码",fontSize:"14px",border:"",readonly:"edit"!=k.type,inputAlign:"right"},null,8,["modelValue","readonly"])])),_:1},512),r(U,{label:"详情地址",prop:"address",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},null,512),r(W,{modelValue:k.form.address,"onUpdate:modelValue":t[7]||(t[7]=e=>k.form.address=e),placeholder:"请输入店铺详情地址",count:"",class:"mt-2",maxlength:200,readonly:"edit"!=k.type},null,8,["modelValue","readonly"]),r(U,{label:"店铺简介",prop:"desc",borderBottom:"",ref:"item1",labelWidth:"100px",labelStyle:"font-size: 14px;"},null,512),r(W,{modelValue:k.form.desc,"onUpdate:modelValue":t[8]||(t[8]=e=>k.form.desc=e),placeholder:"请输入店铺店铺简介",count:"",class:"mt-2",maxlength:200,readonly:"edit"!=k.type},null,8,["modelValue","readonly"])])),_:1},8,["model","rules"])])),_:1}),r(a,{class:"flex items-center m-2 bg-[#fff] rounded p-3",onClick:w(O,["stop"])},{default:s((()=>[r(a,{class:"flex justify-between rounded"},{default:s((()=>[r(q,{width:"150px",height:"120px","icon-size":"30",max:1,modelValue:k.form.share_poster,"onUpdate:modelValue":t[9]||(t[9]=e=>k.form.share_poster=e),edit:"edit"==k.type,"value-type":"string","result-type":"string"},{default:s((()=>[r(a,{class:"flex flex-col justify-center items-center bg-[#f4f5f7] w-[150px] h-[120px] rounded"},{default:s((()=>[r(n,{size:"45",name:"camera-fill",color:"var(--theme-color-primary)"}),r(a,{class:"text-[#999] text-[12px] mt-[2px]"},{default:s((()=>[z(S(j(p)("share_img")),1)])),_:1})])),_:1})])),_:1},8,["modelValue","edit"])])),_:1}),r(a,{class:"flex flex-col justify-between leading-5 items-center h-[120px] pl-3 w-full text-[var(--theme-color-content)] text-xs"},{default:s((()=>[r(a,{class:"flex items-center flex-col"},{default:s((()=>[r(a,null,{default:s((()=>[z(S(j(p)("share_img.tips0")),1)])),_:1}),r(a,null,{default:s((()=>[z(S(j(p)("share_img.tips1")),1)])),_:1}),r(a,null,{default:s((()=>[z(S(j(p)("share_img.tips2")),1)])),_:1})])),_:1}),r(a,{class:"text-[var(--theme-color-tips)] text-xs mt-1"},{default:s((()=>[z(S(j(p)("share_img.tips3")),1)])),_:1})])),_:1})])),_:1}),r(a,{class:"main-fix-footer bg-[#fff] z-100",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:s((()=>[r(R,{text:"edit"==k.type?"保存":"编辑",onClick:C,color:"var(--theme-color-primary)"},null,8,["text"])])),_:1})])),_:1},8,["style"]),r(T,{loading:k.loading},null,8,["loading"])],64)}}}),[["__scopeId","data-v-d7641f1d"]]);export{C as default};
