import{d as e,r as t,W as l,H as a,x as s,a5 as r,f as o,w as d,n,u as c,a6 as i,c9 as u,s as f,ca as m,i as _,b as x,aZ as p,e as b,ah as h,D as y,m as g,aL as w,l as v,bO as k,a4 as j,cg as C,ch as z,o as O,c as P,M as S,g as A,p as R,t as T,v as B,h as D,at as E,q as H,R as I,cl as K,a as L,K as $,C as q,_ as M}from"./index-DlbBJ3bC.js";import{a as N,d as W,f as Z}from"./order.UCMsrCaA.js";import{b as F}from"./browser.BTH0nPVW.js";import{_ as G}from"./index.vue_vue_type_script_setup_true_lang.BZegFM-D.js";const J=M(e({__name:"detail",setup(e){const M=t(!0),J=l({show:!1,edit:{close_remark:""}}),Q=l({show:!1}),U=()=>{u({title:f("loading")}),W({order_id:X.order_id,close_remark:J.edit.close_remark}).then((()=>{$({title:f("success"),icon:"none"}),J.show=!1,Y()})).catch((()=>{$({title:f("error"),icon:"none"})})).finally((()=>{m()}))},V=()=>{u({title:f("loading")}),Z({order_id:X.order_id}).then((()=>{$({title:f("success"),icon:"none"}),Q.show=!1,q({url:"/addon/saler_tools/pages/order/lists"})})).finally((()=>{m()}))},X=l({loading:!0,type:"",order_id:"",data:{}}),Y=()=>{u({title:f("loading")}),N(X.order_id).then((e=>{X.data=e.data})).finally((()=>{m()}))};return a((e=>{X.order_id=e.order_id,X.type=e.type,F.nextTick((()=>{Y()}))})),s((()=>{Y()})),(e,t)=>{const l=x(b("up-navbar"),y),a=x(b("up-image"),g),s=x(b("up-text"),w),u=_,m=x(b("up-icon"),v),$=x(b("up-copy"),k),q=H,N=x(b("up-button"),j),W=x(b("up-line"),C),Z=x(b("up-textarea"),z),F=x(b("up-popup"),p),Y=x(b("up-modal"),h);return O(),r(i,null,[o(u,{style:n(e.themeColor())},{default:d((()=>[o(l,{title:c(f)("order_details"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},null,8,["title"]),o(u,{class:"flex items-center m-2 mb-1 p-3 rounded box-border bg-[#fff]"},{default:d((()=>[o(a,{"show-loading":!0,src:c(S)(X.data.goods_cover),width:"120px",height:"120px",radius:"5px",class:"mr-[20rpx]"},null,8,["src"]),o(u,{class:"flex justify-start flex-col flex-1 pl-2"},{default:d((()=>[o(u,{class:"mb-2"},{default:d((()=>[o(s,{size:"15",lineHeight:"1.2em",lines:2,text:X.data.goods_name},null,8,["text"])])),_:1}),o(u,{onClick:t[0]||(t[0]=e=>M.value=!M.value),class:"pt-1"},{default:d((()=>[A(o(u,{class:"flex items-center text-xs mt-1"},{default:d((()=>[o(u,{class:"text-[var(--theme-color-content)]"},{default:d((()=>[R(T(c(f)("total_take_home_price")+"："),1)])),_:1}),o(u,{class:"text-red-500"},{default:d((()=>[R(" ￥"+T(X.data.total_cost),1)])),_:1})])),_:1},512),[[B,M.value]]),A(o(u,{class:"text-xs mt-1 text-[var(--theme-color-tips)]"},{default:d((()=>[R(T(c(f)("show_or_hide")),1)])),_:1},512),[[B,!M.value]]),o(u,{class:"flex items-center text-xs mt-1"},{default:d((()=>[o(u,{class:"text-[var(--theme-color-content)]"},{default:d((()=>[R(T(c(f)("form.transaction_price")+"："),1)])),_:1}),o(u,{class:"text-red-500"},{default:d((()=>[R(" ￥"+T(X.data.money),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),o(u,{class:"flex flex-col bg-[#fff] m-2 p-3 rounded box-border"},{default:d((()=>[o(u,{class:"p-1 text-sm box-border"},{default:d((()=>[o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("goods_code")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(X.data.goods_code||c(f)("nothing")),1)])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("order_billing_count")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(X.data.goods_num),1)])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("order_code")),1)])),_:1}),o($,{content:X.data.order_no},{default:d((()=>[o(m,{name:"/static/assets/copy.png",size:"14",onClick:t[1]||(t[1]=()=>{}),color:"var(--theme-color-primary)",labelPos:"left",labelSize:"14",labelColor:"var(--theme-color-main)",label:X.data.order_no},null,8,["label"])])),_:1},8,["content"])])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("order_status")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(X.data.order_status),1)])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("settlement_status")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(1==X.data.is_paid?c(f)("balance_paid"):0==X.data.is_paid?c(f)("form.settlement.no"):c(f)("refunded")),1)])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("form.order_type")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(X.data.order_type?X.data.order_type:c(f)("nothing")),1)])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("form.salesman")),1)])),_:1}),X.data.sales_uids?(O(),P(u,{key:0,class:"text-sm text-[var(--theme-color-main)]"},{default:d((()=>[(O(!0),r(i,null,E(X.data.sales_uids,((e,t)=>(O(),r(i,null,[t>0?(O(),P(q,{key:0},{default:d((()=>[R(",")])),_:1})):D("",!0),o(G,{uid:e},null,8,["uid"])],64)))),256))])),_:1})):D("",!0)])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("sales_time")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(X.data.transaction_time),1)])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("form.recycle_type")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(c(f)("nothing")),1)])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("form.recycling_name")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[(O(!0),r(i,null,E(X.data.recycling_uid,(e=>(O(),P(G,{uid:e},null,8,["uid"])))),256))])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("form.recycling_time")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(X.data.recycling_time),1)])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("billing_personnel")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[(O(!0),r(i,null,E(X.data.create_uid,(e=>(O(),P(G,{uid:e},null,8,["uid"])))),256))])),_:1})])),_:1}),o(u,{class:"flex justify-between items-center mt-4"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("billing_time")),1)])),_:1}),o(u,{class:"flex items-center text-[var(--theme-color-main)]"},{default:d((()=>[R(T(X.data.create_time),1)])),_:1})])),_:1}),o(u,{class:"flex flex-col items-start mt-4"},{default:d((()=>[o(u,{class:"flex justify-between items-center w-full"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("form.receipt_voucher")),1)])),_:1})])),_:1}),X.data.paid_receipt&&X.data.paid_receipt.length>0?(O(),P(u,{key:0,class:"grid grid-cols-5 gap-2 my-2"},{default:d((()=>[(O(!0),r(i,null,E(X.data.paid_receipt,((t,l)=>(O(),P(u,{key:`im_${e.index}_${l}`},{default:d((()=>[o(a,{"show-loading":!0,src:c(S)(t),width:"50px",height:"50px",onClick:I((e=>c(K)(X.data.paid_receipt,l)),["stop"]),radius:"5px",class:"mr-[20rpx]"},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:1})):D("",!0),X.data.paid_receipt?D("",!0):(O(),P(u,{key:1,class:"my-1"},{default:d((()=>[R(T(c(f)("nothing")),1)])),_:1}))])),_:1}),o(u,{class:"flex flex-col items-start mt-4"},{default:d((()=>[o(u,{class:"flex justify-between items-center w-full box-border"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("order_remark")),1)])),_:1}),X.data.remark?(O(),P($,{key:0,content:X.data.remark},{default:d((()=>[o(u,{class:"text-[var(--theme-color-primary)]"},{default:d((()=>[R(T(c(f)("copy")),1)])),_:1})])),_:1},8,["content"])):D("",!0)])),_:1}),o(u,{class:"p-3 bg-[var(--theme-upload-bg)] my-2 rounded w-full box-border text-sm text-[var(--theme-color-main)]"},{default:d((()=>[X.data.remark?(O(),P(u,{key:0},{default:d((()=>[R(T(X.data.remark),1)])),_:1})):(O(),P(u,{key:1},{default:d((()=>[R(T(c(f)("nothing")),1)])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1}),o(u,{class:"flex flex-col bg-[#fff] m-2 p-4 rounded box-border"},{default:d((()=>[o(u,{class:"flex flex-col items-start"},{default:d((()=>[o(u,null,{default:d((()=>[R(T(c(f)("pages.member.address")),1)])),_:1}),o(u,{class:"p-3 bg-[var(--theme-upload-bg)] my-2 rounded w-full box-border text-sm text-[var(--theme-color-main)]"},{default:d((()=>[X.data.address_info?(O(),P(u,{key:0},{default:d((()=>[R(T(X.data.address_info),1)])),_:1})):(O(),P(u,{key:1},{default:d((()=>[R(T(c(f)("nothing")),1)])),_:1}))])),_:1})])),_:1})])),_:1}),o(u,{class:"main-fix-footer-safe"}),["CANCEL_ORDER"].includes(X.data.order_status)?(O(),P(u,{key:0,class:"main-fix-footer gap-[10px] z-100 flex justify-between items-center"},{default:d((()=>[o(N,{text:c(f)("delete"),class:"!text-[var(--theme-color-main)]",color:"#f4f5f7",onClick:t[2]||(t[2]=e=>Q.show=!0)},null,8,["text"]),1==X.data.is_delivery?(O(),P(N,{key:0,text:c(f)("shipped"),color:"var(--theme-color-primary)",onClick:t[3]||(t[3]=e=>c(L)({url:"/addon/saler_tools/pages/delivery/lists"}))},null,8,["text"])):(O(),P(N,{key:1,text:c(f)("pages.delivery.list"),color:"var(--theme-color-primary)",onClick:t[4]||(t[4]=e=>c(L)({url:"/addon/saler_tools/pages/delivery/lists"}))},null,8,["text"]))])),_:1})):(O(),P(u,{key:1,class:"main-fix-footer z-100 flex justify-between items-center"},{default:d((()=>[o(u,{class:"w-2/3 flex justify-bewteen items-center"},{default:d((()=>[o(u,{class:"flex w-1/3 justify-center"},{default:d((()=>[o(m,{name:"/static/assets/order/sales_return.png",size:"25",labelPos:"bottom",labelSize:"12",labelColor:"var(--theme-color-main)",label:c(f)("sales_returnsales_return"),onClick:t[5]||(t[5]=e=>J.show=!0)},null,8,["label"])])),_:1}),o(u,{class:"flex w-1/3 justify-center"},{default:d((()=>[o(m,{name:"/static/assets/order/edit.png",size:"25",labelPos:"bottom",labelSize:"12",labelColor:"var(--theme-color-main)",label:c(f)("alter_order"),onClick:t[6]||(t[6]=e=>c(L)({url:"/addon/saler_tools/pages/order/add",param:{type:"edit",order_id:X.data.order_id}}))},null,8,["label"])])),_:1}),o(u,{class:"flex w-1/3 justify-center"},{default:d((()=>[o(m,{name:"/static/assets/order/delete.png",size:"25",onClick:t[7]||(t[7]=e=>Q.show=!0),labelPos:"bottom",labelSize:"12",labelColor:"var(--theme-color-main)",label:c(f)("delete"),color:"var(--theme-color-primary)",bold:""},null,8,["label"])])),_:1})])),_:1}),o(u,{class:"!w-1/3"},{default:d((()=>[1==X.data.is_delivery?(O(),P(N,{key:0,text:c(f)("shipped"),color:"var(--theme-color-primary)",onClick:t[8]||(t[8]=e=>c(L)({url:"/addon/saler_tools/pages/delivery/lists"}))},null,8,["text"])):(O(),P(N,{key:1,text:c(f)("pages.delivery.list"),color:"var(--theme-color-primary)",onClick:t[9]||(t[9]=e=>c(L)({url:"/addon/saler_tools/pages/delivery/lists"}))},null,8,["text"]))])),_:1})])),_:1}))])),_:1},8,["style"]),o(F,{show:J.show,mode:"bottom",class:"custom-modal"},{default:d((()=>[o(u,{class:"p-4 flex justify-between items-center"},{default:d((()=>[o(u),o(u,{class:"flex !text-center font-bold text-[30rpx]"},{default:d((()=>[R(T(c(f)("confirm_sales_return")),1)])),_:1}),o(m,{name:"close",size:"15",onClick:t[10]||(t[10]=e=>J.show=!1)})])),_:1}),o(W),o(u,{class:"px-[10px] pt-[10px] text-red-500"},{default:d((()=>[R(T(c(f)("sales_return.tips0")),1)])),_:1}),o(u,{class:"p-[10px] flex flex-col !box-border"},{default:d((()=>[o(Z,{placeholder:c(f)("input.sales_return_reason"),count:"",border:"none",height:"50px",maxlength:"50",class:"!bg-[#f4f5f7]"},null,8,["placeholder"]),o(u,{class:"h-[25px] !mt-[-30px] z-10 mx-[10px] flex justify-end items-center pr-[40px]"},{default:d((()=>[o(u,{class:"text-[24rpx] mt-[8px] mr-[5px] text-red-500",onClick:t[11]||(t[11]=e=>J.edit.close_remark="")},{default:d((()=>[R(T(c(f)("form.input_clear")),1)])),_:1})])),_:1})])),_:1}),o(u,{class:"popup-safe-footer"},{default:d((()=>[o(N,{onClick:t[12]||(t[12]=e=>J.show=!1),class:"!text-[#303133]",color:"#f4f5f7",text:c(f)("cancel")},null,8,["text"]),o(N,{text:c(f)("OK"),onClick:U,color:"#e0b87a"},null,8,["text"])])),_:1})])),_:1},8,["show"]),o(Y,{show:Q.show,content:c(f)("form.system_code.tips"),closeOnClickOverlay:!0,width:"300px",contentTextAlign:"center"},{confirmButton:d((()=>[o(u,{class:"flex gap-3"},{default:d((()=>[o(N,{onClick:t[13]||(t[13]=e=>Q.show=!1),class:"!text-[#303133]",color:"#f4f5f7",text:c(f)("cancel")},null,8,["text"]),o(N,{text:c(f)("confirm"),onClick:V,color:"#e0b87a"},null,8,["text"])])),_:1})])),default:d((()=>[o(u,{class:"flex justify-between items-center"},{default:d((()=>[o(u),o(u,{class:"flex !text-center text-sm"},{default:d((()=>[R(T(c(f)("confirm_delete_operation")),1)])),_:1})])),_:1})])),_:1},8,["show","content"])],64)}}}),[["__scopeId","data-v-6164e19c"]]);export{J as default};
