import{d as e,r as a,W as t,ac as l,c as s,w as o,ak as c,b as r,o as d,f as n,i,p as u,an as m,a5 as p,at as f,a6 as x,t as _,a as y,au as h,K as b,s as v,l as g,e as w,cg as k,cj as V,Y as j,a4 as C,ci as z,aZ as U,_ as q}from"./index-DlbBJ3bC.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_lang.Ds2EKSiR.js";const S=q(e({__name:"custom-cost-item",props:{show:{type:Boolean,default:!1},list:{type:Array,default:null}},emits:["close","submit","delete"],setup(e,{expose:q,emit:S}){const B=a(),F=e,I=S,K={cost_id:null,cost_name:null,money:null,images:[]},O=t({show:!1,data:{},list:[],index:void 0});l((()=>F.show),(e=>{O.show=e}),{immediate:!0}),l((()=>F.list),(e=>{O.list=e}),{deep:!0});const R=()=>{O.show=!1},W=()=>{y({url:"/addon/saler_tools/pages/base/edit",param:{key:"cost_type"},success:()=>{h("saler_tools_edit_key","cost_type")}})},Y=e=>{var a;O.data.money&&0!=O.data.money||null==(a=B.value)||a.doFocus()},Z=()=>O.data.cost_name?O.data.money?(I("submit",O.data,O.index),void(O.show=!1)):b({icon:"none",title:v("goods_cost.form.money_required")}):b({icon:"none",title:v("goods_cost.form.cost_name_required")}),D=()=>{I("delete",O.index),O.show=!1};return q({open:(e,a=void 0)=>{O.data=e||c(K),O.index=a,O.show=!0}}),(e,a)=>{const t=i,l=r(w("up-icon"),g),c=r(w("up-line"),k),y=r(w("up-radio"),z),h=r(w("up-radio-group"),V),b=m,v=r(w("up-input"),j),q=r(w("up-button"),C),S=r(w("up-popup"),U);return d(),s(S,{show:O.show,mode:"bottom",onClose:R,onOpen:a[3]||(a[3]=()=>{}),class:"append-popup"},{default:o((()=>[n(t,{class:"p-3 flex justify-between items-center"},{default:o((()=>[n(t),n(t,{class:"flex !text-center font-bold text-[30rpx]"},{default:o((()=>[u("添加附加成本")])),_:1}),n(l,{name:"close",size:"15",onClick:R})])),_:1}),n(c),n(t,{class:"p-3 cost-card"},{default:o((()=>[n(t,{class:"mb-2 flex justify-between items-center"},{default:o((()=>[n(t,{class:"flex text-[28rpx] text-[#000]"},{default:o((()=>[u(" 选择类型 "),n(t,{class:"text-rose-500"},{default:o((()=>[u("*")])),_:1})])),_:1}),n(t,{class:"flex justify-end items-center",onClick:W},{default:o((()=>[n(l,{name:"plus-circle-fill",color:"var(--theme-color-primary)",size:"15"}),n(t,{class:"h-[17px] text-xs text-[var(--theme-color-primary)] ml-1"},{default:o((()=>[u("添加类型")])),_:1})])),_:1})])),_:1}),n(b,{class:"border-solid border-[#f4f5f7] border-1 rounded max-h-[120px] overflow-y-auto cost-type-list","show-scrollbar":"","scroll-y":"true"},{default:o((()=>[n(h,{modelValue:O.data.cost_name,"onUpdate:modelValue":a[0]||(a[0]=e=>O.data.cost_name=e),placement:"column",class:"px-3 py-2",onChange:Y},{default:o((()=>[(d(!0),p(x,null,f(O.list,((e,a)=>(d(),s(y,{customStyle:{margin:"0"},key:a,label:e.value,name:e.value,activeColor:"var(--theme-color-primary)"},null,8,["label","name"])))),128))])),_:1},8,["modelValue"])])),_:1}),n(t,{class:"flex flex-col gap-y-[10px] mt-[10px]"},{default:o((()=>[n(t,null,{default:o((()=>[u(" 已选择类型："+_(O.data.cost_name),1)])),_:1}),n(c),n(t,{class:"flex justify-between items-center"},{default:o((()=>[n(t,{class:"flex text-[28rpx] text-[#303133]"},{default:o((()=>[u(" 金额 "),n(t,{class:"text-rose-500"},{default:o((()=>[u("*")])),_:1})])),_:1}),n(v,{placeholder:"请输入金额",border:"none",inputAlign:"right",type:"digit",modelValue:O.data.money,"onUpdate:modelValue":a[1]||(a[1]=e=>O.data.money=e),ref_key:"moneyRef",ref:B,placeholderStyle:"color: #c0c4cc;font-size:25rpx;text-align: end;"},null,8,["modelValue"])])),_:1}),n(c),n(t,{class:"flex flex-col"},{default:o((()=>[n(t,{class:"text-[28rpx] text-[#303133 mb-2"},{default:o((()=>[u("图片")])),_:1}),n(A,{width:"80",height:"80","icon-size":"30",max:"3",modelValue:O.data.images,"onUpdate:modelValue":a[2]||(a[2]=e=>O.data.images=e),"result-type":"array","value-type":"array"},{default:o((()=>[n(t,{class:"flex flex-col justify-center items-center bg-[#f4f5f7] w-[80px] h-[80px]"},{default:o((()=>[n(l,{size:"30",name:"camera-fill",color:"var(--theme-color-primary)"}),n(t,{class:"text-[#999] text-[12px]"},{default:o((()=>[u("最多3张图片")])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),n(t,{class:"flex gap-3 main-fix-footer !relative"},{default:o((()=>[void 0===O.index?(d(),s(q,{key:0,class:"!text-[#606266]",color:"#909399",plain:"",text:"取消",onClick:R})):(d(),s(q,{key:1,class:"!text-[#606266]",color:"#909399",plain:"",text:"删除",onClick:D})),n(q,{text:"保存",color:"var(--theme-color-primary)",onClick:Z})])),_:1})])),_:1},8,["show"])}}}),[["__scopeId","data-v-eed729c7"]]);export{S as c};
