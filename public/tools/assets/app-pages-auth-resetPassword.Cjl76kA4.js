import{d as a,a2 as s,W as e,s as o,ac as r,c as l,w as t,n as d,i as p,b as i,m,e as n,Y as f,Z as u,$ as c,a4 as w,o as _,f as b,u as g,M as x,p as h,t as V,K as y,a as z,_ as S}from"./index-DlbBJ3bC.js";import{a as v}from"./user.BwIQgQ7o.js";import{b as F}from"./browser.BTH0nPVW.js";const W=S(a({__name:"resetPassword",setup(a){const S=s(),W=e({form:{old_password:"",password:"",again_password:""},rules:{old_password:{type:"string",required:!0,message:o("input.old_password.tips"),trigger:["blur","change"]},password:{type:"string",required:!0,message:o("input.password.tips"),trigger:["blur"]},again_password:{type:"string",required:!0,validator:(a,s,e)=>{s!==W.form.password?e(o("input.confirm_password.tips2")):e()},message:o("input.confirm_password.tips2"),trigger:["blur","change"]}},formRef:null,isEmailValid:!1,isFormValid:!1});r((()=>W.form.again_password),(()=>{W.form.again_password!==W.form.password?W.isFormValid=!1:W.form.again_password&&W.form.password&&W.form.old_password?W.isFormValid=!0:W.isFormValid=!1}),{deep:!0});const j=()=>{v({old_password:W.form.old_password,password:W.form.password}).then((()=>{y({title:o("success"),icon:"none"}),F.nextTick((()=>{z({url:"/app/pages/auth/login"})}))})).catch((()=>{y({title:o("error"),icon:"none"})}))};return(a,s)=>{const e=i(n("up-image"),m),r=p,y=i(n("up-input"),f),z=i(n("up-form-item"),u),v=i(n("up-form"),c),F=i(n("up-button"),w);return _(),l(r,{style:d(a.themeColor())},{default:t((()=>[b(r,{class:"my-20 px-5"},{default:t((()=>[b(r,{class:"flex items-center mb-5"},{default:t((()=>[b(e,{"show-loading":!0,src:g(x)(g(S).app_logo),width:"50px",height:"50px",radius:"50px"},null,8,["src"]),b(r,{class:"ml-2 text-base text-[var(--theme-color-main)] font-semibold"},{default:t((()=>[b(r,{class:"font-serif subpixel-antialiased"},{default:t((()=>[h(V(g(S).app_name),1)])),_:1}),b(r,{class:"text-[var(--theme-color-main)]"},{default:t((()=>[h(V(g(o)("reset_password")),1)])),_:1})])),_:1})])),_:1}),b(v,{labelPosition:"left",model:W.form,rules:W.rules,ref:"state.formRef"},{default:t((()=>[b(z,{label:g(o)("form.old_password"),prop:"old_password",borderBottom:"",ref:"item1",labelWidth:"80px",labelStyle:"font-size: 14px;"},{default:t((()=>[b(y,{clearable:"",modelValue:W.form.old_password,"onUpdate:modelValue":s[0]||(s[0]=a=>W.form.old_password=a),placeholder:g(o)("input.old_password.tips"),fontSize:"14px",type:"password"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),b(z,{label:g(o)("form.password"),prop:"password",borderBottom:"",ref:"item1",labelWidth:"80px",labelStyle:"font-size: 14px;"},{default:t((()=>[b(y,{clearable:"",modelValue:W.form.password,"onUpdate:modelValue":s[1]||(s[1]=a=>W.form.password=a),placeholder:g(o)("input.password.tips"),fontSize:"14px",type:"password"},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),b(z,{label:g(o)("form.confirm_password"),prop:"again_password",borderBottom:"",ref:"item1",labelWidth:"80px",labelStyle:"font-size: 14px;"},{default:t((()=>[b(y,{clearable:"",modelValue:W.form.again_password,"onUpdate:modelValue":s[2]||(s[2]=a=>W.form.again_password=a),placeholder:g(o)("input.confirm_password.tips"),fontSize:"14px",type:"password"},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","rules"]),b(r,{class:"my-5"},{default:t((()=>[b(F,{text:g(o)("confirm_edit"),onClick:j,disabled:!W.isFormValid,color:"var(--theme-color-primary)"},null,8,["text","disabled"])])),_:1})])),_:1})])),_:1},8,["style"])}}}),[["__scopeId","data-v-027cddc2"]]);export{W as default};
