import{d as t,W as e,x as a,H as s,a5 as l,f as o,w as n,n as c,a6 as i,i as d,b as r,ah as u,e as f,D as _,l as p,a4 as x,o as m,u as h,s as w,at as g,c as y,p as b,t as C,R as k,a as v,q as j,K as B}from"./index-DlbBJ3bC.js";import{g as A,d as K}from"./setting.ZQ_svkG8.js";import{_ as T}from"./index.vue_vue_type_script_setup_true_lang.BZegFM-D.js";const q=t({__name:"index",setup(t){const q=e({list:[]}),D=()=>{A().then((({data:t})=>{q.list=t}))},H=t=>{v({url:`/addon/saler_tools/pages/shop/setting/shopCard/edit?contact_id=${t}&type=edit`})},I=e({contact_id:0,index:0,show:!1});return a((()=>{D()})),s((()=>{D()})),(t,e)=>{const a=r(f("up-navbar"),_),s=d,A=r(f("up-icon"),p),D=r(f("up-button"),x),O=j,R=r(f("up-modal"),u);return m(),l(i,null,[o(s,{style:c(t.themeColor()),class:"main-fix-footer-safe"},{default:n((()=>[o(a,{title:h(w)("contact_way"),autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},null,8,["title"]),(m(!0),l(i,null,g(q.list,((t,e)=>(m(),y(s,{class:"flex flex-col text-sm text-[var(--theme-color-main)]"},{default:n((()=>[o(s,{class:"py-2 px-3 bg-[#fff] flex justify-between items-center mt-[1px]"},{default:n((()=>[o(s,{class:"leading-6",onClick:e=>H(t.contact_id)},{default:n((()=>[o(s,null,{default:n((()=>[b(C(t.work_name),1)])),_:2},1024),o(s,{class:"text-xs text-[var(--theme-color-tips)] flex justify-between items-center"},{default:n((()=>[o(s,{class:"mr-10"},{default:n((()=>[o(T,{uid:t.by_uid},null,8,["uid"])])),_:2},1024),o(s,null,{default:n((()=>[b(C(t.mobile),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"]),o(s,{class:"flex justify-between items-center"},{default:n((()=>[o(A,{name:"/static/assets/order/edit.png",color:"var(--theme-color-tips)",onClick:e=>H(t.contact_id)},null,8,["onClick"]),o(s,{class:"mx-3 text-[var(--theme-border)] leading-4"},{default:n((()=>[b("|")])),_:1}),o(s,{onClick:k((a=>((t,e)=>{I.contact_id=t,I.index=e,I.show=!0})(t.contact_id,e)),["stop"])},{default:n((()=>[o(A,{name:"/static/assets/order/delete.png",color:"var(--theme-color-tips)"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),256)),o(s,{class:"main-fix-footer"},{default:n((()=>[o(D,{text:h(w)("add.contact"),onClick:e[0]||(e[0]=t=>h(v)({url:"/addon/saler_tools/pages/shop/setting/shopCard/edit?type=add"})),color:"var(--theme-color-primary)"},null,8,["text"])])),_:1})])),_:1},8,["style"]),o(R,{show:I.show,"onUpdate:show":e[3]||(e[3]=t=>I.show=t),width:300,showConfirmButton:!1,contentTextAlign:"center"},{confirmButton:n((()=>[o(s,{class:"flex gap-3"},{default:n((()=>[o(D,{onClick:e[1]||(e[1]=t=>I.show=!1),class:"!text-[#303133]",color:"#f4f5f7",text:h(w)("cancel")},null,8,["text"]),o(D,{text:h(w)("OK"),onClick:e[2]||(e[2]=t=>{K(I.contact_id).then((()=>{q.list.splice(I.index,1)})).then((()=>{I.show=!1,B({title:w("delete_success"),icon:"none"})})).finally((()=>{I.show=!1}))}),color:"#e0b87a"},null,8,["text"])])),_:1})])),default:n((()=>[o(s,{class:"!box-border w-full text-[var(--theme-color-main)] text-center"},{default:n((()=>[o(O,null,{default:n((()=>[b(C(h(w)("confirm_delete_contact")),1)])),_:1})])),_:1})])),_:1},8,["show"])],64)}}});export{q as default};
