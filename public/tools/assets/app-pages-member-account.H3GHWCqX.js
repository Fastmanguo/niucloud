import{d as e,r as a,H as t,s as l,c,w as s,n,i as o,ar as r,as as u,b as i,bk as p,e as d,o as m,f as x,u as _,a5 as f,a6 as y,at as v,P as b,M as g,p as k,t as h,q as w,a as C,bl as j,bm as I,_ as A}from"./index-DlbBJ3bC.js";import{M as F}from"./mescroll-body.Cslbt_R_.js";import{u as M}from"./useMescroll.lU6SPXzn.js";import"./mescroll-empty.lkR5ZfjC.js";const V=A(e({__name:"account",setup(e){const{mescrollInit:A}=M(u,r),V=a([]),N=a(!1),T=a("bank"),q=a(null),z=a("get");t((e=>{e.type&&(T.value=e.type),e.mode&&(z.value=e.mode)}));const B=e=>{N.value=!1;let a={page:e.num,limit:e.size,account_type:T.value};j(a).then((a=>{const t=a.data.data;1==e.num&&(V.value=[]),V.value=V.value.concat(t),e.endSuccess(t.length),N.value=!0})).catch((()=>{N.value=!0,e.endErr()}))},E=a([{text:l("delete"),style:{backgroundColor:"#F56C6C"}}]),H=e=>{"get"==z.value?C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:T.value,mode:z.value},mode:"redirectTo"}):C({url:"/app/pages/member/apply_cash_out",param:{account_id:e.account_id,type:T.value},mode:"redirectTo"})};return(e,a)=>{const t=b,r=o,u=w,j=i(d("u-swipe-action-item"),p);return m(),c(r,{class:"w-screen h-screen bg-[var(--page-bg-color)]",style:n(e.themeColor())},{default:s((()=>[x(F,{ref_key:"mescrollRef",ref:q,onInit:_(A),down:{use:!1},onUp:B},{default:s((()=>[(m(!0),f(y,null,v(V.value,((e,a)=>(m(),c(r,{class:"sidebar-margin my-[var(--top-m)] rounded-[var(--rounded-big)] overflow-hidden",key:a},{default:s((()=>[x(j,{options:E.value,onClick:e=>(e=>{const a=V.value[e];I(a.account_id).then((()=>{V.value.splice(e,1)})).catch()})(a)},{default:s((()=>[x(r,{class:"card-template flex justify-between"},{default:s((()=>[x(r,{class:"flex items-center"},{default:s((()=>[x(r,{class:"w-[80rpx] h-[80rpx] flex items-center justify-center",onClick:a=>H(e)},{default:s((()=>["bank"==e.account_type?(m(),c(t,{key:0,class:"w-[80rpx] h-[52rpx] align-middle",src:_(g)("static/resource/images/member/apply_withdrawal/bank-icon.png"),mode:"widthFix"},null,8,["src"])):(m(),c(t,{key:1,class:"h-[78rpx] w-[78rpx] align-middle",src:_(g)("static/resource/images/member/apply_withdrawal/alipay-icon.png"),mode:"widthFix"},null,8,["src"]))])),_:2},1032,["onClick"]),x(r,{class:"flex flex-col ml-[20rpx]",onClick:a=>H(e)},{default:s((()=>[x(r,{class:"text-[#333] text-[28rpx]"},{default:s((()=>[k(h("bank"==e.account_type?e.bank_name:_(l)("alipayAccountNo")),1)])),_:2},1024),"bank"==e.account_type?(m(),c(r,{key:0,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:s((()=>[k(h(_(l)("endNumber"))+" "+h(e.account_no.substring(e.account_no.length-4))+h(_(l)("bankCard")),1)])),_:2},1024)):(m(),c(r,{key:1,class:"text-[var(--text-color-light9)] text-[24rpx] mt-[12rpx]"},{default:s((()=>[k(h(e.account_no),1)])),_:2},1024))])),_:2},1032,["onClick"])])),_:2},1024),x(u,{class:"flex items-center nc-iconfont nc-icon-xiugaiV6xx flex-shrink-0 text-[28rpx] p-[20rpx] pr-0",onClick:a=>(e=>{C({url:"/app/pages/member/account_edit",param:{id:e.account_id,type:e.account_type,mode:z.value}})})(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1032,["options","onClick"])])),_:2},1024)))),128)),x(r,{class:"card-template sidebar-margin my-[var(--top-m)] flex items-center",onClick:a[0]||(a[0]=e=>_(C)({url:"/app/pages/member/account_edit",param:{type:T.value,mode:z.value}}))},{default:s((()=>[x(u,{class:"nc-iconfont nc-icon-jiahaoV6xx text-[30rpx]"}),x(u,{class:"text-[28rpx] ml-[10rpx] flex-1"},{default:s((()=>[k(h("bank"==T.value?_(l)("addBankCard"):_(l)("addAlipayAccount")),1)])),_:1}),x(u,{class:"nc-iconfont nc-icon-youV6xx text-[24rpx] text-[var(--text-color-light6)]"})])),_:1})])),_:1},8,["onInit"])])),_:1},8,["style"])}}}),[["__scopeId","data-v-cdd7c9c6"]]);export{V as default};
