import{d as e,r as l,W as t,cG as a,a3 as s,aC as o,x as n,a5 as r,f as m,w as c,n as i,a6 as u,i as f,b as d,aZ as p,e as x,bc as v,ar as _,as as h,l as y,D as b,aI as g,aL as w,cr as C,aM as k,m as j,a4 as T,cg as z,o as S,a7 as I,p as M,g as V,u as N,an as R,at as U,c as A,t as D,v as P,h as $,a as W,aS as q,_ as F}from"./index-DlbBJ3bC.js";import{_ as L}from"./mescroll-body.CzShuCTj.js";import{c as O}from"./custom-popup.06r32cSl.js";import{u as B}from"./useMescroll.lU6SPXzn.js";import"./mescroll-empty.lkR5ZfjC.js";/* empty css                                                                     */const G=F(e({__name:"tallyLists",setup(e){const{mescrollInit:F}=B(h,_);l(!0);const G=t({employeeName:"全部员工",firstTime:(new Date).getTime(),lastTime:(new Date).getTime(),list:[{name:"名称1",sort:"分类1",type:"income",money:0,creator:"Mia",time:"2025-01-01"},{name:"名称2",sort:"分类2",type:"income",money:100,creator:"Mia",time:"2025-01-02"},{name:"名称3",sort:"分类3",type:"expenditure",money:2,creator:"Mia",time:"2025-01-03"}]}),H=l(!1),J=l(!1),Z=t([{name:"全部分类",checked:!1,value:0,selected:!1},{name:"其他",checked:!1,value:1,selected:!1},{name:"快递费",checked:!1,value:2,selected:!1},{name:"维修费",checked:!1,value:3,selected:!1},{name:"参展费",checked:!1,value:4,selected:!1}]),E=l(""),K=e=>{Array.isArray(e)&&e.length>0?E.value=e[0].name:console.error("无效的索引格式:",e)},Q=t([{name:"今日"},{name:"本月"},{name:"上月"},{name:"其他时间"}]),X=l(3),Y=e=>{X.value=e.index},ee=l(!1),le=t(["全部员工","Mia","员工101","员工102","员工103","员工104","员工105","员工106"]),te=l(!1),ae=l(!1),se=l(null),oe=l(null),ne=e=>{te.value=!1,G.firstTime=e.value},re=e=>{ae.value=!1,G.lastTime=e.value};a((()=>{se.value.setFormatter(me),oe.value.setFormatter(me)}));const me=(e,l)=>"year"===e?`${l}年`:"month"===e?`${l}月`:l;let ce={top:0};const ie=()=>{q().select(".custom-box").boundingClientRect((e=>{ce.top=e.top+15})).exec()};return s((()=>{o((()=>{ie()}))})),n((()=>{o((()=>{ie()}))})),(e,l)=>{const t=d(x("up-icon"),y),a=f,s=d(x("up-navbar"),b),o=d(x("up-tabs"),g),n=d(x("up-text"),w),_=R,h=d(x("up-overlay"),C),q=d(x("up-divider"),k),B=d(x("up-image"),j),E=d(x("up-button"),T),ie=d(x("mescroll-body"),L),ue=d(x("up-line"),z),fe=d(x("up-popup"),p),de=d(x("up-datetime-picker"),v);return S(),r(u,null,[m(a,{style:i(e.themeColor())},{default:c((()=>[m(s,{title:"其他记账",autoBack:!0,safeAreaInsetTop:!0,placeholder:!0},{center:c((()=>[m(a,null,{default:c((()=>[m(t,{name:"question-circle",label:"其他记账",labelPos:"left",onClick:l[0]||(l[0]=e=>H.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"})])),_:1})])),right:c((()=>[m(a,{class:"u-nav-slot",onClick:l[1]||(l[1]=e=>J.value=!0)},{default:c((()=>[m(t,{name:"arrow-down-fill",label:"全部分类",labelPos:"left",labelSize:"12",size:"12",color:"var(--theme-color-main)",labelColor:"var(--theme-color-main)"})])),_:1})])),_:1}),m(a,{class:"mt-1 p-3 bg-[#fff]"},{default:c((()=>[m(a,{class:"my-2"},{default:c((()=>[m(o,{list:Q,activeStyle:"color:var(--theme-color-main)",lineWidth:3==X.value?65:35,current:X.value,lineHeight:"5",onChange:Y,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-main)",itemStyle:"margin-bottom:-3px;z-index:2"},null,8,["list","lineWidth","current"])])),_:1}),m(a,{class:I(["mx-5 mt-3 flex justify-start items-center h-[28px] text-[var(--theme-color-main)]",3==X.value?"":"hidden"])},{default:c((()=>[m(a,{class:"bg-[var(--theme-upload-bg)] rounded flex justify-center items-center px-2",onClick:l[2]||(l[2]=e=>te.value=!0)},{default:c((()=>[m(n,{mode:"date",text:G.firstTime},null,8,["text"])])),_:1}),m(a,{class:"mx-1"},{default:c((()=>[M("至")])),_:1}),m(a,{class:"bg-[var(--theme-upload-bg)] rounded flex justify-center items-center px-2",onClick:l[3]||(l[3]=e=>ae.value=!0)},{default:c((()=>[m(n,{mode:"date",text:G.lastTime},null,8,["text"])])),_:1})])),_:1},8,["class"]),m(a,{class:"flex justify-between items-center px-7 py-2"},{default:c((()=>[m(a,{class:"flex flex-col text-[var(--theme-color-main)] w-1/2"},{default:c((()=>[m(a,{class:"text-sm my-1"},{default:c((()=>[M("支出")])),_:1}),m(a,{class:"flex items-baseline"},{default:c((()=>[m(a,null,{default:c((()=>[M("￥")])),_:1}),m(a,{class:"text-lg"},{default:c((()=>[M("1,000")])),_:1})])),_:1})])),_:1}),m(a,{class:"flex flex-col w-1/2"},{default:c((()=>[m(a,{class:"text-sm my-1 text-[var(--theme-color-main)]"},{default:c((()=>[M("收入")])),_:1}),m(a,{class:"flex items-baseline text-[var(--theme-text-red)]"},{default:c((()=>[m(a,null,{default:c((()=>[M("￥")])),_:1}),m(a,{class:"text-lg"},{default:c((()=>[M("0")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),m(h,{show:ee.value,onClick:l[4]||(l[4]=e=>ee.value=!1)},{default:c((()=>[V(m(a,{class:"custom-employee",style:i({top:N(ce).top+"px"})},{default:c((()=>[m(_,{"scroll-y":"true"},{default:c((()=>[m(a,{class:"h-[200px]"},{default:c((()=>[(S(!0),r(u,null,U(le,((e,l)=>(S(),A(a,{class:"flex flex-col items-center"},{default:c((()=>[m(a,{class:I(["custom-employee-item",[l==le.length-1?"!border-none":"",e==G.employeeName?"text-[var(--theme-color-primary)]":""]]),onClick:l=>(e=>{G.employeeName=e})(e)},{default:c((()=>[M(D(e),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1},8,["style"]),[[P,ee.value]])])),_:1},8,["show"]),m(a,{class:"px-3 my-2 flex justify-end custom-box"},{default:c((()=>[m(a,{onClick:l[5]||(l[5]=e=>ee.value=!0),class:"bg-[#fff] rounded min-w-[80px] flex justify-between items-center px-1"},{default:c((()=>[m(a,{class:"px-1"},{default:c((()=>[M(D(G.employeeName),1)])),_:1}),m(t,{name:"arrow-down-fill",size:12,color:"var(--theme-color-primary)"})])),_:1})])),_:1}),m(ie,{ref:"mescrollRef",onInit:N(F),onUp:l[7]||(l[7]=()=>{}),top:"0"},{default:c((()=>[G.list.length?(S(),A(a,{key:0,class:"bg-[#fff] text-[var(--theme-color-main)] text-sm"},{default:c((()=>[(S(!0),r(u,null,U(G.list,((e,l)=>(S(),A(a,null,{default:c((()=>[m(a,{onClick:l=>N(W)({url:`/addon/saler_tools/pages/finance/tallyDetail?list=${encodeURIComponent(JSON.stringify(e))}`})},{default:c((()=>[m(a,{class:"py-2 px-3"},{default:c((()=>[M(D(e.time),1)])),_:2},1024),m(q,{class:"!m-0"}),m(a,{class:"p-3 flex justify-between items-center"},{default:c((()=>[m(a,null,{default:c((()=>[m(B,{width:"80px",height:"80px","show-loading":!0,radius:"5px",src:"/static/assets/logo.png"})])),_:1}),m(a,{class:"flex justify-between flex-col ml-2 flex-1 min-h-[80px] text-sm"},{default:c((()=>[m(a,{class:"flex justify-between items-center text-[var([--theme-color-main])] text-sm"},{default:c((()=>[m(a,null,{default:c((()=>[M(D(e.name),1)])),_:2},1024),m(a,{class:"text-base font-bold"},{default:c((()=>[M(D("income"==e.type?"-":"+")+" "+D(e.money),1)])),_:2},1024)])),_:2},1024),m(a,{class:"text-[var(--theme-color-content)] text-xs"},{default:c((()=>[M(D(e.sort),1)])),_:2},1024),m(a,{class:"text-[var(--theme-color-tips)] text-xs"},{default:c((()=>[M(" 创建人："+D(e.creator),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),m(q,{class:"!m-0"})])),_:2},1032,["onClick"])])),_:2},1024)))),256))])),_:1})):$("",!0),m(a,{class:"fixed bottom-0 left-0 w-full box-border bg-[#fff] z-100 pb-[25px] h-[80px] p-3",style:{"box-shadow":"var(--theme-box-shadow)"}},{default:c((()=>[m(E,{text:"记一笔",class:"!text-[#fff] !bg-[var(--theme-color-primary)] !border-none",onClick:l[6]||(l[6]=e=>N(W)({url:`/addon/saler_tools/pages/finance/tallyAdd?type=add&currentTab=${X.value}`}))})])),_:1})])),_:1},8,["onInit"])])),_:1},8,["style"]),m(fe,{show:H.value,mode:"bottom",onClose:l[9]||(l[9]=e=>H.value=!1),onOpen:l[10]||(l[10]=e=>H.value=!0)},{default:c((()=>[m(a,{class:"p-4 flex justify-between items-center"},{default:c((()=>[m(a),m(a,{class:"flex !text-center font-bold text-[30rpx]"},{default:c((()=>[M("其他记账")])),_:1}),m(t,{name:"close",size:"15",onClick:l[8]||(l[8]=e=>H.value=!1)})])),_:1}),m(ue),m(a,{class:"p-4 flex flex-col mb-5"},{default:c((()=>[M(" 记录非回收类业务的支出，方便查看当月或历史的额外支出和收入，例如：房租、水电、展会查出等。 ")])),_:1})])),_:1},8,["show"]),m(O,{show:J.value,title:"请选择订单类型",list:Z,selectItemSize:"normal","onUpdate:show":l[11]||(l[11]=e=>J.value=e),onSelect:K},null,8,["show","list"]),m(de,{ref_key:"firstTimePickerRef",ref:se,show:te.value,modelValue:G.firstTime,"onUpdate:modelValue":l[12]||(l[12]=e=>G.firstTime=e),mode:"year-month",title:"选择时间",onCancel:l[13]||(l[13]=e=>te.value=!1),formatter:me,onConfirm:ne},null,8,["show","modelValue"]),m(de,{ref_key:"lastTimePickerRef",ref:oe,show:ae.value,modelValue:G.lastTime,"onUpdate:modelValue":l[14]||(l[14]=e=>G.lastTime=e),mode:"year-month",title:"选择时间",onCancel:l[15]||(l[15]=e=>ae.value=!1),formatter:me,onConfirm:re},null,8,["show","modelValue"])],64)}}}),[["__scopeId","data-v-ad5a223f"]]);export{G as default};
