import{aN as e,d as l,r as t,W as a,a5 as s,f as o,w as r,n as i,a6 as n,i as c,b as u,aZ as d,e as m,ah as f,ar as p,as as _,l as h,D as x,aI as b,cs as v,aM as y,cg as w,a4 as g,o as C,u as k,a as j,p as z,s as B,at as I,c as S,t as T,R as P,_ as M}from"./index-DlbBJ3bC.js";import{_ as U}from"./mescroll-body.CzShuCTj.js";import{u as A}from"./useMescroll.lU6SPXzn.js";import"./mescroll-empty.lkR5ZfjC.js";const D=M(l({__name:"lists",setup(l){const M=t(!1);t(!1);const D=a([{name:"进行中",value:null},{name:"已删除",value:1}]);t(0);const R=e=>{Z.searchParams.is_recycle=e.value,O().resetUpScroll()},W=t(!1),q=t(0),H=()=>{Z.list.splice(q.value,1),W.value=!1},{mescrollInit:N,getMescroll:O}=A(_,p);t(!0);const Z=a({list:[],searchParams:{is_recycle:null}}),E=l=>{let t={page:l.num,limit:l.size,...Z.searchParams};var a;(a=t,e.get("saler_tools/shop_bill/lists",a)).then((({data:e})=>{let t=e.data,a=t.length;1==l.num&&(Z.list=[]),Z.list=Z.list.concat(t),l.endBySize(a,e.total)}))};return(e,l)=>{const t=u(m("up-icon"),h),a=c,p=u(m("up-navbar"),x),_=u(m("up-tabs"),b),A=u(m("up-sticky"),v),O=u(m("up-divider"),y),F=u(m("mescroll-body"),U),G=u(m("up-line"),w),J=u(m("up-popup"),d),K=u(m("up-button"),g),L=u(m("up-modal"),f);return C(),s(n,null,[o(a,{style:i(e.themeColor())},{default:r((()=>[o(p,{title:"对账单",autoBack:!1,safeAreaInsetTop:!0,placeholder:!0},{center:r((()=>[o(a,null,{default:r((()=>[o(t,{name:"question-circle",label:"对账单",labelPos:"left",onClick:l[0]||(l[0]=e=>M.value=!0),labelSize:"16",size:"18",color:"var(--theme-color-tips)",labelColor:"var(--theme-color-main)"})])),_:1})])),right:r((()=>[o(a,{class:"u-nav-slot",onClick:l[1]||(l[1]=e=>k(j)({url:"/addon/saler_tools/pages/shopBill/edit"}))},{default:r((()=>[o(a,{class:"text-base text-[var(--theme-color-primary)]"},{default:r((()=>[z(" 创建对账单 ")])),_:1})])),_:1})])),_:1}),o(A,{offsetTop:e.headerHeight()},{default:r((()=>[o(a,{class:"mescroll-fixed-header !bg-[#fff]"},{default:r((()=>[o(_,{list:D,activeStyle:"color:var(--theme-color-main);font-size:16px",lineWidth:"50",onChange:R,lineColor:"var(--theme-color-primary)",scrollable:!1,inactiveStyle:"color:var(--theme-color-tips)"},null,8,["list"])])),_:1})])),_:1},8,["offsetTop"]),o(F,{ref:"mescrollRef",onInit:k(N),onUp:E,onDown:E,top:"0",up:{empty:{tip:k(B)("no_goods")}}},{default:r((()=>[(C(!0),s(n,null,I(Z.list,((e,l)=>(C(),S(a,{key:l},{default:r((()=>[o(a,{class:"m-2 rounded bg-[#fff] flex flex-col text-xs sh",style:{"box-shadow":"var(--theme-box-shadow-weak)"},onClick:l=>k(j)({url:"/addon/saler_tools/pages/shopBill/detail",param:{bill_id:e.bill_id}})},{default:r((()=>[o(a,{class:"flex justify-between items-center px-3 pt-3 text-sm"},{default:r((()=>[o(a,{class:"flex justify-between items-center"},{default:r((()=>[o(a,null,{default:r((()=>[z(T(e.updateTime),1)])),_:2},1024),o(a,{class:"ml-2"},{default:r((()=>[z(T(e.bill_name),1)])),_:2},1024)])),_:2},1024),o(a,null,{default:r((()=>[o(t,{name:"arrow-right",size:"14"})])),_:1})])),_:2},1024),o(O,{hairline:!0,class:"!p-0 !my-2"}),o(a,{class:"px-3 my-1 text-[var(--theme-color-content)]"},{default:r((()=>[z(" 已选商品属性："+T(e.type),1)])),_:2},1024),o(a,{class:"px-3 my-1 text-[var(--theme-text-red)]"},{default:r((()=>[z(" 对账单总成本：￥"+T(e.money),1)])),_:2},1024),o(a,{class:"flex justify-between items-center px-3 mt-1 mb-3 text-[var(--theme-color-tips)]"},{default:r((()=>[o(a,{class:"flex justify-between items-center"},{default:r((()=>[o(a,null,{default:r((()=>[z("创建人："+T(e.create_name),1)])),_:2},1024),o(a,{class:"ml-2"},{default:r((()=>[z(T(e.create_time),1)])),_:2},1024)])),_:2},1024),o(a,{class:"flex w-[50px] justify-between items-center"},{default:r((()=>[o(t,{name:"/static/assets/order/edit.png",size:"18",onClick:P((l=>k(j)({url:"/addon/saler_tools/pages/shopBill/detail",param:{bill_id:e.bill_id}})),["stop"]),color:"var(--theme-color-primary)",bold:""},null,8,["onClick"]),o(a,{onClick:P((e=>(e=>{W.value=!0,q.value=e})(l)),["stop"])},{default:r((()=>[o(t,{name:"/static/assets/order/delete.png",size:"18",color:"var(--theme-color-primary)",bold:""})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1},8,["onInit","up"])])),_:1},8,["style"]),o(J,{show:M.value,mode:"bottom",onClose:l[3]||(l[3]=e=>M.value=!1),onOpen:l[4]||(l[4]=e=>M.value=!0)},{default:r((()=>[o(a,{class:"p-4 flex justify-between items-center"},{default:r((()=>[o(a),o(a,{class:"flex !text-center font-bold text-[30rpx]"},{default:r((()=>[z("对账单")])),_:1}),o(t,{name:"close",size:"15",onClick:l[2]||(l[2]=e=>M.value=!1)})])),_:1}),o(G),o(a,{class:"p-4 flex flex-col mb-5",style:{"text-indent":"1em"}},{default:r((()=>[z(" 创建需对账单的货品成本和现金金额，方便财务人员查看当月或历史的货品和资金周转情况。 ")])),_:1})])),_:1},8,["show"]),o(L,{show:W.value,"onUpdate:show":l[6]||(l[6]=e=>W.value=e),width:300,showConfirmButton:!1,contentTextAlign:"center"},{confirmButton:r((()=>[o(a,{class:"flex gap-3"},{default:r((()=>[o(K,{onClick:l[5]||(l[5]=e=>W.value=!1),class:"!text-[#303133]",color:"#f4f5f7",text:"取消"}),o(K,{text:"确定",onClick:H,color:"#e0b87a"})])),_:1})])),default:r((()=>[o(a,{class:"!box-border w-full text-[var(--theme-color-main)] text-center"},{default:r((()=>[z(" 是否确定删除对账单？ ")])),_:1})])),_:1},8,["show"])],64)}}}),[["__scopeId","data-v-2793de45"]]);export{D as default};
